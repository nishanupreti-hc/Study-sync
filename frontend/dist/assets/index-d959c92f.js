function bE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function CE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O0={exports:{}},gc={},F0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=Symbol.for("react.element"),AE=Symbol.for("react.portal"),kE=Symbol.for("react.fragment"),PE=Symbol.for("react.strict_mode"),RE=Symbol.for("react.profiler"),jE=Symbol.for("react.provider"),DE=Symbol.for("react.context"),ME=Symbol.for("react.forward_ref"),VE=Symbol.for("react.suspense"),LE=Symbol.for("react.memo"),OE=Symbol.for("react.lazy"),Fp=Symbol.iterator;function FE(t){return t===null||typeof t!="object"?null:(t=Fp&&t[Fp]||t["@@iterator"],typeof t=="function"?t:null)}var U0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,$0={};function ui(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||U0}ui.prototype.isReactComponent={};ui.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ui.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B0(){}B0.prototype=ui.prototype;function $h(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||U0}var Bh=$h.prototype=new B0;Bh.constructor=$h;z0(Bh,ui.prototype);Bh.isPureReactComponent=!0;var Up=Array.isArray,H0=Object.prototype.hasOwnProperty,Hh={current:null},q0={key:!0,ref:!0,__self:!0,__source:!0};function W0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)H0.call(e,r)&&!q0.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Wo,type:t,key:i,ref:o,props:s,_owner:Hh.current}}function UE(t,e){return{$$typeof:Wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wo}function zE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zp=/\/+/g;function Au(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zE(""+t.key):e.toString(36)}function Za(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wo:case AE:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Au(o,0):r,Up(s)?(n="",t!=null&&(n=t.replace(zp,"$&/")+"/"),Za(s,e,n,"",function(d){return d})):s!=null&&(qh(s)&&(s=UE(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Up(t))for(var c=0;c<t.length;c++){i=t[c];var u=r+Au(i,c);o+=Za(i,e,n,u,s)}else if(u=FE(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=r+Au(i,c++),o+=Za(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ka(t,e,n){if(t==null)return t;var r=[],s=0;return Za(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $E(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},el={transition:null},BE={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:el,ReactCurrentOwner:Hh};function G0(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ka,forEach:function(t,e,n){ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ka(t,function(){e++}),e},toArray:function(t){return ka(t,function(e){return e})||[]},only:function(t){if(!qh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=ui;ne.Fragment=kE;ne.Profiler=RE;ne.PureComponent=$h;ne.StrictMode=PE;ne.Suspense=VE;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BE;ne.act=G0;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Hh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)H0.call(e,u)&&!q0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Wo,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:DE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jE,_context:t},t.Consumer=t};ne.createElement=W0;ne.createFactory=function(t){var e=W0.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:ME,render:t}};ne.isValidElement=qh;ne.lazy=function(t){return{$$typeof:OE,_payload:{_status:-1,_result:t},_init:$E}};ne.memo=function(t,e){return{$$typeof:LE,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=el.transition;el.transition={};try{t()}finally{el.transition=e}};ne.unstable_act=G0;ne.useCallback=function(t,e){return mt.current.useCallback(t,e)};ne.useContext=function(t){return mt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return mt.current.useEffect(t,e)};ne.useId=function(){return mt.current.useId()};ne.useImperativeHandle=function(t,e,n){return mt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return mt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return mt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return mt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return mt.current.useReducer(t,e,n)};ne.useRef=function(t){return mt.current.useRef(t)};ne.useState=function(t){return mt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return mt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return mt.current.useTransition()};ne.version="18.3.1";F0.exports=ne;var D=F0.exports;const Wh=CE(D),HE=bE({__proto__:null,default:Wh},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE=D,WE=Symbol.for("react.element"),GE=Symbol.for("react.fragment"),KE=Object.prototype.hasOwnProperty,QE=qE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JE={key:!0,ref:!0,__self:!0,__source:!0};function K0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KE.call(e,r)&&!JE.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WE,type:t,key:i,ref:o,props:s,_owner:QE.current}}gc.Fragment=GE;gc.jsx=K0;gc.jsxs=K0;O0.exports=gc;var l=O0.exports,yd={},Q0={exports:{}},kt={},J0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var F=V.length;V.push($);e:for(;0<F;){var K=F-1>>>1,Y=V[K];if(0<s(Y,$))V[K]=$,V[F]=Y,F=K;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],F=V.pop();if(F!==$){V[0]=F;e:for(var K=0,Y=V.length,he=Y>>>1;K<he;){var Ut=2*(K+1)-1,pn=V[Ut],gn=Ut+1,en=V[gn];if(0>s(pn,F))gn<Y&&0>s(en,pn)?(V[K]=en,V[gn]=F,K=gn):(V[K]=pn,V[Ut]=F,K=Ut);else if(gn<Y&&0>s(en,F))V[K]=en,V[gn]=F,K=gn;else break e}}return $}function s(V,$){var F=V.sortIndex-$.sortIndex;return F!==0?F:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,g=3,E=!1,b=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=V)r(d),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(d)}}function P(V){if(k=!1,T(V),!b)if(n(u)!==null)b=!0,$e(z);else{var $=n(d);$!==null&&Je(P,$.startTime-V)}}function z(V,$){b=!1,k&&(k=!1,_(v),v=-1),E=!0;var F=g;try{for(T($),p=n(u);p!==null&&(!(p.expirationTime>$)||V&&!A());){var K=p.callback;if(typeof K=="function"){p.callback=null,g=p.priorityLevel;var Y=K(p.expirationTime<=$);$=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(u)&&r(u),T($)}else r(u);p=n(u)}if(p!==null)var he=!0;else{var Ut=n(d);Ut!==null&&Je(P,Ut.startTime-$),he=!1}return he}finally{p=null,g=F,E=!1}}var L=!1,w=null,v=-1,I=5,S=-1;function A(){return!(t.unstable_now()-S<I)}function R(){if(w!==null){var V=t.unstable_now();S=V;var $=!0;try{$=w(!0,V)}finally{$?N():(L=!1,w=null)}}else L=!1}var N;if(typeof y=="function")N=function(){y(R)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,lt=Me.port2;Me.port1.onmessage=R,N=function(){lt.postMessage(null)}}else N=function(){C(R,0)};function $e(V){w=V,L||(L=!0,N())}function Je(V,$){v=C(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){b||E||(b=!0,$e(z))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var F=g;g=$;try{return V()}finally{g=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=g;g=V;try{return $()}finally{g=F}},t.unstable_scheduleCallback=function(V,$,F){var K=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?K+F:K):F=K,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=F+Y,V={id:f++,callback:$,priorityLevel:V,startTime:F,expirationTime:Y,sortIndex:-1},F>K?(V.sortIndex=F,e(d,V),n(u)===null&&V===n(d)&&(k?(_(v),v=-1):k=!0,Je(P,F-K))):(V.sortIndex=Y,e(u,V),b||E||(b=!0,$e(z))),V},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(V){var $=g;return function(){var F=g;g=$;try{return V.apply(this,arguments)}finally{g=F}}}})(Y0);J0.exports=Y0;var YE=J0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE=D,At=YE;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,xo={};function cs(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(xo[t]=e,t=0;t<e.length;t++)X0.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=Object.prototype.hasOwnProperty,ZE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$p={},Bp={};function eT(t){return vd.call(Bp,t)?!0:vd.call($p,t)?!1:ZE.test(t)?Bp[t]=!0:($p[t]=!0,!1)}function tT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nT(t,e,n,r){if(e===null||typeof e>"u"||tT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gh=/[\-:]([a-z])/g;function Kh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gh,Kh);Ke[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gh,Kh);Ke[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gh,Kh);Ke[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qh(t,e,n,r){var s=Ke.hasOwnProperty(e)?Ke[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nT(e,n,s,r)&&(n=null),r||s===null?eT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vn=XE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),ev=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),_d=Symbol.for("react.suspense"),wd=Symbol.for("react.suspense_list"),Xh=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),tv=Symbol.for("react.offscreen"),Hp=Symbol.iterator;function Oi(t){return t===null||typeof t!="object"?null:(t=Hp&&t[Hp]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,ku;function Gi(t){if(ku===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ku=e&&e[1]||""}return`
`+ku+t}var Pu=!1;function Ru(t,e){if(!t||Pu)return"";Pu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{Pu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gi(t):""}function rT(t){switch(t.tag){case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return t=Ru(t.type,!1),t;case 11:return t=Ru(t.type.render,!1),t;case 1:return t=Ru(t.type,!0),t;default:return""}}function Ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ts:return"Fragment";case Es:return"Portal";case xd:return"Profiler";case Jh:return"StrictMode";case _d:return"Suspense";case wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ev:return(t.displayName||"Context")+".Consumer";case Z0:return(t._context.displayName||"Context")+".Provider";case Yh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xh:return e=t.displayName||null,e!==null?e:Ed(t.type)||"Memo";case qn:e=t._payload,t=t._init;try{return Ed(t(e))}catch{}}return null}function sT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ed(e);case 8:return e===Jh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iT(t){var e=nv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ra(t){t._valueTracker||(t._valueTracker=iT(t))}function rv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Td(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sv(t,e){e=e.checked,e!=null&&Qh(t,"checked",e,!1)}function Id(t,e){sv(t,e);var n=vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sd(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sd(t,e,n){(e!=="number"||wl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ki=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Nd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ki(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function iv(t,e){var n=vr(e.value),r=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ov(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ov(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ja,av=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oT=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(t){oT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ro[e]=ro[t]})});function lv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ro.hasOwnProperty(t)&&ro[t]?(""+e).trim():e+"px"}function cv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=lv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aT=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cd(t,e){if(e){if(aT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Ad(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function Zh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pd=null,Vs=null,Ls=null;function Qp(t){if(t=Qo(t)){if(typeof Pd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=wc(e),Pd(t.stateNode,t.type,e))}}function uv(t){Vs?Ls?Ls.push(t):Ls=[t]:Vs=t}function dv(){if(Vs){var t=Vs,e=Ls;if(Ls=Vs=null,Qp(t),e)for(t=0;t<e.length;t++)Qp(e[t])}}function hv(t,e){return t(e)}function fv(){}var ju=!1;function mv(t,e,n){if(ju)return t(e,n);ju=!0;try{return hv(t,e,n)}finally{ju=!1,(Vs!==null||Ls!==null)&&(fv(),dv())}}function wo(t,e){var n=t.stateNode;if(n===null)return null;var r=wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Rd=!1;if(Cn)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Rd=!1}function lT(t,e,n,r,s,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var so=!1,El=null,Tl=!1,jd=null,cT={onError:function(t){so=!0,El=t}};function uT(t,e,n,r,s,i,o,c,u){so=!1,El=null,lT.apply(cT,arguments)}function dT(t,e,n,r,s,i,o,c,u){if(uT.apply(this,arguments),so){if(so){var d=El;so=!1,El=null}else throw Error(B(198));Tl||(Tl=!0,jd=d)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jp(t){if(us(t)!==t)throw Error(B(188))}function hT(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Jp(s),t;if(i===r)return Jp(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function gv(t){return t=hT(t),t!==null?yv(t):null}function yv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yv(t);if(e!==null)return e;t=t.sibling}return null}var vv=At.unstable_scheduleCallback,Yp=At.unstable_cancelCallback,fT=At.unstable_shouldYield,mT=At.unstable_requestPaint,Ce=At.unstable_now,pT=At.unstable_getCurrentPriorityLevel,ef=At.unstable_ImmediatePriority,xv=At.unstable_UserBlockingPriority,Il=At.unstable_NormalPriority,gT=At.unstable_LowPriority,_v=At.unstable_IdlePriority,yc=null,an=null;function yT(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(yc,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:_T,vT=Math.log,xT=Math.LN2;function _T(t){return t>>>=0,t===0?32:31-(vT(t)/xT|0)|0}var Da=64,Ma=4194304;function Qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=Qi(c):(i&=o,i!==0&&(r=Qi(i)))}else o=n&~s,o!==0?r=Qi(o):i!==0&&(r=Qi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gt(e),s=1<<n,r|=t[n],e&=~s;return r}function wT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ET(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Gt(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=wT(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function Dd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wv(){var t=Da;return Da<<=1,!(Da&4194240)&&(Da=64),t}function Du(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gt(e),t[e]=n}function TT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function tf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function Ev(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tv,nf,Iv,Sv,Nv,Md=!1,Va=[],rr=null,sr=null,ir=null,Eo=new Map,To=new Map,Kn=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xp(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(e.pointerId)}}function Ui(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Qo(e),e!==null&&nf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ST(t,e,n,r,s){switch(e){case"focusin":return rr=Ui(rr,t,e,n,r,s),!0;case"dragenter":return sr=Ui(sr,t,e,n,r,s),!0;case"mouseover":return ir=Ui(ir,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Eo.set(i,Ui(Eo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,To.set(i,Ui(To.get(i)||null,t,e,n,r,s)),!0}return!1}function bv(t){var e=Br(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=pv(n),e!==null){t.blockedOn=e,Nv(t.priority,function(){Iv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kd=r,n.target.dispatchEvent(r),kd=null}else return e=Qo(n),e!==null&&nf(e),t.blockedOn=n,!1;e.shift()}return!0}function Zp(t,e,n){tl(t)&&n.delete(e)}function NT(){Md=!1,rr!==null&&tl(rr)&&(rr=null),sr!==null&&tl(sr)&&(sr=null),ir!==null&&tl(ir)&&(ir=null),Eo.forEach(Zp),To.forEach(Zp)}function zi(t,e){t.blockedOn===e&&(t.blockedOn=null,Md||(Md=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,NT)))}function Io(t){function e(s){return zi(s,t)}if(0<Va.length){zi(Va[0],t);for(var n=1;n<Va.length;n++){var r=Va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rr!==null&&zi(rr,t),sr!==null&&zi(sr,t),ir!==null&&zi(ir,t),Eo.forEach(e),To.forEach(e),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)bv(n),n.blockedOn===null&&Kn.shift()}var Os=Vn.ReactCurrentBatchConfig,Nl=!0;function bT(t,e,n,r){var s=ue,i=Os.transition;Os.transition=null;try{ue=1,rf(t,e,n,r)}finally{ue=s,Os.transition=i}}function CT(t,e,n,r){var s=ue,i=Os.transition;Os.transition=null;try{ue=4,rf(t,e,n,r)}finally{ue=s,Os.transition=i}}function rf(t,e,n,r){if(Nl){var s=Vd(t,e,n,r);if(s===null)Hu(t,e,r,bl,n),Xp(t,r);else if(ST(s,t,e,n,r))r.stopPropagation();else if(Xp(t,r),e&4&&-1<IT.indexOf(t)){for(;s!==null;){var i=Qo(s);if(i!==null&&Tv(i),i=Vd(t,e,n,r),i===null&&Hu(t,e,r,bl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hu(t,e,r,null,n)}}var bl=null;function Vd(t,e,n,r){if(bl=null,t=Zh(r),t=Br(t),t!==null)if(e=us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bl=t,null}function Cv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pT()){case ef:return 1;case xv:return 4;case Il:case gT:return 16;case _v:return 536870912;default:return 16}default:return 16}}var Zn=null,sf=null,nl=null;function Av(){if(nl)return nl;var t,e=sf,n=e.length,r,s="value"in Zn?Zn.value:Zn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return nl=s.slice(t,1<r?1-r:void 0)}function rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function La(){return!0}function eg(){return!1}function Pt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?La:eg,this.isPropagationStopped=eg,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),e}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=Pt(di),Ko=Ee({},di,{view:0,detail:0}),AT=Pt(Ko),Mu,Vu,$i,vc=Ee({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(Mu=t.screenX-$i.screenX,Vu=t.screenY-$i.screenY):Vu=Mu=0,$i=t),Mu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),tg=Pt(vc),kT=Ee({},vc,{dataTransfer:0}),PT=Pt(kT),RT=Ee({},Ko,{relatedTarget:0}),Lu=Pt(RT),jT=Ee({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),DT=Pt(jT),MT=Ee({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VT=Pt(MT),LT=Ee({},di,{data:0}),ng=Pt(LT),OT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UT[t])?!!e[t]:!1}function af(){return zT}var $T=Ee({},Ko,{key:function(t){if(t.key){var e=OT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BT=Pt($T),HT=Ee({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rg=Pt(HT),qT=Ee({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),WT=Pt(qT),GT=Ee({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),KT=Pt(GT),QT=Ee({},vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JT=Pt(QT),YT=[9,13,27,32],lf=Cn&&"CompositionEvent"in window,io=null;Cn&&"documentMode"in document&&(io=document.documentMode);var XT=Cn&&"TextEvent"in window&&!io,kv=Cn&&(!lf||io&&8<io&&11>=io),sg=String.fromCharCode(32),ig=!1;function Pv(t,e){switch(t){case"keyup":return YT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function ZT(t,e){switch(t){case"compositionend":return Rv(e);case"keypress":return e.which!==32?null:(ig=!0,sg);case"textInput":return t=e.data,t===sg&&ig?null:t;default:return null}}function eI(t,e){if(Is)return t==="compositionend"||!lf&&Pv(t,e)?(t=Av(),nl=sf=Zn=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kv&&e.locale!=="ko"?null:e.data;default:return null}}var tI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tI[t.type]:e==="textarea"}function jv(t,e,n,r){uv(r),e=Cl(e,"onChange"),0<e.length&&(n=new of("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oo=null,So=null;function nI(t){Hv(t,0)}function xc(t){var e=bs(t);if(rv(e))return t}function rI(t,e){if(t==="change")return e}var Dv=!1;if(Cn){var Ou;if(Cn){var Fu="oninput"in document;if(!Fu){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),Fu=typeof ag.oninput=="function"}Ou=Fu}else Ou=!1;Dv=Ou&&(!document.documentMode||9<document.documentMode)}function lg(){oo&&(oo.detachEvent("onpropertychange",Mv),So=oo=null)}function Mv(t){if(t.propertyName==="value"&&xc(So)){var e=[];jv(e,So,t,Zh(t)),mv(nI,e)}}function sI(t,e,n){t==="focusin"?(lg(),oo=e,So=n,oo.attachEvent("onpropertychange",Mv)):t==="focusout"&&lg()}function iI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xc(So)}function oI(t,e){if(t==="click")return xc(e)}function aI(t,e){if(t==="input"||t==="change")return xc(e)}function lI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xt=typeof Object.is=="function"?Object.is:lI;function No(t,e){if(Xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vd.call(e,s)||!Xt(t[s],e[s]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,e){var n=cg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cg(n)}}function Vv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lv(){for(var t=window,e=wl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wl(t.document)}return e}function cf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cI(t){var e=Lv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vv(n.ownerDocument.documentElement,n)){if(r!==null&&cf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ug(n,i);var o=ug(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uI=Cn&&"documentMode"in document&&11>=document.documentMode,Ss=null,Ld=null,ao=null,Od=!1;function dg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||Ss==null||Ss!==wl(r)||(r=Ss,"selectionStart"in r&&cf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ao&&No(ao,r)||(ao=r,r=Cl(Ld,"onSelect"),0<r.length&&(e=new of("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function Oa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ns={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},Uu={},Ov={};Cn&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function _c(t){if(Uu[t])return Uu[t];if(!Ns[t])return t;var e=Ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ov)return Uu[t]=e[n];return t}var Fv=_c("animationend"),Uv=_c("animationiteration"),zv=_c("animationstart"),$v=_c("transitionend"),Bv=new Map,hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,e){Bv.set(t,e),cs(e,[t])}for(var zu=0;zu<hg.length;zu++){var $u=hg[zu],dI=$u.toLowerCase(),hI=$u[0].toUpperCase()+$u.slice(1);Cr(dI,"on"+hI)}Cr(Fv,"onAnimationEnd");Cr(Uv,"onAnimationIteration");Cr(zv,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr($v,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function fg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dT(r,e,void 0,t),t.currentTarget=null}function Hv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;fg(s,c,d),i=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;fg(s,c,d),i=u}}}if(Tl)throw t=jd,Tl=!1,jd=null,t}function ge(t,e){var n=e[Bd];n===void 0&&(n=e[Bd]=new Set);var r=t+"__bubble";n.has(r)||(qv(e,t,2,!1),n.add(r))}function Bu(t,e,n){var r=0;e&&(r|=4),qv(n,t,r,e)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function bo(t){if(!t[Fa]){t[Fa]=!0,X0.forEach(function(n){n!=="selectionchange"&&(fI.has(n)||Bu(n,!1,t),Bu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fa]||(e[Fa]=!0,Bu("selectionchange",!1,e))}}function qv(t,e,n,r){switch(Cv(e)){case 1:var s=bT;break;case 4:s=CT;break;default:s=rf}n=s.bind(null,e,n,t),s=void 0,!Rd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Br(c),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}c=c.parentNode}}r=r.return}mv(function(){var d=i,f=Zh(n),p=[];e:{var g=Bv.get(t);if(g!==void 0){var E=of,b=t;switch(t){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":E=BT;break;case"focusin":b="focus",E=Lu;break;case"focusout":b="blur",E=Lu;break;case"beforeblur":case"afterblur":E=Lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=PT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=WT;break;case Fv:case Uv:case zv:E=DT;break;case $v:E=KT;break;case"scroll":E=AT;break;case"wheel":E=JT;break;case"copy":case"cut":case"paste":E=VT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=rg}var k=(e&4)!==0,C=!k&&t==="scroll",_=k?g!==null?g+"Capture":null:g;k=[];for(var y=d,T;y!==null;){T=y;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,_!==null&&(P=wo(y,_),P!=null&&k.push(Co(y,P,T)))),C)break;y=y.return}0<k.length&&(g=new E(g,b,null,n,f),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==kd&&(b=n.relatedTarget||n.fromElement)&&(Br(b)||b[An]))break e;if((E||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,E?(b=n.relatedTarget||n.toElement,E=d,b=b?Br(b):null,b!==null&&(C=us(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(E=null,b=d),E!==b)){if(k=tg,P="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=rg,P="onPointerLeave",_="onPointerEnter",y="pointer"),C=E==null?g:bs(E),T=b==null?g:bs(b),g=new k(P,y+"leave",E,n,f),g.target=C,g.relatedTarget=T,P=null,Br(f)===d&&(k=new k(_,y+"enter",b,n,f),k.target=T,k.relatedTarget=C,P=k),C=P,E&&b)t:{for(k=E,_=b,y=0,T=k;T;T=ys(T))y++;for(T=0,P=_;P;P=ys(P))T++;for(;0<y-T;)k=ys(k),y--;for(;0<T-y;)_=ys(_),T--;for(;y--;){if(k===_||_!==null&&k===_.alternate)break t;k=ys(k),_=ys(_)}k=null}else k=null;E!==null&&mg(p,g,E,k,!1),b!==null&&C!==null&&mg(p,C,b,k,!0)}}e:{if(g=d?bs(d):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var z=rI;else if(og(g))if(Dv)z=aI;else{z=iI;var L=sI}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=oI);if(z&&(z=z(t,d))){jv(p,z,n,f);break e}L&&L(t,g,d),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&Sd(g,"number",g.value)}switch(L=d?bs(d):window,t){case"focusin":(og(L)||L.contentEditable==="true")&&(Ss=L,Ld=d,ao=null);break;case"focusout":ao=Ld=Ss=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,dg(p,n,f);break;case"selectionchange":if(uI)break;case"keydown":case"keyup":dg(p,n,f)}var w;if(lf)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Is?Pv(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(kv&&n.locale!=="ko"&&(Is||v!=="onCompositionStart"?v==="onCompositionEnd"&&Is&&(w=Av()):(Zn=f,sf="value"in Zn?Zn.value:Zn.textContent,Is=!0)),L=Cl(d,v),0<L.length&&(v=new ng(v,t,null,n,f),p.push({event:v,listeners:L}),w?v.data=w:(w=Rv(n),w!==null&&(v.data=w)))),(w=XT?ZT(t,n):eI(t,n))&&(d=Cl(d,"onBeforeInput"),0<d.length&&(f=new ng("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=w))}Hv(p,e)})}function Co(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wo(t,n),i!=null&&r.unshift(Co(t,i,s)),i=wo(t,e),i!=null&&r.push(Co(t,i,s))),t=t.return}return r}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,s?(u=wo(n,i),u!=null&&o.unshift(Co(n,u,c))):s||(u=wo(n,i),u!=null&&o.push(Co(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mI=/\r\n?/g,pI=/\u0000|\uFFFD/g;function pg(t){return(typeof t=="string"?t:""+t).replace(mI,`
`).replace(pI,"")}function Ua(t,e,n){if(e=pg(e),pg(t)!==e&&n)throw Error(B(425))}function Al(){}var Fd=null,Ud=null;function zd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,gI=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,yI=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(t){return gg.resolve(null).then(t).catch(vI)}:$d;function vI(t){setTimeout(function(){throw t})}function qu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Io(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Io(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),sn="__reactFiber$"+hi,Ao="__reactProps$"+hi,An="__reactContainer$"+hi,Bd="__reactEvents$"+hi,xI="__reactListeners$"+hi,_I="__reactHandles$"+hi;function Br(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yg(t);t!==null;){if(n=t[sn])return n;t=yg(t)}return e}t=n,n=t.parentNode}return null}function Qo(t){return t=t[sn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function wc(t){return t[Ao]||null}var Hd=[],Cs=-1;function Ar(t){return{current:t}}function ve(t){0>Cs||(t.current=Hd[Cs],Hd[Cs]=null,Cs--)}function me(t,e){Cs++,Hd[Cs]=t.current,t.current=e}var xr={},ot=Ar(xr),_t=Ar(!1),Yr=xr;function Ks(t,e){var n=t.type.contextTypes;if(!n)return xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wt(t){return t=t.childContextTypes,t!=null}function kl(){ve(_t),ve(ot)}function vg(t,e,n){if(ot.current!==xr)throw Error(B(168));me(ot,e),me(_t,n)}function Wv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,sT(t)||"Unknown",s));return Ee({},n,r)}function Pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xr,Yr=ot.current,me(ot,t),me(_t,_t.current),!0}function xg(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Wv(t,e,Yr),r.__reactInternalMemoizedMergedChildContext=t,ve(_t),ve(ot),me(ot,t)):ve(_t),me(_t,n)}var _n=null,Ec=!1,Wu=!1;function Gv(t){_n===null?_n=[t]:_n.push(t)}function wI(t){Ec=!0,Gv(t)}function kr(){if(!Wu&&_n!==null){Wu=!0;var t=0,e=ue;try{var n=_n;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_n=null,Ec=!1}catch(s){throw _n!==null&&(_n=_n.slice(t+1)),vv(ef,kr),s}finally{ue=e,Wu=!1}}return null}var As=[],ks=0,Rl=null,jl=0,Rt=[],jt=0,Xr=null,En=1,Tn="";function Ur(t,e){As[ks++]=jl,As[ks++]=Rl,Rl=t,jl=e}function Kv(t,e,n){Rt[jt++]=En,Rt[jt++]=Tn,Rt[jt++]=Xr,Xr=t;var r=En;t=Tn;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var i=32-Gt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,En=1<<32-Gt(e)+s|n<<s|r,Tn=i+t}else En=1<<i|n<<s|r,Tn=t}function uf(t){t.return!==null&&(Ur(t,1),Kv(t,1,0))}function df(t){for(;t===Rl;)Rl=As[--ks],As[ks]=null,jl=As[--ks],As[ks]=null;for(;t===Xr;)Xr=Rt[--jt],Rt[jt]=null,Tn=Rt[--jt],Rt[jt]=null,En=Rt[--jt],Rt[jt]=null}var Ct=null,Nt=null,xe=!1,qt=null;function Qv(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _g(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,Nt=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xr!==null?{id:En,overflow:Tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ct=t,Nt=null,!0):!1;default:return!1}}function qd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wd(t){if(xe){var e=Nt;if(e){var n=e;if(!_g(t,e)){if(qd(t))throw Error(B(418));e=or(n.nextSibling);var r=Ct;e&&_g(t,e)?Qv(r,n):(t.flags=t.flags&-4097|2,xe=!1,Ct=t)}}else{if(qd(t))throw Error(B(418));t.flags=t.flags&-4097|2,xe=!1,Ct=t}}}function wg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function za(t){if(t!==Ct)return!1;if(!xe)return wg(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zd(t.type,t.memoizedProps)),e&&(e=Nt)){if(qd(t))throw Jv(),Error(B(418));for(;e;)Qv(t,e),e=or(e.nextSibling)}if(wg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Ct?or(t.stateNode.nextSibling):null;return!0}function Jv(){for(var t=Nt;t;)t=or(t.nextSibling)}function Qs(){Nt=Ct=null,xe=!1}function hf(t){qt===null?qt=[t]:qt.push(t)}var EI=Vn.ReactCurrentBatchConfig;function Bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Eg(t){var e=t._init;return e(t._payload)}function Yv(t){function e(_,y){if(t){var T=_.deletions;T===null?(_.deletions=[y],_.flags|=16):T.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=ur(_,y),_.index=0,_.sibling=null,_}function i(_,y,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<y?(_.flags|=2,y):T):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function c(_,y,T,P){return y===null||y.tag!==6?(y=Zu(T,_.mode,P),y.return=_,y):(y=s(y,T),y.return=_,y)}function u(_,y,T,P){var z=T.type;return z===Ts?f(_,y,T.props.children,P,T.key):y!==null&&(y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===qn&&Eg(z)===y.type)?(P=s(y,T.props),P.ref=Bi(_,y,T),P.return=_,P):(P=ul(T.type,T.key,T.props,null,_.mode,P),P.ref=Bi(_,y,T),P.return=_,P)}function d(_,y,T,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=ed(T,_.mode,P),y.return=_,y):(y=s(y,T.children||[]),y.return=_,y)}function f(_,y,T,P,z){return y===null||y.tag!==7?(y=Qr(T,_.mode,P,z),y.return=_,y):(y=s(y,T),y.return=_,y)}function p(_,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zu(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:return T=ul(y.type,y.key,y.props,null,_.mode,T),T.ref=Bi(_,null,y),T.return=_,T;case Es:return y=ed(y,_.mode,T),y.return=_,y;case qn:var P=y._init;return p(_,P(y._payload),T)}if(Ki(y)||Oi(y))return y=Qr(y,_.mode,T,null),y.return=_,y;$a(_,y)}return null}function g(_,y,T,P){var z=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return z!==null?null:c(_,y,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Pa:return T.key===z?u(_,y,T,P):null;case Es:return T.key===z?d(_,y,T,P):null;case qn:return z=T._init,g(_,y,z(T._payload),P)}if(Ki(T)||Oi(T))return z!==null?null:f(_,y,T,P,null);$a(_,T)}return null}function E(_,y,T,P,z){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(T)||null,c(y,_,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Pa:return _=_.get(P.key===null?T:P.key)||null,u(y,_,P,z);case Es:return _=_.get(P.key===null?T:P.key)||null,d(y,_,P,z);case qn:var L=P._init;return E(_,y,T,L(P._payload),z)}if(Ki(P)||Oi(P))return _=_.get(T)||null,f(y,_,P,z,null);$a(y,P)}return null}function b(_,y,T,P){for(var z=null,L=null,w=y,v=y=0,I=null;w!==null&&v<T.length;v++){w.index>v?(I=w,w=null):I=w.sibling;var S=g(_,w,T[v],P);if(S===null){w===null&&(w=I);break}t&&w&&S.alternate===null&&e(_,w),y=i(S,y,v),L===null?z=S:L.sibling=S,L=S,w=I}if(v===T.length)return n(_,w),xe&&Ur(_,v),z;if(w===null){for(;v<T.length;v++)w=p(_,T[v],P),w!==null&&(y=i(w,y,v),L===null?z=w:L.sibling=w,L=w);return xe&&Ur(_,v),z}for(w=r(_,w);v<T.length;v++)I=E(w,_,v,T[v],P),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?v:I.key),y=i(I,y,v),L===null?z=I:L.sibling=I,L=I);return t&&w.forEach(function(A){return e(_,A)}),xe&&Ur(_,v),z}function k(_,y,T,P){var z=Oi(T);if(typeof z!="function")throw Error(B(150));if(T=z.call(T),T==null)throw Error(B(151));for(var L=z=null,w=y,v=y=0,I=null,S=T.next();w!==null&&!S.done;v++,S=T.next()){w.index>v?(I=w,w=null):I=w.sibling;var A=g(_,w,S.value,P);if(A===null){w===null&&(w=I);break}t&&w&&A.alternate===null&&e(_,w),y=i(A,y,v),L===null?z=A:L.sibling=A,L=A,w=I}if(S.done)return n(_,w),xe&&Ur(_,v),z;if(w===null){for(;!S.done;v++,S=T.next())S=p(_,S.value,P),S!==null&&(y=i(S,y,v),L===null?z=S:L.sibling=S,L=S);return xe&&Ur(_,v),z}for(w=r(_,w);!S.done;v++,S=T.next())S=E(w,_,v,S.value,P),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?v:S.key),y=i(S,y,v),L===null?z=S:L.sibling=S,L=S);return t&&w.forEach(function(R){return e(_,R)}),xe&&Ur(_,v),z}function C(_,y,T,P){if(typeof T=="object"&&T!==null&&T.type===Ts&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Pa:e:{for(var z=T.key,L=y;L!==null;){if(L.key===z){if(z=T.type,z===Ts){if(L.tag===7){n(_,L.sibling),y=s(L,T.props.children),y.return=_,_=y;break e}}else if(L.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===qn&&Eg(z)===L.type){n(_,L.sibling),y=s(L,T.props),y.ref=Bi(_,L,T),y.return=_,_=y;break e}n(_,L);break}else e(_,L);L=L.sibling}T.type===Ts?(y=Qr(T.props.children,_.mode,P,T.key),y.return=_,_=y):(P=ul(T.type,T.key,T.props,null,_.mode,P),P.ref=Bi(_,y,T),P.return=_,_=P)}return o(_);case Es:e:{for(L=T.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(_,y.sibling),y=s(y,T.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=ed(T,_.mode,P),y.return=_,_=y}return o(_);case qn:return L=T._init,C(_,y,L(T._payload),P)}if(Ki(T))return b(_,y,T,P);if(Oi(T))return k(_,y,T,P);$a(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,T),y.return=_,_=y):(n(_,y),y=Zu(T,_.mode,P),y.return=_,_=y),o(_)):n(_,y)}return C}var Js=Yv(!0),Xv=Yv(!1),Dl=Ar(null),Ml=null,Ps=null,ff=null;function mf(){ff=Ps=Ml=null}function pf(t){var e=Dl.current;ve(Dl),t._currentValue=e}function Gd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Ml=t,ff=Ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(ff!==t)if(t={context:t,memoizedValue:e,next:null},Ps===null){if(Ml===null)throw Error(B(308));Ps=t,Ml.dependencies={lanes:0,firstContext:t}}else Ps=Ps.next=t;return e}var Hr=null;function gf(t){Hr===null?Hr=[t]:Hr.push(t)}function Zv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gf(e)):(n.next=s.next,s.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ar(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,kn(t,n)}return s=r.interleaved,s===null?(e.next=e,gf(r)):(e.next=s.next,s.next=e),r.interleaved=e,kn(t,n)}function sl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tf(t,n)}}function Tg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vl(t,e,n,r){var s=t.updateQueue;Wn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,f=d=u=null,c=i;do{var g=c.lane,E=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=t,k=c;switch(g=e,E=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){p=b.call(E,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,g=typeof b=="function"?b.call(E,p,g):b,g==null)break e;p=Ee({},p,g);break e;case 2:Wn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[c]:g.push(c))}else E={eventTime:E,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=E,u=p):f=f.next=E,o|=g;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=p}}function Ig(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Jo={},ln=Ar(Jo),ko=Ar(Jo),Po=Ar(Jo);function qr(t){if(t===Jo)throw Error(B(174));return t}function vf(t,e){switch(me(Po,e),me(ko,t),me(ln,Jo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bd(e,t)}ve(ln),me(ln,e)}function Ys(){ve(ln),ve(ko),ve(Po)}function tx(t){qr(Po.current);var e=qr(ln.current),n=bd(e,t.type);e!==n&&(me(ko,t),me(ln,n))}function xf(t){ko.current===t&&(ve(ln),ve(ko))}var _e=Ar(0);function Ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gu=[];function _f(){for(var t=0;t<Gu.length;t++)Gu[t]._workInProgressVersionPrimary=null;Gu.length=0}var il=Vn.ReactCurrentDispatcher,Ku=Vn.ReactCurrentBatchConfig,Zr=0,we=null,Ve=null,Ue=null,Ol=!1,lo=!1,Ro=0,TI=0;function et(){throw Error(B(321))}function wf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xt(t[n],e[n]))return!1;return!0}function Ef(t,e,n,r,s,i){if(Zr=i,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,il.current=t===null||t.memoizedState===null?bI:CI,t=n(r,s),lo){i=0;do{if(lo=!1,Ro=0,25<=i)throw Error(B(301));i+=1,Ue=Ve=null,e.updateQueue=null,il.current=AI,t=n(r,s)}while(lo)}if(il.current=Fl,e=Ve!==null&&Ve.next!==null,Zr=0,Ue=Ve=we=null,Ol=!1,e)throw Error(B(300));return t}function Tf(){var t=Ro!==0;return Ro=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?we.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Ot(){if(Ve===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=Ue===null?we.memoizedState:Ue.next;if(e!==null)Ue=e,Ve=t;else{if(t===null)throw Error(B(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ue===null?we.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function jo(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ve,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=o=null,u=null,d=i;do{var f=d.lane;if((Zr&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,o=r):u=u.next=p,we.lanes|=f,es|=f}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=c,Xt(r,e.memoizedState)||(xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,we.lanes|=i,es|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ju(t){var e=Ot(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xt(i,e.memoizedState)||(xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nx(){}function rx(t,e){var n=we,r=Ot(),s=e(),i=!Xt(r.memoizedState,s);if(i&&(r.memoizedState=s,xt=!0),r=r.queue,If(ox.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Do(9,ix.bind(null,n,r,s,e),void 0,null),ze===null)throw Error(B(349));Zr&30||sx(n,e,s)}return s}function sx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ix(t,e,n,r){e.value=n,e.getSnapshot=r,ax(e)&&lx(t)}function ox(t,e,n){return n(function(){ax(e)&&lx(t)})}function ax(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xt(t,n)}catch{return!0}}function lx(t){var e=kn(t,1);e!==null&&Kt(e,t,1,-1)}function Sg(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},e.queue=t,t=t.dispatch=NI.bind(null,we,t),[e.memoizedState,t]}function Do(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cx(){return Ot().memoizedState}function ol(t,e,n,r){var s=nn();we.flags|=t,s.memoizedState=Do(1|e,n,void 0,r===void 0?null:r)}function Tc(t,e,n,r){var s=Ot();r=r===void 0?null:r;var i=void 0;if(Ve!==null){var o=Ve.memoizedState;if(i=o.destroy,r!==null&&wf(r,o.deps)){s.memoizedState=Do(e,n,i,r);return}}we.flags|=t,s.memoizedState=Do(1|e,n,i,r)}function Ng(t,e){return ol(8390656,8,t,e)}function If(t,e){return Tc(2048,8,t,e)}function ux(t,e){return Tc(4,2,t,e)}function dx(t,e){return Tc(4,4,t,e)}function hx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fx(t,e,n){return n=n!=null?n.concat([t]):null,Tc(4,4,hx.bind(null,e,t),n)}function Sf(){}function mx(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function px(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gx(t,e,n){return Zr&21?(Xt(n,e)||(n=wv(),we.lanes|=n,es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=n)}function II(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Ku.transition;Ku.transition={};try{t(!1),e()}finally{ue=n,Ku.transition=r}}function yx(){return Ot().memoizedState}function SI(t,e,n){var r=cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vx(t))xx(e,n);else if(n=Zv(t,e,n,r),n!==null){var s=ft();Kt(n,t,r,s),_x(n,e,r)}}function NI(t,e,n){var r=cr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vx(t))xx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,Xt(c,o)){var u=e.interleaved;u===null?(s.next=s,gf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Zv(t,e,s,r),n!==null&&(s=ft(),Kt(n,t,r,s),_x(n,e,r))}}function vx(t){var e=t.alternate;return t===we||e!==null&&e===we}function xx(t,e){lo=Ol=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _x(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tf(t,n)}}var Fl={readContext:Lt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},bI={readContext:Lt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:Ng,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ol(4194308,4,hx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return ol(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SI.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:Sg,useDebugValue:Sf,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=Sg(!1),e=t[0];return t=II.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,s=nn();if(xe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ze===null)throw Error(B(349));Zr&30||sx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ng(ox.bind(null,r,i,t),[t]),r.flags|=2048,Do(9,ix.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=ze.identifierPrefix;if(xe){var n=Tn,r=En;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ro++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CI={readContext:Lt,useCallback:mx,useContext:Lt,useEffect:If,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:px,useReducer:Qu,useRef:cx,useState:function(){return Qu(jo)},useDebugValue:Sf,useDeferredValue:function(t){var e=Ot();return gx(e,Ve.memoizedState,t)},useTransition:function(){var t=Qu(jo)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:yx,unstable_isNewReconciler:!1},AI={readContext:Lt,useCallback:mx,useContext:Lt,useEffect:If,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:px,useReducer:Ju,useRef:cx,useState:function(){return Ju(jo)},useDebugValue:Sf,useDeferredValue:function(t){var e=Ot();return Ve===null?e.memoizedState=t:gx(e,Ve.memoizedState,t)},useTransition:function(){var t=Ju(jo)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:yx,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ic={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),s=cr(t),i=Nn(r,s);i.payload=e,n!=null&&(i.callback=n),e=ar(t,i,s),e!==null&&(Kt(e,t,s,r),sl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),s=cr(t),i=Nn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ar(t,i,s),e!==null&&(Kt(e,t,s,r),sl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=cr(t),s=Nn(n,r);s.tag=2,e!=null&&(s.callback=e),e=ar(t,s,r),e!==null&&(Kt(e,t,r,n),sl(e,t,r))}};function bg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!No(n,r)||!No(s,i):!0}function wx(t,e,n){var r=!1,s=xr,i=e.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=wt(e)?Yr:ot.current,r=e.contextTypes,i=(r=r!=null)?Ks(t,s):xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ic,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Cg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ic.enqueueReplaceState(e,e.state,null)}function Qd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},yf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=wt(e)?Yr:ot.current,s.context=Ks(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ic.enqueueReplaceState(s,s.state,null),Vl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xs(t,e){try{var n="",r=e;do n+=rT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Yu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kI=typeof WeakMap=="function"?WeakMap:Map;function Ex(t,e,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zl||(zl=!0,oh=r),Jd(t,e)},n}function Tx(t,e,n){n=Nn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Jd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jd(t,e),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ag(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=HI.bind(null,t,e,n),e.then(t,t))}function kg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nn(-1,1),e.tag=2,ar(n,e,1))),n.lanes|=1),t)}var PI=Vn.ReactCurrentOwner,xt=!1;function ht(t,e,n,r){e.child=t===null?Xv(e,null,n,r):Js(e,t.child,n,r)}function Rg(t,e,n,r,s){n=n.render;var i=e.ref;return Fs(e,s),r=Ef(t,e,n,r,i,s),n=Tf(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pn(t,e,s)):(xe&&n&&uf(e),e.flags|=1,ht(t,e,r,s),e.child)}function jg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!jf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ix(t,e,i,r,s)):(t=ul(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(o,r)&&t.ref===e.ref)return Pn(t,e,s)}return e.flags|=1,t=ur(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ix(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(No(i,r)&&t.ref===e.ref)if(xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,Pn(t,e,s)}return Yd(t,e,n,r,s)}function Sx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(js,It),It|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(js,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(js,It),It|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(js,It),It|=r;return ht(t,e,s,n),e.child}function Nx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yd(t,e,n,r,s){var i=wt(n)?Yr:ot.current;return i=Ks(e,i),Fs(e,s),n=Ef(t,e,n,r,i,s),r=Tf(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pn(t,e,s)):(xe&&r&&uf(e),e.flags|=1,ht(t,e,n,s),e.child)}function Dg(t,e,n,r,s){if(wt(n)){var i=!0;Pl(e)}else i=!1;if(Fs(e,s),e.stateNode===null)al(t,e),wx(e,n,r),Qd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Lt(d):(d=wt(n)?Yr:ot.current,d=Ks(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Cg(e,o,r,d),Wn=!1;var g=e.memoizedState;o.state=g,Vl(e,r,o,s),u=e.memoizedState,c!==r||g!==u||_t.current||Wn?(typeof f=="function"&&(Kd(e,n,f,r),u=e.memoizedState),(c=Wn||bg(e,n,c,r,g,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ex(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Bt(e.type,c),o.props=d,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Lt(u):(u=wt(n)?Yr:ot.current,u=Ks(e,u));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||g!==u)&&Cg(e,o,r,u),Wn=!1,g=e.memoizedState,o.state=g,Vl(e,r,o,s);var b=e.memoizedState;c!==p||g!==b||_t.current||Wn?(typeof E=="function"&&(Kd(e,n,E,r),b=e.memoizedState),(d=Wn||bg(e,n,d,r,g,b,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Xd(t,e,n,r,i,s)}function Xd(t,e,n,r,s,i){Nx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&xg(e,n,!1),Pn(t,e,i);r=e.stateNode,PI.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Js(e,t.child,null,i),e.child=Js(e,null,c,i)):ht(t,e,c,i),e.memoizedState=r.state,s&&xg(e,n,!0),e.child}function bx(t){var e=t.stateNode;e.pendingContext?vg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vg(t,e.context,!1),vf(t,e.containerInfo)}function Mg(t,e,n,r,s){return Qs(),hf(s),e.flags|=256,ht(t,e,n,r),e.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function eh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cx(t,e,n){var r=e.pendingProps,s=_e.current,i=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(_e,s&1),t===null)return Wd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bc(o,r,0,null),t=Qr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=eh(n),e.memoizedState=Zd,t):Nf(e,o));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return RI(t,e,o,r,c,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ur(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=ur(c,i):(i=Qr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?eh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zd,r}return i=t.child,t=i.sibling,r=ur(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nf(t,e){return e=bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ba(t,e,n,r){return r!==null&&hf(r),Js(e,t.child,null,n),t=Nf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Yu(Error(B(422))),Ba(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bc({mode:"visible",children:r.children},s,0,null),i=Qr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Js(e,t.child,null,o),e.child.memoizedState=eh(o),e.memoizedState=Zd,i);if(!(e.mode&1))return Ba(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(B(419)),r=Yu(i,r,void 0),Ba(t,e,o,r)}if(c=(o&t.childLanes)!==0,xt||c){if(r=ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kn(t,s),Kt(r,t,s,-1))}return Rf(),r=Yu(Error(B(421))),Ba(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Nt=or(s.nextSibling),Ct=e,xe=!0,qt=null,t!==null&&(Rt[jt++]=En,Rt[jt++]=Tn,Rt[jt++]=Xr,En=t.id,Tn=t.overflow,Xr=e),e=Nf(e,r.children),e.flags|=4096,e)}function Vg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gd(t.return,e,n)}function Xu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ax(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ht(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vg(t,n,e);else if(t.tag===19)Vg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(_e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ll(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ll(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xu(e,!0,n,null,i);break;case"together":Xu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function al(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jI(t,e,n){switch(e.tag){case 3:bx(e),Qs();break;case 5:tx(e);break;case 1:wt(e.type)&&Pl(e);break;case 4:vf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(Dl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?Cx(t,e,n):(me(_e,_e.current&1),t=Pn(t,e,n),t!==null?t.sibling:null);me(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ax(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,Sx(t,e,n)}return Pn(t,e,n)}var kx,th,Px,Rx;kx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};th=function(){};Px=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qr(ln.current);var i=null;switch(n){case"input":s=Td(t,s),r=Td(t,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Nd(t,s),r=Nd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Al)}Cd(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(c=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xo.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ge("scroll",t),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Rx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hi(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DI(t,e,n){var r=e.pendingProps;switch(df(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return wt(e.type)&&kl(),tt(e),null;case 3:return r=e.stateNode,Ys(),ve(_t),ve(ot),_f(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qt!==null&&(ch(qt),qt=null))),th(t,e),tt(e),null;case 5:xf(e);var s=qr(Po.current);if(n=e.type,t!==null&&e.stateNode!=null)Px(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return tt(e),null}if(t=qr(ln.current),za(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sn]=e,r[Ao]=i,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(s=0;s<Ji.length;s++)ge(Ji[s],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":qp(r,i),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ge("invalid",r);break;case"textarea":Gp(r,i),ge("invalid",r)}Cd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ua(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ua(r.textContent,c,t),s=["children",""+c]):xo.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":Ra(r),Wp(r,i,!0);break;case"textarea":Ra(r),Kp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Al)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ov(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[Ao]=r,kx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ad(n,r),n){case"dialog":ge("cancel",t),ge("close",t),s=r;break;case"iframe":case"object":case"embed":ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ji.length;s++)ge(Ji[s],t);s=r;break;case"source":ge("error",t),s=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),s=r;break;case"details":ge("toggle",t),s=r;break;case"input":qp(t,r),s=Td(t,r),ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ge("invalid",t);break;case"textarea":Gp(t,r),s=Nd(t,r),ge("invalid",t);break;default:s=r}Cd(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?cv(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&av(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_o(t,u):typeof u=="number"&&_o(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ge("scroll",t):u!=null&&Qh(t,i,u,o))}switch(n){case"input":Ra(t),Wp(t,r,!1);break;case"textarea":Ra(t),Kp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ms(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)Rx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=qr(Po.current),qr(ln.current),za(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(i=r.nodeValue!==n)&&(t=Ct,t!==null))switch(t.tag){case 3:Ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ua(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return tt(e),null;case 13:if(ve(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&Nt!==null&&e.mode&1&&!(e.flags&128))Jv(),Qs(),e.flags|=98560,i=!1;else if(i=za(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[sn]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),i=!1}else qt!==null&&(ch(qt),qt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Le===0&&(Le=3):Rf())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Ys(),th(t,e),t===null&&bo(e.stateNode.containerInfo),tt(e),null;case 10:return pf(e.type._context),tt(e),null;case 17:return wt(e.type)&&kl(),tt(e),null;case 19:if(ve(_e),i=e.memoizedState,i===null)return tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Hi(i,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ll(t),o!==null){for(e.flags|=128,Hi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ce()>Zs&&(e.flags|=128,r=!0,Hi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ll(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xe)return tt(e),null}else 2*Ce()-i.renderingStartTime>Zs&&n!==1073741824&&(e.flags|=128,r=!0,Hi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ce(),e.sibling=null,n=_e.current,me(_e,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Pf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?It&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function MI(t,e){switch(df(e),e.tag){case 1:return wt(e.type)&&kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),ve(_t),ve(ot),_f(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xf(e),null;case 13:if(ve(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(_e),null;case 4:return Ys(),null;case 10:return pf(e.type._context),null;case 22:case 23:return Pf(),null;case 24:return null;default:return null}}var Ha=!1,st=!1,VI=typeof WeakSet=="function"?WeakSet:Set,G=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function nh(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Lg=!1;function LI(t,e){if(Fd=Nl,t=Lv(),cf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var E;p!==n||s!==0&&p.nodeType!==3||(c=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(E=p.firstChild)!==null;)g=p,p=E;for(;;){if(p===t)break t;if(g===n&&++d===s&&(c=o),g===i&&++f===r&&(u=o),(E=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=E}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ud={focusedElem:t,selectionRange:n},Nl=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,C=b.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?k:Bt(e.type,k),C);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){Se(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return b=Lg,Lg=!1,b}function co(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nh(e,n,i)}s=s.next}while(s!==r)}}function Sc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jx(t){var e=t.alternate;e!==null&&(t.alternate=null,jx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Ao],delete e[Bd],delete e[xI],delete e[_I])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dx(t){return t.tag===5||t.tag===3||t.tag===4}function Og(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Al));else if(r!==4&&(t=t.child,t!==null))for(sh(t,e,n),t=t.sibling;t!==null;)sh(t,e,n),t=t.sibling}function ih(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ih(t,e,n),t=t.sibling;t!==null;)ih(t,e,n),t=t.sibling}var He=null,Ht=!1;function Bn(t,e,n){for(n=n.child;n!==null;)Mx(t,e,n),n=n.sibling}function Mx(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(yc,n)}catch{}switch(n.tag){case 5:st||Rs(n,e);case 6:var r=He,s=Ht;He=null,Bn(t,e,n),He=r,Ht=s,He!==null&&(Ht?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ht?(t=He,n=n.stateNode,t.nodeType===8?qu(t.parentNode,n):t.nodeType===1&&qu(t,n),Io(t)):qu(He,n.stateNode));break;case 4:r=He,s=Ht,He=n.stateNode.containerInfo,Ht=!0,Bn(t,e,n),He=r,Ht=s;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nh(n,e,o),s=s.next}while(s!==r)}Bn(t,e,n);break;case 1:if(!st&&(Rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Se(n,e,c)}Bn(t,e,n);break;case 21:Bn(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Bn(t,e,n),st=r):Bn(t,e,n);break;default:Bn(t,e,n)}}function Fg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VI),e.forEach(function(r){var s=WI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $t(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:He=c.stateNode,Ht=!1;break e;case 3:He=c.stateNode.containerInfo,Ht=!0;break e;case 4:He=c.stateNode.containerInfo,Ht=!0;break e}c=c.return}if(He===null)throw Error(B(160));Mx(i,o,s),He=null,Ht=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Se(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vx(e,t),e=e.sibling}function Vx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(e,t),tn(t),r&4){try{co(3,t,t.return),Sc(3,t)}catch(k){Se(t,t.return,k)}try{co(5,t,t.return)}catch(k){Se(t,t.return,k)}}break;case 1:$t(e,t),tn(t),r&512&&n!==null&&Rs(n,n.return);break;case 5:if($t(e,t),tn(t),r&512&&n!==null&&Rs(n,n.return),t.flags&32){var s=t.stateNode;try{_o(s,"")}catch(k){Se(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&sv(s,i),Ad(c,o);var d=Ad(c,i);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?cv(s,p):f==="dangerouslySetInnerHTML"?av(s,p):f==="children"?_o(s,p):Qh(s,f,p,d)}switch(c){case"input":Id(s,i);break;case"textarea":iv(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?Ms(s,!!i.multiple,E,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ms(s,!!i.multiple,i.defaultValue,!0):Ms(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ao]=i}catch(k){Se(t,t.return,k)}}break;case 6:if($t(e,t),tn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){Se(t,t.return,k)}}break;case 3:if($t(e,t),tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Io(e.containerInfo)}catch(k){Se(t,t.return,k)}break;case 4:$t(e,t),tn(t);break;case 13:$t(e,t),tn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Af=Ce())),r&4&&Fg(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(st=(d=st)||f,$t(e,t),st=d):$t(e,t),tn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(G=t,f=t.child;f!==null;){for(p=G=f;G!==null;){switch(g=G,E=g.child,g.tag){case 0:case 11:case 14:case 15:co(4,g,g.return);break;case 1:Rs(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(k){Se(r,n,k)}}break;case 5:Rs(g,g.return);break;case 22:if(g.memoizedState!==null){zg(p);continue}}E!==null?(E.return=g,G=E):zg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=lv("display",o))}catch(k){Se(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(k){Se(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:$t(e,t),tn(t),r&4&&Fg(t);break;case 21:break;default:$t(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dx(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_o(s,""),r.flags&=-33);var i=Og(t);ih(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Og(t);sh(t,c,o);break;default:throw Error(B(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OI(t,e,n){G=t,Lx(t)}function Lx(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ha;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||st;c=Ha;var d=st;if(Ha=o,(st=u)&&!d)for(G=s;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?$g(s):u!==null?(u.return=o,G=u):$g(s);for(;i!==null;)G=i,Lx(i),i=i.sibling;G=s,Ha=c,st=d}Ug(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Ug(t)}}function Ug(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Sc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ig(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ig(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Io(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}st||e.flags&512&&rh(e)}catch(g){Se(e,e.return,g)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function zg(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function $g(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sc(4,e)}catch(u){Se(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Se(e,s,u)}}var i=e.return;try{rh(e)}catch(u){Se(e,i,u)}break;case 5:var o=e.return;try{rh(e)}catch(u){Se(e,o,u)}}}catch(u){Se(e,e.return,u)}if(e===t){G=null;break}var c=e.sibling;if(c!==null){c.return=e.return,G=c;break}G=e.return}}var FI=Math.ceil,Ul=Vn.ReactCurrentDispatcher,bf=Vn.ReactCurrentOwner,Vt=Vn.ReactCurrentBatchConfig,ae=0,ze=null,Pe=null,Ge=0,It=0,js=Ar(0),Le=0,Mo=null,es=0,Nc=0,Cf=0,uo=null,yt=null,Af=0,Zs=1/0,xn=null,zl=!1,oh=null,lr=null,qa=!1,er=null,$l=0,ho=0,ah=null,ll=-1,cl=0;function ft(){return ae&6?Ce():ll!==-1?ll:ll=Ce()}function cr(t){return t.mode&1?ae&2&&Ge!==0?Ge&-Ge:EI.transition!==null?(cl===0&&(cl=wv()),cl):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Cv(t.type)),t):1}function Kt(t,e,n,r){if(50<ho)throw ho=0,ah=null,Error(B(185));Go(t,n,r),(!(ae&2)||t!==ze)&&(t===ze&&(!(ae&2)&&(Nc|=n),Le===4&&Qn(t,Ge)),Et(t,r),n===1&&ae===0&&!(e.mode&1)&&(Zs=Ce()+500,Ec&&kr()))}function Et(t,e){var n=t.callbackNode;ET(t,e);var r=Sl(t,t===ze?Ge:0);if(r===0)n!==null&&Yp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yp(n),e===1)t.tag===0?wI(Bg.bind(null,t)):Gv(Bg.bind(null,t)),yI(function(){!(ae&6)&&kr()}),n=null;else{switch(Ev(r)){case 1:n=ef;break;case 4:n=xv;break;case 16:n=Il;break;case 536870912:n=_v;break;default:n=Il}n=qx(n,Ox.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ox(t,e){if(ll=-1,cl=0,ae&6)throw Error(B(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var r=Sl(t,t===ze?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bl(t,r);else{e=r;var s=ae;ae|=2;var i=Ux();(ze!==t||Ge!==e)&&(xn=null,Zs=Ce()+500,Kr(t,e));do try{$I();break}catch(c){Fx(t,c)}while(1);mf(),Ul.current=i,ae=s,Pe!==null?e=0:(ze=null,Ge=0,e=Le)}if(e!==0){if(e===2&&(s=Dd(t),s!==0&&(r=s,e=lh(t,s))),e===1)throw n=Mo,Kr(t,0),Qn(t,r),Et(t,Ce()),n;if(e===6)Qn(t,r);else{if(s=t.current.alternate,!(r&30)&&!UI(s)&&(e=Bl(t,r),e===2&&(i=Dd(t),i!==0&&(r=i,e=lh(t,i))),e===1))throw n=Mo,Kr(t,0),Qn(t,r),Et(t,Ce()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:zr(t,yt,xn);break;case 3:if(Qn(t,r),(r&130023424)===r&&(e=Af+500-Ce(),10<e)){if(Sl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$d(zr.bind(null,t,yt,xn),e);break}zr(t,yt,xn);break;case 4:if(Qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Gt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FI(r/1960))-r,10<r){t.timeoutHandle=$d(zr.bind(null,t,yt,xn),r);break}zr(t,yt,xn);break;case 5:zr(t,yt,xn);break;default:throw Error(B(329))}}}return Et(t,Ce()),t.callbackNode===n?Ox.bind(null,t):null}function lh(t,e){var n=uo;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=Bl(t,e),t!==2&&(e=yt,yt=n,e!==null&&ch(e)),t}function ch(t){yt===null?yt=t:yt.push.apply(yt,t)}function UI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~Cf,e&=~Nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gt(e),r=1<<n;t[n]=-1,e&=~r}}function Bg(t){if(ae&6)throw Error(B(327));Us();var e=Sl(t,0);if(!(e&1))return Et(t,Ce()),null;var n=Bl(t,e);if(t.tag!==0&&n===2){var r=Dd(t);r!==0&&(e=r,n=lh(t,r))}if(n===1)throw n=Mo,Kr(t,0),Qn(t,e),Et(t,Ce()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zr(t,yt,xn),Et(t,Ce()),null}function kf(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(Zs=Ce()+500,Ec&&kr())}}function ts(t){er!==null&&er.tag===0&&!(ae&6)&&Us();var e=ae;ae|=1;var n=Vt.transition,r=ue;try{if(Vt.transition=null,ue=1,t)return t()}finally{ue=r,Vt.transition=n,ae=e,!(ae&6)&&kr()}}function Pf(){It=js.current,ve(js)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gI(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(df(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:Ys(),ve(_t),ve(ot),_f();break;case 5:xf(r);break;case 4:Ys();break;case 13:ve(_e);break;case 19:ve(_e);break;case 10:pf(r.type._context);break;case 22:case 23:Pf()}n=n.return}if(ze=t,Pe=t=ur(t.current,null),Ge=It=e,Le=0,Mo=null,Cf=Nc=es=0,yt=uo=null,Hr!==null){for(e=0;e<Hr.length;e++)if(n=Hr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hr=null}return t}function Fx(t,e){do{var n=Pe;try{if(mf(),il.current=Fl,Ol){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ol=!1}if(Zr=0,Ue=Ve=we=null,lo=!1,Ro=0,bf.current=null,n===null||n.return===null){Le=1,Mo=e,Pe=null;break}e:{var i=t,o=n.return,c=n,u=e;if(e=Ge,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=kg(o);if(E!==null){E.flags&=-257,Pg(E,o,c,i,e),E.mode&1&&Ag(i,d,e),e=E,u=d;var b=e.updateQueue;if(b===null){var k=new Set;k.add(u),e.updateQueue=k}else b.add(u);break e}else{if(!(e&1)){Ag(i,d,e),Rf();break e}u=Error(B(426))}}else if(xe&&c.mode&1){var C=kg(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Pg(C,o,c,i,e),hf(Xs(u,c));break e}}i=u=Xs(u,c),Le!==4&&(Le=2),uo===null?uo=[i]:uo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Ex(i,u,e);Tg(i,_);break e;case 1:c=u;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(lr===null||!lr.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=Tx(i,c,e);Tg(i,P);break e}}i=i.return}while(i!==null)}$x(n)}catch(z){e=z,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function Ux(){var t=Ul.current;return Ul.current=Fl,t===null?Fl:t}function Rf(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(es&268435455)&&!(Nc&268435455)||Qn(ze,Ge)}function Bl(t,e){var n=ae;ae|=2;var r=Ux();(ze!==t||Ge!==e)&&(xn=null,Kr(t,e));do try{zI();break}catch(s){Fx(t,s)}while(1);if(mf(),ae=n,Ul.current=r,Pe!==null)throw Error(B(261));return ze=null,Ge=0,Le}function zI(){for(;Pe!==null;)zx(Pe)}function $I(){for(;Pe!==null&&!fT();)zx(Pe)}function zx(t){var e=Hx(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?$x(t):Pe=e,bf.current=null}function $x(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MI(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Pe=null;return}}else if(n=DI(n,e,It),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Le===0&&(Le=5)}function zr(t,e,n){var r=ue,s=Vt.transition;try{Vt.transition=null,ue=1,BI(t,e,n,r)}finally{Vt.transition=s,ue=r}return null}function BI(t,e,n,r){do Us();while(er!==null);if(ae&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TT(t,i),t===ze&&(Pe=ze=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qa||(qa=!0,qx(Il,function(){return Us(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vt.transition,Vt.transition=null;var o=ue;ue=1;var c=ae;ae|=4,bf.current=null,LI(t,n),Vx(n,t),cI(Ud),Nl=!!Fd,Ud=Fd=null,t.current=n,OI(n),mT(),ae=c,ue=o,Vt.transition=i}else t.current=n;if(qa&&(qa=!1,er=t,$l=s),i=t.pendingLanes,i===0&&(lr=null),yT(n.stateNode),Et(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zl)throw zl=!1,t=oh,oh=null,t;return $l&1&&t.tag!==0&&Us(),i=t.pendingLanes,i&1?t===ah?ho++:(ho=0,ah=t):ho=0,kr(),null}function Us(){if(er!==null){var t=Ev($l),e=Vt.transition,n=ue;try{if(Vt.transition=null,ue=16>t?16:t,er===null)var r=!1;else{if(t=er,er=null,$l=0,ae&6)throw Error(B(331));var s=ae;for(ae|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(G=d;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:co(8,f,i)}var p=f.child;if(p!==null)p.return=f,G=p;else for(;G!==null;){f=G;var g=f.sibling,E=f.return;if(jx(f),f===d){G=null;break}if(g!==null){g.return=E,G=g;break}G=E}}}var b=i.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:co(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,G=_;break e}G=i.return}}var y=t.current;for(G=y;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=y;G!==null;){if(c=G,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Sc(9,c)}}catch(z){Se(c,c.return,z)}if(c===o){G=null;break e}var P=c.sibling;if(P!==null){P.return=c.return,G=P;break e}G=c.return}}if(ae=s,kr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(yc,t)}catch{}r=!0}return r}finally{ue=n,Vt.transition=e}}return!1}function Hg(t,e,n){e=Xs(n,e),e=Ex(t,e,1),t=ar(t,e,1),e=ft(),t!==null&&(Go(t,1,e),Et(t,e))}function Se(t,e,n){if(t.tag===3)Hg(t,t,n);else for(;e!==null;){if(e.tag===3){Hg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){t=Xs(n,t),t=Tx(e,t,1),e=ar(e,t,1),t=ft(),e!==null&&(Go(e,1,t),Et(e,t));break}}e=e.return}}function HI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(Ge&n)===n&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>Ce()-Af?Kr(t,0):Cf|=n),Et(t,e)}function Bx(t,e){e===0&&(t.mode&1?(e=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):e=1);var n=ft();t=kn(t,e),t!==null&&(Go(t,e,n),Et(t,n))}function qI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bx(t,n)}function WI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Bx(t,n)}var Hx;Hx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_t.current)xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xt=!1,jI(t,e,n);xt=!!(t.flags&131072)}else xt=!1,xe&&e.flags&1048576&&Kv(e,jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;al(t,e),t=e.pendingProps;var s=Ks(e,ot.current);Fs(e,n),s=Ef(null,e,r,t,s,n);var i=Tf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(i=!0,Pl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yf(e),s.updater=Ic,e.stateNode=s,s._reactInternals=e,Qd(e,r,t,n),e=Xd(null,e,r,!0,i,n)):(e.tag=0,xe&&i&&uf(e),ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(al(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=KI(r),t=Bt(r,t),s){case 0:e=Yd(null,e,r,t,n);break e;case 1:e=Dg(null,e,r,t,n);break e;case 11:e=Rg(null,e,r,t,n);break e;case 14:e=jg(null,e,r,Bt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Yd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Dg(t,e,r,s,n);case 3:e:{if(bx(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ex(t,e),Vl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xs(Error(B(423)),e),e=Mg(t,e,r,n,s);break e}else if(r!==s){s=Xs(Error(B(424)),e),e=Mg(t,e,r,n,s);break e}else for(Nt=or(e.stateNode.containerInfo.firstChild),Ct=e,xe=!0,qt=null,n=Xv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===s){e=Pn(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return tx(e),t===null&&Wd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,zd(r,s)?o=null:i!==null&&zd(r,i)&&(e.flags|=32),Nx(t,e),ht(t,e,o,n),e.child;case 6:return t===null&&Wd(e),null;case 13:return Cx(t,e,n);case 4:return vf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Js(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Rg(t,e,r,s,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,me(Dl,r._currentValue),r._currentValue=o,i!==null)if(Xt(i.value,o)){if(i.children===s.children&&!_t.current){e=Pn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Nn(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Gd(i.return,n,e),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Gd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fs(e,n),s=Lt(s),r=r(s),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,s=Bt(r,e.pendingProps),s=Bt(r.type,s),jg(t,e,r,s,n);case 15:return Ix(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),al(t,e),e.tag=1,wt(r)?(t=!0,Pl(e)):t=!1,Fs(e,n),wx(e,r,s),Qd(e,r,s,n),Xd(null,e,r,!0,t,n);case 19:return Ax(t,e,n);case 22:return Sx(t,e,n)}throw Error(B(156,e.tag))};function qx(t,e){return vv(t,e)}function GI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new GI(t,e,n,r)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KI(t){if(typeof t=="function")return jf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yh)return 11;if(t===Xh)return 14}return 2}function ur(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ul(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")jf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ts:return Qr(n.children,s,i,e);case Jh:o=8,s|=8;break;case xd:return t=Mt(12,n,e,s|2),t.elementType=xd,t.lanes=i,t;case _d:return t=Mt(13,n,e,s),t.elementType=_d,t.lanes=i,t;case wd:return t=Mt(19,n,e,s),t.elementType=wd,t.lanes=i,t;case tv:return bc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z0:o=10;break e;case ev:o=9;break e;case Yh:o=11;break e;case Xh:o=14;break e;case qn:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Mt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Qr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function bc(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=tv,t.lanes=n,t.stateNode={isHidden:!1},t}function Zu(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function ed(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Du(0),this.expirationTimes=Du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Du(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Df(t,e,n,r,s,i,o,c,u){return t=new QI(t,e,n,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yf(i),t}function JI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wx(t){if(!t)return xr;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(wt(n))return Wv(t,n,e)}return e}function Gx(t,e,n,r,s,i,o,c,u){return t=Df(n,r,!0,t,s,i,o,c,u),t.context=Wx(null),n=t.current,r=ft(),s=cr(n),i=Nn(r,s),i.callback=e??null,ar(n,i,s),t.current.lanes=s,Go(t,s,r),Et(t,r),t}function Cc(t,e,n,r){var s=e.current,i=ft(),o=cr(s);return n=Wx(n),e.context===null?e.context=n:e.pendingContext=n,e=Nn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ar(s,e,o),t!==null&&(Kt(t,s,o,i),sl(t,s,o)),o}function Hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mf(t,e){qg(t,e),(t=t.alternate)&&qg(t,e)}function YI(){return null}var Kx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vf(t){this._internalRoot=t}Ac.prototype.render=Vf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Cc(t,e,null,null)};Ac.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){Cc(null,t,null,null)}),e[An]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kn.length&&e!==0&&e<Kn[n].priority;n++);Kn.splice(n,0,t),n===0&&bv(t)}};function Lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function XI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Hl(o);i.call(d)}}var o=Gx(e,r,t,0,null,!1,!1,"",Wg);return t._reactRootContainer=o,t[An]=o.current,bo(t.nodeType===8?t.parentNode:t),ts(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var d=Hl(u);c.call(d)}}var u=Df(t,0,!1,null,null,!1,!1,"",Wg);return t._reactRootContainer=u,t[An]=u.current,bo(t.nodeType===8?t.parentNode:t),ts(function(){Cc(e,u,n,r)}),u}function Pc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=Hl(o);c.call(u)}}Cc(e,o,t,s)}else o=XI(n,e,t,s,r);return Hl(o)}Tv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qi(e.pendingLanes);n!==0&&(tf(e,n|1),Et(e,Ce()),!(ae&6)&&(Zs=Ce()+500,kr()))}break;case 13:ts(function(){var r=kn(t,1);if(r!==null){var s=ft();Kt(r,t,1,s)}}),Mf(t,1)}};nf=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=ft();Kt(e,t,134217728,n)}Mf(t,134217728)}};Iv=function(t){if(t.tag===13){var e=cr(t),n=kn(t,e);if(n!==null){var r=ft();Kt(n,t,e,r)}Mf(t,e)}};Sv=function(){return ue};Nv=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Pd=function(t,e,n){switch(e){case"input":if(Id(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wc(r);if(!s)throw Error(B(90));rv(r),Id(r,s)}}}break;case"textarea":iv(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};hv=kf;fv=ts;var ZI={usingClientEntryPoint:!1,Events:[Qo,bs,wc,uv,dv,kf]},qi={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e2={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gv(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||YI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{yc=Wa.inject(e2),an=Wa}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZI;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lf(e))throw Error(B(200));return JI(t,e,null,n)};kt.createRoot=function(t,e){if(!Lf(t))throw Error(B(299));var n=!1,r="",s=Kx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Df(t,1,!1,null,null,n,!1,r,s),t[An]=e.current,bo(t.nodeType===8?t.parentNode:t),new Vf(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=gv(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return ts(t)};kt.hydrate=function(t,e,n){if(!kc(e))throw Error(B(200));return Pc(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!Lf(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Kx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Gx(e,null,t,1,n??null,s,!1,i,o),t[An]=e.current,bo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ac(e)};kt.render=function(t,e,n){if(!kc(e))throw Error(B(200));return Pc(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!kc(t))throw Error(B(40));return t._reactRootContainer?(ts(function(){Pc(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};kt.unstable_batchedUpdates=kf;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Pc(t,e,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function Qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qx)}catch(t){console.error(t)}}Qx(),Q0.exports=kt;var t2=Q0.exports,Gg=t2;yd.createRoot=Gg.createRoot,yd.hydrateRoot=Gg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));const Kg="popstate";function n2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:c}=r.location;return uh("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ql(s)}return s2(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r2(){return Math.random().toString(36).substr(2,8)}function Qg(t,e){return{usr:t.state,key:t.key,idx:e}}function uh(t,e,n,r){return n===void 0&&(n=null),Vo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fi(e):e,{state:n,key:e&&e.key||r||r2()})}function ql(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function s2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c=tr.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(Vo({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){c=tr.Pop;let C=f(),_=C==null?null:C-d;d=C,u&&u({action:c,location:k.location,delta:_})}function g(C,_){c=tr.Push;let y=uh(k.location,C,_);n&&n(y,C),d=f()+1;let T=Qg(y,d),P=k.createHref(y);try{o.pushState(T,"",P)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(P)}i&&u&&u({action:c,location:k.location,delta:1})}function E(C,_){c=tr.Replace;let y=uh(k.location,C,_);n&&n(y,C),d=f();let T=Qg(y,d),P=k.createHref(y);o.replaceState(T,"",P),i&&u&&u({action:c,location:k.location,delta:0})}function b(C){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof C=="string"?C:ql(C);return y=y.replace(/ $/,"%20"),Ae(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let k={get action(){return c},get location(){return t(s,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Kg,p),u=C,()=>{s.removeEventListener(Kg,p),u=null}},createHref(C){return e(s,C)},createURL:b,encodeLocation(C){let _=b(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:E,go(C){return o.go(C)}};return k}var Jg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jg||(Jg={}));function i2(t,e,n){return n===void 0&&(n="/"),o2(t,e,n,!1)}function o2(t,e,n,r){let s=typeof e=="string"?fi(e):e,i=Of(s.pathname||"/",n);if(i==null)return null;let o=Yx(t);a2(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=v2(i);c=g2(o[u],d,r)}return c}function Yx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Ae(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=dr([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Yx(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:m2(d,i.index),routesMeta:f})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of Xx(i.path))s(i,o,u)}),e}function Xx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Xx(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function a2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l2=/^:[\w-]+$/,c2=3,u2=2,d2=1,h2=10,f2=-2,Yg=t=>t==="*";function m2(t,e){let n=t.split("/"),r=n.length;return n.some(Yg)&&(r+=f2),e&&(r+=u2),n.filter(s=>!Yg(s)).reduce((s,i)=>s+(l2.test(i)?c2:i===""?d2:h2),r)}function p2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function g2(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=Xg({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Xg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:dr([i,p.pathname]),pathnameBase:E2(dr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=dr([i,p.pathnameBase]))}return o}function Xg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=y2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:g,isOptional:E}=f;if(g==="*"){let k=c[p]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const b=c[p];return E&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function y2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function v2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Of(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function x2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fi(t):t;return{pathname:n?n.startsWith("/")?n:_2(n,e):e,search:T2(r),hash:I2(s)}}function _2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function td(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ff(t,e){let n=w2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uf(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=fi(t):(s=Vo({},t),Ae(!s.pathname||!s.pathname.includes("?"),td("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),td("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),td("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=x2(s,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const dr=t=>t.join("/").replace(/\/\/+/g,"/"),E2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Zx=["post","put","patch","delete"];new Set(Zx);const N2=["get",...Zx];new Set(N2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}const zf=D.createContext(null),b2=D.createContext(null),Pr=D.createContext(null),Rc=D.createContext(null),Ln=D.createContext({outlet:null,matches:[],isDataRoute:!1}),e_=D.createContext(null);function C2(t,e){let{relative:n}=e===void 0?{}:e;mi()||Ae(!1);let{basename:r,navigator:s}=D.useContext(Pr),{hash:i,pathname:o,search:c}=r_(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:dr([r,o])),s.createHref({pathname:u,search:c,hash:i})}function mi(){return D.useContext(Rc)!=null}function pi(){return mi()||Ae(!1),D.useContext(Rc).location}function t_(t){D.useContext(Pr).static||D.useLayoutEffect(t)}function n_(){let{isDataRoute:t}=D.useContext(Ln);return t?$2():A2()}function A2(){mi()||Ae(!1);let t=D.useContext(zf),{basename:e,future:n,navigator:r}=D.useContext(Pr),{matches:s}=D.useContext(Ln),{pathname:i}=pi(),o=JSON.stringify(Ff(s,n.v7_relativeSplatPath)),c=D.useRef(!1);return t_(()=>{c.current=!0}),D.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=Uf(d,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:dr([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,i,t])}function k2(){let{matches:t}=D.useContext(Ln),e=t[t.length-1];return e?e.params:{}}function r_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Pr),{matches:s}=D.useContext(Ln),{pathname:i}=pi(),o=JSON.stringify(Ff(s,r.v7_relativeSplatPath));return D.useMemo(()=>Uf(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function P2(t,e){return R2(t,e)}function R2(t,e,n,r){mi()||Ae(!1);let{navigator:s}=D.useContext(Pr),{matches:i}=D.useContext(Ln),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=pi(),f;if(e){var p;let C=typeof e=="string"?fi(e):e;u==="/"||(p=C.pathname)!=null&&p.startsWith(u)||Ae(!1),f=C}else f=d;let g=f.pathname||"/",E=g;if(u!=="/"){let C=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=i2(t,{pathname:E}),k=L2(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:dr([u,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:dr([u,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n,r);return e&&k?D.createElement(Rc.Provider,{value:{location:Lo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:tr.Pop}},k):k}function j2(){let t=z2(),e=S2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,i)}const D2=D.createElement(j2,null);class M2 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Ln.Provider,{value:this.props.routeContext},D.createElement(e_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V2(t){let{routeContext:e,match:n,children:r}=t,s=D.useContext(zf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ln.Provider,{value:e},r)}function L2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||Ae(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:E}=n,b=p.route.loader&&g[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let E,b=!1,k=null,C=null;n&&(E=c&&p.route.id?c[p.route.id]:void 0,k=p.route.errorElement||D2,u&&(d<0&&g===0?(B2("route-fallback",!1),b=!0,C=null):d===g&&(b=!0,C=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),y=()=>{let T;return E?T=k:b?T=C:p.route.Component?T=D.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=f,D.createElement(V2,{match:p,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?D.createElement(M2,{location:n.location,revalidation:n.revalidation,component:k,error:E,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var s_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s_||{}),Wl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wl||{});function O2(t){let e=D.useContext(zf);return e||Ae(!1),e}function F2(t){let e=D.useContext(b2);return e||Ae(!1),e}function U2(t){let e=D.useContext(Ln);return e||Ae(!1),e}function i_(t){let e=U2(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function z2(){var t;let e=D.useContext(e_),n=F2(Wl.UseRouteError),r=i_(Wl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $2(){let{router:t}=O2(s_.UseNavigateStable),e=i_(Wl.UseNavigateStable),n=D.useRef(!1);return t_(()=>{n.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Lo({fromRouteId:e},i)))},[t,e])}const Zg={};function B2(t,e,n){!e&&!Zg[t]&&(Zg[t]=!0)}function H2(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function q2(t){let{to:e,replace:n,state:r,relative:s}=t;mi()||Ae(!1);let{future:i,static:o}=D.useContext(Pr),{matches:c}=D.useContext(Ln),{pathname:u}=pi(),d=n_(),f=Uf(e,Ff(c,i.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(f);return D.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function dt(t){Ae(!1)}function W2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=tr.Pop,navigator:i,static:o=!1,future:c}=t;mi()&&Ae(!1);let u=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:u,navigator:i,static:o,future:Lo({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof r=="string"&&(r=fi(r));let{pathname:f="/",search:p="",hash:g="",state:E=null,key:b="default"}=r,k=D.useMemo(()=>{let C=Of(f,u);return C==null?null:{location:{pathname:C,search:p,hash:g,state:E,key:b},navigationType:s}},[u,f,p,g,E,b,s]);return k==null?null:D.createElement(Pr.Provider,{value:d},D.createElement(Rc.Provider,{children:n,value:k}))}function G2(t){let{children:e,location:n}=t;return P2(dh(e),n)}new Promise(()=>{});function dh(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){n.push.apply(n,dh(r.props.children,i));return}r.type!==dt&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}function K2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Q2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J2(t,e){return t.button===0&&(!e||e==="_self")&&!Q2(t)}const Y2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X2="6";try{window.__reactRouterVersion=X2}catch{}const Z2="startTransition",ey=HE[Z2];function eS(t){let{basename:e,children:n,future:r,window:s}=t,i=D.useRef();i.current==null&&(i.current=n2({window:s,v5Compat:!0}));let o=i.current,[c,u]=D.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=D.useCallback(p=>{d&&ey?ey(()=>u(p)):u(p)},[u,d]);return D.useLayoutEffect(()=>o.listen(f),[o,f]),D.useEffect(()=>H2(r),[r]),D.createElement(W2,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const tS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ds=D.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,g=K2(e,Y2),{basename:E}=D.useContext(Pr),b,k=!1;if(typeof d=="string"&&nS.test(d)&&(b=d,tS))try{let T=new URL(window.location.href),P=d.startsWith("//")?new URL(T.protocol+d):new URL(d),z=Of(P.pathname,E);P.origin===T.origin&&z!=null?d=z+P.search+P.hash:k=!0}catch{}let C=C2(d,{relative:s}),_=rS(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function y(T){r&&r(T),T.defaultPrevented||_(T)}return D.createElement("a",hh({},g,{href:b||C,onClick:k||i?r:y,ref:n,target:u}))});var ty;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ty||(ty={}));var ny;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ny||(ny={}));function rS(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,u=n_(),d=pi(),f=r_(t,{relative:o});return D.useCallback(p=>{if(J2(p,n)){p.preventDefault();let g=r!==void 0?r:ql(d)===ql(f);u(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[d,u,f,r,s,n,t,i,o,c])}const sS=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},iS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},a_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let g=(c&15)<<2|d>>6,E=d&63;u||(E=64,o||(g=64)),r.push(n[f],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||d==null||p==null)throw new oS;const g=i<<2|c>>4;if(r.push(g),d!==64){const E=c<<4&240|d>>2;if(r.push(E),p!==64){const b=d<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(t){const e=o_(t);return a_.encodeByteArray(e,!0)},Gl=function(t){return aS(t).replace(/\./g,"")},l_=function(t){try{return a_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=()=>lS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l_(t[1]);return e&&JSON.parse(e)},jc=()=>{try{return sS()||cS()||uS()||dS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c_=t=>{var e,n;return(n=(e=jc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hS=t=>{const e=c_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u_=()=>{var t;return(t=jc())==null?void 0:t.config},d_=t=>{var e;return(e=jc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},c="";return[Gl(JSON.stringify(n)),Gl(JSON.stringify(o)),c].join(".")}const fo={};function pS(){const t={prod:[],emulator:[]};for(const e of Object.keys(fo))fo[e]?t.emulator.push(e):t.prod.push(e);return t}function gS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ry=!1;function f_(t,e){if(typeof window>"u"||typeof document>"u"||!gi(window.location.host)||fo[t]===e||fo[t]||ry)return;fo[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=pS().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,E){g.setAttribute("width","24"),g.setAttribute("id",E),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ry=!0,o()},g}function f(g,E){g.setAttribute("id",E),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=gS(r),E=n("text"),b=document.getElementById(E)||document.createElement("span"),k=n("learnmore"),C=document.getElementById(k)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;c(T),f(C,k);const P=d();u(y,_),T.append(y,b,C,P),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function vS(){var e;const t=(e=jc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TS(){return!vS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="FirebaseError";class On extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NS,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?bS(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new On(s,c,r)}}function bS(t,e){return t.replace(CS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CS=/\{\$([^}]+)}/g;function AS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _r(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(sy(i)&&sy(o)){if(!_r(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kS(t,e){const n=new PS(t,e);return n.subscribe.bind(n)}class PS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RS(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nd),s.error===void 0&&(s.error=nd),s.complete===void 0&&(s.complete=nd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MS(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(t){return t===$r?void 0:t}function MS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const LS={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},OS=re.INFO,FS={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},US=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $f{constructor(e){this.name=e,this._logLevel=OS,this._logHandler=US,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const zS=(t,e)=>e.some(n=>t instanceof n);let iy,oy;function $S(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m_=new WeakMap,fh=new WeakMap,p_=new WeakMap,rd=new WeakMap,Bf=new WeakMap;function HS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(hr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&m_.set(n,t)}).catch(()=>{}),Bf.set(e,t),e}function qS(t){if(fh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});fh.set(t,e)}let mh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WS(t){mh=t(mh)}function GS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sd(this),e,...n);return p_.set(r,e.sort?e.sort():[e]),hr(r)}:BS().includes(t)?function(...e){return t.apply(sd(this),e),hr(m_.get(this))}:function(...e){return hr(t.apply(sd(this),e))}}function KS(t){return typeof t=="function"?GS(t):(t instanceof IDBTransaction&&qS(t),zS(t,$S())?new Proxy(t,mh):t)}function hr(t){if(t instanceof IDBRequest)return HS(t);if(rd.has(t))return rd.get(t);const e=KS(t);return e!==t&&(rd.set(t,e),Bf.set(e,t)),e}const sd=t=>Bf.get(t);function QS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=hr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hr(o.result),u.oldVersion,u.newVersion,hr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const JS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],id=new Map;function ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(id.get(e))return id.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=YS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JS.includes(n)))return;const i=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return id.set(e,i),i}WS(t=>({...t,get:(e,n,r)=>ay(e,n)||t.get(e,n,r),has:(e,n)=>!!ay(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",ly="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new $f("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",rN="@firebase/app-check-compat",sN="@firebase/app-check",iN="@firebase/auth",oN="@firebase/auth-compat",aN="@firebase/database",lN="@firebase/data-connect",cN="@firebase/database-compat",uN="@firebase/functions",dN="@firebase/functions-compat",hN="@firebase/installations",fN="@firebase/installations-compat",mN="@firebase/messaging",pN="@firebase/messaging-compat",gN="@firebase/performance",yN="@firebase/performance-compat",vN="@firebase/remote-config",xN="@firebase/remote-config-compat",_N="@firebase/storage",wN="@firebase/storage-compat",EN="@firebase/firestore",TN="@firebase/ai",IN="@firebase/firestore-compat",SN="firebase",NN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]",bN={[ph]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[sN]:"fire-app-check",[rN]:"fire-app-check-compat",[iN]:"fire-auth",[oN]:"fire-auth-compat",[aN]:"fire-rtdb",[lN]:"fire-data-connect",[cN]:"fire-rtdb-compat",[uN]:"fire-fn",[dN]:"fire-fn-compat",[hN]:"fire-iid",[fN]:"fire-iid-compat",[mN]:"fire-fcm",[pN]:"fire-fcm-compat",[gN]:"fire-perf",[yN]:"fire-perf-compat",[vN]:"fire-rc",[xN]:"fire-rc-compat",[_N]:"fire-gcs",[wN]:"fire-gcs-compat",[EN]:"fire-fst",[IN]:"fire-fst-compat",[TN]:"fire-vertex","fire-js":"fire-js",[SN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new Map,CN=new Map,yh=new Map;function cy(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ei(t){const e=t.name;if(yh.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;yh.set(e,t);for(const n of Kl.values())cy(n,t);for(const n of CN.values())cy(n,t);return!0}function Hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function St(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Yo("app","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=NN;function g_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw fr.create("bad-app-name",{appName:String(s)});if(n||(n=u_()),!n)throw fr.create("no-options");const i=Kl.get(s);if(i){if(_r(n,i.options)&&_r(r,i.config))return i;throw fr.create("duplicate-app",{appName:s})}const o=new VS(s);for(const u of yh.values())o.addComponent(u);const c=new kN(n,r,o);return Kl.set(s,c),c}function y_(t=gh){const e=Kl.get(t);if(!e&&t===gh&&u_())return g_();if(!e)throw fr.create("no-app",{appName:t});return e}function mr(t,e,n){let r=bN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(o.join(" "));return}ei(new ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firebase-heartbeat-database",RN=1,Oo="firebase-heartbeat-store";let od=null;function v_(){return od||(od=QS(PN,RN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),od}async function jN(t){try{const n=(await v_()).transaction(Oo),r=await n.objectStore(Oo).get(x_(t));return await n.done,r}catch(e){if(e instanceof On)Rn.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rn.warn(n.message)}}}async function uy(t,e){try{const r=(await v_()).transaction(Oo,"readwrite");await r.objectStore(Oo).put(e,x_(t)),await r.done}catch(n){if(n instanceof On)Rn.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rn.warn(r.message)}}}function x_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,MN=30;class VN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ON(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>MN){const o=FN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dy(),{heartbeatsToSend:r,unsentEntries:s}=LN(this._heartbeatsCache.heartbeats),i=Gl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Rn.warn(n),""}}}function dy(){return new Date().toISOString().substring(0,10)}function LN(t,e=DN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),hy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ON{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hy(t){return Gl(JSON.stringify({version:2,heartbeats:t})).length}function FN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){ei(new ns("platform-logger",e=>new XS(e),"PRIVATE")),ei(new ns("heartbeat",e=>new VN(e),"PRIVATE")),mr(ph,ly,t),mr(ph,ly,"esm2020"),mr("fire-js","")}UN("");var zN="firebase",$N="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(zN,$N,"app");function __(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BN=__,w_=new Yo("auth","Firebase",__());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new $f("@firebase/auth");function HN(t,...e){Ql.logLevel<=re.WARN&&Ql.warn(`Auth (${yi}): ${t}`,...e)}function dl(t,...e){Ql.logLevel<=re.ERROR&&Ql.error(`Auth (${yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,...e){throw Wf(t,...e)}function Qt(t,...e){return Wf(t,...e)}function qf(t,e,n){const r={...BN(),[e]:n};return new Yo("auth","Firebase",r).create(e,{appName:t.name})}function bn(t){return qf(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ft(t,"argument-error"),qf(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w_.create(t,...e)}function X(t,e,...n){if(!t)throw Wf(e,...n)}function In(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dl(e),new Error(e)}function jn(t,e){t||In(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function WN(){return fy()==="http:"||fy()==="https:"}function fy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WN()||_S()||"connection"in navigator)?navigator.onLine:!0}function KN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.shortDelay=e,this.longDelay=n,jn(n>e,"Short delay should be less than long delay!"),this.isMobile=yS()||wS()}get(){return GN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YN=new Zo(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fn(t,e,n,r,s={}){return T_(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Xo({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return xS()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&gi(t.emulatorConfig.host)&&(d.credentials="include"),E_.fetch()(await I_(t,t.config.apiHost,n,c),d)})}async function T_(t,e,n){t._canInitEmulator=!1;const r={...QN,...e};try{const s=new ZN(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ga(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ga(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ga(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ga(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw qf(t,f,d);Ft(t,f)}}catch(s){if(s instanceof On)throw s;Ft(t,"network-request-failed",{message:String(s)})}}async function ea(t,e,n,r,s={}){const i=await Fn(t,e,n,r,s);return"mfaPendingCredential"in i&&Ft(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function I_(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Gf(t.config,s):`${t.config.apiScheme}://${s}`;return JN.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function XN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qt(this.auth,"network-request-failed")),YN.get())})}}function Ga(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qt(t,e,r);return s.customData._tokenResponse=n,s}function my(t){return t!==void 0&&t.enterprise!==void 0}class eb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tb(t,e){return Fn(t,"GET","/v2/recaptchaConfig",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(t,e){return Fn(t,"POST","/v1/accounts:delete",e)}async function Jl(t,e){return Fn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rb(t,e=!1){const n=De(t),r=await n.getIdToken(e),s=Kf(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:mo(ad(s.auth_time)),issuedAtTime:mo(ad(s.iat)),expirationTime:mo(ad(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ad(t){return Number(t)*1e3}function Kf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dl("JWT malformed, contained fewer than 3 sections"),null;try{const s=l_(n);return s?JSON.parse(s):(dl("Failed to decode base64 JWT payload"),null)}catch(s){return dl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function py(t){const e=Kf(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof On&&sb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t){var p;const e=t.auth,n=await t.getIdToken(),r=await ti(t,Jl(e,{idToken:n}));X(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?S_(s.providerUserInfo):[],o=ab(t.providerData,i),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new xh(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function ob(t){const e=De(t);await Yl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ab(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function S_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(t,e){const n=await T_(t,{},async()=>{const r=Xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await I_(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&gi(t.emulatorConfig.host)&&(u.credentials="include"),E_.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cb(t,e){return Fn(t,"POST","/v2/accounts:revokeToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):py(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=py(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await lb(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new zs;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ib(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ti(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rb(this,e)}reload(){return ob(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(St(this.auth.app))return Promise.reject(bn(this.auth));const e=await this.getIdToken();return await ti(this,nb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:E,providerData:b,stsTokenManager:k}=n;X(p&&k,e,"internal-error");const C=zs.fromJSON(this.name,k);X(typeof p=="string",e,"internal-error"),Hn(r,e.name),Hn(s,e.name),X(typeof g=="boolean",e,"internal-error"),X(typeof E=="boolean",e,"internal-error"),Hn(i,e.name),Hn(o,e.name),Hn(c,e.name),Hn(u,e.name),Hn(d,e.name),Hn(f,e.name);const _=new Wt({uid:p,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:E,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:C,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(_.providerData=b.map(y=>({...y}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new zs;s.updateFromServerResponse(n);const i=new Wt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yl(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?S_(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new zs;c.updateFromIdToken(r);const u=new Wt({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map;function Sn(t){jn(t instanceof Function,"Expected a class definition");let e=gy.get(t);return e?(jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}N_.type="NONE";const yy=N_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t,e,n){return`firebase:${t}:${e}:${n}`}class $s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=hl(this.userKey,s.apiKey,i),this.fullPersistenceKey=hl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jl(this.auth,{idToken:e}).catch(()=>{});return n?Wt._fromGetAccountInfoResponse(this.auth,n,e):null}return Wt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $s(Sn(yy),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Sn(yy);const o=hl(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(o);if(f){let p;if(typeof f=="string"){const g=await Jl(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Wt._fromGetAccountInfoResponse(e,g,f)}else p=Wt._fromJSON(e,f);d!==i&&(c=p),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new $s(i,e,r):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new $s(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R_(e))return"Blackberry";if(j_(e))return"Webos";if(C_(e))return"Safari";if((e.includes("chrome/")||A_(e))&&!e.includes("edge/"))return"Chrome";if(P_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b_(t=at()){return/firefox\//i.test(t)}function C_(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A_(t=at()){return/crios\//i.test(t)}function k_(t=at()){return/iemobile/i.test(t)}function P_(t=at()){return/android/i.test(t)}function R_(t=at()){return/blackberry/i.test(t)}function j_(t=at()){return/webos/i.test(t)}function Qf(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ub(t=at()){var e;return Qf(t)&&!!((e=window.navigator)!=null&&e.standalone)}function db(){return ES()&&document.documentMode===10}function D_(t=at()){return Qf(t)||P_(t)||j_(t)||R_(t)||/windows phone/i.test(t)||k_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e=[]){let n;switch(t){case"Browser":n=vy(at());break;case"Worker":n=`${vy(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(t,e={}){return Fn(t,"GET","/v2/passwordPolicy",Rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=6;class pb{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xy(this),this.idTokenSubscription=new xy(this),this.beforeStateQueue=new hb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jl(this,{idToken:e}),r=await Wt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(St(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(St(this.app))return Promise.reject(bn(this));const n=e?De(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return St(this.app)?Promise.reject(bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return St(this.app)?Promise.reject(bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fb(this),n=new pb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sn(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[Sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&HN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jr(t){return De(t)}class xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=kS(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yb(t){Dc=t}function V_(t){return Dc.loadJS(t)}function vb(){return Dc.recaptchaEnterpriseScript}function xb(){return Dc.gapiScript}function _b(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class wb{constructor(){this.enterprise=new Eb}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Eb{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tb="recaptcha-enterprise",L_="NO_RECAPTCHA";class Ib{constructor(e){this.type=Tb,this.auth=jr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{tb(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new eb(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})})}function s(i,o,c){const u=window.grecaptcha;my(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(L_)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wb().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(c=>{if(!n&&my(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vb();u.length!==0&&(u+=c),V_(u).then(()=>{s(c,i,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function Wi(t,e,n,r=!1,s=!1){const i=new Ib(t);let o;if(s)o=L_;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function _h(t,e,n,r,s){var i,o;if(s==="EMAIL_PASSWORD_PROVIDER")if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Wi(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Wi(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)});else if(s==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const c=await Wi(t,e,n);return r(t,c).catch(async u=>{var d;if(((d=t._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const f=await Wi(t,e,n,!1,!0);return r(t,f)}return Promise.reject(u)})}else{const c=await Wi(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(s+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t,e){const n=Hf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(_r(i,e??{}))return s;Ft(s,"already-initialized")}return n.initialize({options:e})}function Nb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bb(t,e,n){const r=jr(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=O_(e),{host:o,port:c}=Cb(e),u=c===null?"":`:${c}`,d={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(_r(d,r.config.emulator)&&_r(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,gi(o)?(h_(`${i}//${o}${u}`),f_("Auth",!0)):s||Ab()}function O_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cb(t){const e=O_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_y(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:_y(o)}}}function _y(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ab(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return In("not implemented")}_getIdTokenResponse(e){return In("not implemented")}_linkToIdToken(e,n){return In("not implemented")}_getReauthenticationResolver(e){return In("not implemented")}}async function kb(t,e){return Fn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(t,e){return ea(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(t,e){return ea(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}async function jb(t,e){return ea(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Jf{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,n,"signInWithPassword",Pb,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Rb(e,{email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,r,"signUpPassword",kb,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jb(e,{idToken:n,email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(t,e){return ea(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="http://localhost";class rs extends Jf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ft("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new rs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bs(e,n)}buildRequest(){const e={requestUri:Db,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vb(t){const e=Yi(Xi(t)).link,n=e?Yi(Xi(e)).deep_link_id:null,r=Yi(Xi(t)).deep_link_id;return(r?Yi(Xi(r)).link:null)||r||n||e||t}class Yf{constructor(e){const n=Yi(Xi(e)),r=n.apiKey??null,s=n.oobCode??null,i=Mb(n.mode??null);X(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Vb(e);try{return new Yf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.providerId=vi.PROVIDER_ID}static credential(e,n){return Fo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yf.parseLink(n);return X(r,"argument-error"),Fo._fromEmailAndCode(e,r.code,r.tenantId)}}vi.PROVIDER_ID="password";vi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Xf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends ta{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jn.credential(e.oauthAccessToken)}catch{return null}}}Jn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rs._fromParams({providerId:on.PROVIDER_ID,signInMethod:on.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return on.credentialFromTaggedObject(e)}static credentialFromError(e){return on.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return on.credential(n,r)}catch{return null}}}on.GOOGLE_SIGN_IN_METHOD="google.com";on.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends ta{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yn.credential(e.oauthAccessToken)}catch{return null}}}Yn.GITHUB_SIGN_IN_METHOD="github.com";Yn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends ta{constructor(){super("twitter.com")}static credential(e,n){return rs._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xn.credential(n,r)}catch{return null}}}Xn.TWITTER_SIGN_IN_METHOD="twitter.com";Xn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e){return ea(t,"POST","/v1/accounts:signUp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wt._fromIdTokenResponse(e,r,s),o=wy(r);return new ss({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=wy(r);return new ss({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function wy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends On{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xl(e,n,r,s)}}function F_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xl._fromErrorAndOperation(t,i,e,r):i})}async function Ob(t,e,n=!1){const r=await ti(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ss._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t,e,n=!1){const{auth:r}=t;if(St(r.app))return Promise.reject(bn(r));const s="reauthenticate";try{const i=await ti(t,F_(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=Kf(i.idToken);X(o,r,"internal-error");const{sub:c}=o;return X(t.uid===c,r,"user-mismatch"),ss._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ft(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_(t,e,n=!1){if(St(t.app))return Promise.reject(bn(t));const r="signIn",s=await F_(t,r,e),i=await ss._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Ub(t,e){return U_(jr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z_(t){const e=jr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zb(t,e,n){if(St(t.app))return Promise.reject(bn(t));const r=jr(t),o=await _h(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lb,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&z_(t),u}),c=await ss._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function $b(t,e,n){return St(t.app)?Promise.reject(bn(t)):Ub(De(t),vi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&z_(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t,e){return Fn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=De(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ti(r,Bb(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function qb(t,e,n,r){return De(t).onIdTokenChanged(e,n,r)}function Wb(t,e,n){return De(t).beforeAuthStateChanged(e,n)}function Gb(t,e,n,r){return De(t).onAuthStateChanged(e,n,r)}function Kb(t){return De(t).signOut()}const Zl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zl,"1"),this.storage.removeItem(Zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1e3,Jb=10;class B_ extends $_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);db()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Jb):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B_.type="LOCAL";const Yb=B_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends $_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H_.type="SESSION";const q_=H_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Mc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async d=>d(n.origin,i)),u=await Xb(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const d=Zf("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function eC(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function tC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rC(){return W_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="firebaseLocalStorageDb",sC=1,ec="firebaseLocalStorage",K_="fbase_key";class na{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vc(t,e){return t.transaction([ec],e?"readwrite":"readonly").objectStore(ec)}function iC(){const t=indexedDB.deleteDatabase(G_);return new na(t).toPromise()}function wh(){const t=indexedDB.open(G_,sC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ec,{keyPath:K_})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ec)?e(r):(r.close(),await iC(),e(await wh()))})})}async function Ey(t,e,n){const r=Vc(t,!0).put({[K_]:e,value:n});return new na(r).toPromise()}async function oC(t,e){const n=Vc(t,!1).get(e),r=await new na(n).toPromise();return r===void 0?null:r.value}function Ty(t,e){const n=Vc(t,!0).delete(e);return new na(n).toPromise()}const aC=800,lC=3;class Q_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new Zb(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wh();return await Ey(e,Zl,"1"),await Ty(e,Zl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ey(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ty(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Vc(s,!1).getAll();return new na(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q_.type="LOCAL";const cC=Q_;new Zo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t,e){return e?Sn(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends Jf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uC(t){return U_(t.auth,new em(t),t.bypassAuthState)}function dC(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Fb(n,new em(t),t.bypassAuthState)}async function hC(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Ob(n,new em(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return hC;case"reauthViaPopup":case"reauthViaRedirect":return dC;default:Ft(this.auth,"internal-error")}}resolve(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Zo(2e3,1e4);async function X_(t,e,n){if(St(t.app))return Promise.reject(Qt(t,"operation-not-supported-in-this-environment"));const r=jr(t);qN(t,e,Xf);const s=J_(r,n);return new Wr(r,"signInViaPopup",e,s).executeNotNull()}class Wr extends Y_{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){jn(this.filter.length===1,"Popup operations only handle one event");const e=Zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fC.get())};e()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="pendingRedirect",fl=new Map;class pC extends Y_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fl.get(this.auth._key());if(!e){try{const r=await gC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fl.set(this.auth._key(),e)}return this.bypassAuthState||fl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gC(t,e){const n=xC(e),r=vC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yC(t,e){fl.set(t._key(),e)}function vC(t){return Sn(t._redirectPersistence)}function xC(t){return hl(mC,t.config.apiKey,t.name)}async function _C(t,e,n=!1){if(St(t.app))return Promise.reject(bn(t));const r=jr(t),s=J_(r,e),o=await new pC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=10*60*1e3;class EC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Z_(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iy(e))}saveEventToCache(e){this.cachedEventUids.add(Iy(e)),this.lastProcessedEventTime=Date.now()}}function Iy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e={}){return Fn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NC=/^https?/;async function bC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IC(t);for(const n of e)try{if(CC(n))return}catch{}Ft(t,"unauthorized-domain")}function CC(t){const e=vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NC.test(n))return!1;if(SC.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Zo(3e4,6e4);function Sy(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kC(t){return new Promise((e,n)=>{var s,i,o;function r(){Sy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sy(),n(Qt(t,"network-request-failed"))},timeout:AC.get()})}if((i=(s=cn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=cn().gapi)!=null&&o.load)r();else{const c=_b("iframefcb");return cn()[c]=()=>{gapi.load?r():n(Qt(t,"network-request-failed"))},V_(`${xb()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw ml=null,e})}let ml=null;function PC(t){return ml=ml||kC(t),ml}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Zo(5e3,15e3),jC="__/auth/iframe",DC="emulator/auth/iframe",MC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LC(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gf(e,DC):`https://${t.config.authDomain}/${jC}`,r={apiKey:e.apiKey,appName:t.name,v:yi},s=VC.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Xo(r).slice(1)}`}async function OC(t){const e=await PC(t),n=cn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:LC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MC,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Qt(t,"network-request-failed"),c=cn().setTimeout(()=>{i(o)},RC.get());function u(){cn().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC=500,zC=600,$C="_blank",BC="http://localhost";class Ny{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HC(t,e,n,r=UC,s=zC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...FC,width:r.toString(),height:s.toString(),top:i,left:o},d=at().toLowerCase();n&&(c=A_(d)?$C:n),b_(d)&&(e=e||BC,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[E,b])=>`${g}${E}=${b},`,"");if(ub(d)&&c!=="_self")return qC(e||"",c),new Ny(null);const p=window.open(e||"",c,f);X(p,t,"popup-blocked");try{p.focus()}catch{}return new Ny(p)}function qC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__/auth/handler",GC="emulator/auth/handler",KC=encodeURIComponent("fac");async function by(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yi,eventId:s};if(e instanceof Xf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(i||{}))o[f]=p}if(e instanceof ta){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${KC}=${encodeURIComponent(u)}`:"";return`${QC(t)}?${Xo(c).slice(1)}${d}`}function QC({config:t}){return t.emulator?Gf(t,GC):`https://${t.authDomain}/${WC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="webStorageSupport";class JC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q_,this._completeRedirectFn=_C,this._overrideRedirectResult=yC}async _openPopup(e,n,r,s){var o;jn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await by(e,n,r,vh(),s);return HC(e,i,Zf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await by(e,n,r,vh(),s);return eC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(jn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OC(e),r=new EC(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ld,{type:ld},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[ld];i!==void 0&&n(!!i),Ft(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D_()||C_()||Qf()}}const YC=JC;var Cy="@firebase/auth",Ay="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eA(t){ei(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M_(t)},d=new gb(r,s,i,u);return Nb(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ei(new ns("auth-internal",e=>{const n=jr(e.getProvider("auth").getImmediate());return(r=>new XC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(Cy,Ay,ZC(t)),mr(Cy,Ay,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=5*60,nA=d_("authIdTokenMaxAge")||tA;let ky=null;const rA=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nA)return;const s=n==null?void 0:n.token;ky!==s&&(ky=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sA(t=y_()){const e=Hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Sb(t,{popupRedirectResolver:YC,persistence:[cC,Yb,q_]}),r=d_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=rA(i.toString());Wb(n,o,()=>o(n.currentUser)),qb(n,c=>o(c))}}const s=c_("auth");return s&&bb(n,`http://${s}`),n}function iA(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}yb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Qt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",iA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eA("Browser");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,ew;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function I(){}I.prototype=v.prototype,w.D=v.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(S,A,R){for(var N=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)N[Me-2]=arguments[Me];return v.prototype[A].apply(S,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,v,I){I||(I=0);var S=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)S[A]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(A=0;16>A;++A)S[A]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=w.g[0],I=w.g[1],A=w.g[2];var R=w.g[3],N=v+(R^I&(A^R))+S[0]+3614090360&4294967295;v=I+(N<<7&4294967295|N>>>25),N=R+(A^v&(I^A))+S[1]+3905402710&4294967295,R=v+(N<<12&4294967295|N>>>20),N=A+(I^R&(v^I))+S[2]+606105819&4294967295,A=R+(N<<17&4294967295|N>>>15),N=I+(v^A&(R^v))+S[3]+3250441966&4294967295,I=A+(N<<22&4294967295|N>>>10),N=v+(R^I&(A^R))+S[4]+4118548399&4294967295,v=I+(N<<7&4294967295|N>>>25),N=R+(A^v&(I^A))+S[5]+1200080426&4294967295,R=v+(N<<12&4294967295|N>>>20),N=A+(I^R&(v^I))+S[6]+2821735955&4294967295,A=R+(N<<17&4294967295|N>>>15),N=I+(v^A&(R^v))+S[7]+4249261313&4294967295,I=A+(N<<22&4294967295|N>>>10),N=v+(R^I&(A^R))+S[8]+1770035416&4294967295,v=I+(N<<7&4294967295|N>>>25),N=R+(A^v&(I^A))+S[9]+2336552879&4294967295,R=v+(N<<12&4294967295|N>>>20),N=A+(I^R&(v^I))+S[10]+4294925233&4294967295,A=R+(N<<17&4294967295|N>>>15),N=I+(v^A&(R^v))+S[11]+2304563134&4294967295,I=A+(N<<22&4294967295|N>>>10),N=v+(R^I&(A^R))+S[12]+1804603682&4294967295,v=I+(N<<7&4294967295|N>>>25),N=R+(A^v&(I^A))+S[13]+4254626195&4294967295,R=v+(N<<12&4294967295|N>>>20),N=A+(I^R&(v^I))+S[14]+2792965006&4294967295,A=R+(N<<17&4294967295|N>>>15),N=I+(v^A&(R^v))+S[15]+1236535329&4294967295,I=A+(N<<22&4294967295|N>>>10),N=v+(A^R&(I^A))+S[1]+4129170786&4294967295,v=I+(N<<5&4294967295|N>>>27),N=R+(I^A&(v^I))+S[6]+3225465664&4294967295,R=v+(N<<9&4294967295|N>>>23),N=A+(v^I&(R^v))+S[11]+643717713&4294967295,A=R+(N<<14&4294967295|N>>>18),N=I+(R^v&(A^R))+S[0]+3921069994&4294967295,I=A+(N<<20&4294967295|N>>>12),N=v+(A^R&(I^A))+S[5]+3593408605&4294967295,v=I+(N<<5&4294967295|N>>>27),N=R+(I^A&(v^I))+S[10]+38016083&4294967295,R=v+(N<<9&4294967295|N>>>23),N=A+(v^I&(R^v))+S[15]+3634488961&4294967295,A=R+(N<<14&4294967295|N>>>18),N=I+(R^v&(A^R))+S[4]+3889429448&4294967295,I=A+(N<<20&4294967295|N>>>12),N=v+(A^R&(I^A))+S[9]+568446438&4294967295,v=I+(N<<5&4294967295|N>>>27),N=R+(I^A&(v^I))+S[14]+3275163606&4294967295,R=v+(N<<9&4294967295|N>>>23),N=A+(v^I&(R^v))+S[3]+4107603335&4294967295,A=R+(N<<14&4294967295|N>>>18),N=I+(R^v&(A^R))+S[8]+1163531501&4294967295,I=A+(N<<20&4294967295|N>>>12),N=v+(A^R&(I^A))+S[13]+2850285829&4294967295,v=I+(N<<5&4294967295|N>>>27),N=R+(I^A&(v^I))+S[2]+4243563512&4294967295,R=v+(N<<9&4294967295|N>>>23),N=A+(v^I&(R^v))+S[7]+1735328473&4294967295,A=R+(N<<14&4294967295|N>>>18),N=I+(R^v&(A^R))+S[12]+2368359562&4294967295,I=A+(N<<20&4294967295|N>>>12),N=v+(I^A^R)+S[5]+4294588738&4294967295,v=I+(N<<4&4294967295|N>>>28),N=R+(v^I^A)+S[8]+2272392833&4294967295,R=v+(N<<11&4294967295|N>>>21),N=A+(R^v^I)+S[11]+1839030562&4294967295,A=R+(N<<16&4294967295|N>>>16),N=I+(A^R^v)+S[14]+4259657740&4294967295,I=A+(N<<23&4294967295|N>>>9),N=v+(I^A^R)+S[1]+2763975236&4294967295,v=I+(N<<4&4294967295|N>>>28),N=R+(v^I^A)+S[4]+1272893353&4294967295,R=v+(N<<11&4294967295|N>>>21),N=A+(R^v^I)+S[7]+4139469664&4294967295,A=R+(N<<16&4294967295|N>>>16),N=I+(A^R^v)+S[10]+3200236656&4294967295,I=A+(N<<23&4294967295|N>>>9),N=v+(I^A^R)+S[13]+681279174&4294967295,v=I+(N<<4&4294967295|N>>>28),N=R+(v^I^A)+S[0]+3936430074&4294967295,R=v+(N<<11&4294967295|N>>>21),N=A+(R^v^I)+S[3]+3572445317&4294967295,A=R+(N<<16&4294967295|N>>>16),N=I+(A^R^v)+S[6]+76029189&4294967295,I=A+(N<<23&4294967295|N>>>9),N=v+(I^A^R)+S[9]+3654602809&4294967295,v=I+(N<<4&4294967295|N>>>28),N=R+(v^I^A)+S[12]+3873151461&4294967295,R=v+(N<<11&4294967295|N>>>21),N=A+(R^v^I)+S[15]+530742520&4294967295,A=R+(N<<16&4294967295|N>>>16),N=I+(A^R^v)+S[2]+3299628645&4294967295,I=A+(N<<23&4294967295|N>>>9),N=v+(A^(I|~R))+S[0]+4096336452&4294967295,v=I+(N<<6&4294967295|N>>>26),N=R+(I^(v|~A))+S[7]+1126891415&4294967295,R=v+(N<<10&4294967295|N>>>22),N=A+(v^(R|~I))+S[14]+2878612391&4294967295,A=R+(N<<15&4294967295|N>>>17),N=I+(R^(A|~v))+S[5]+4237533241&4294967295,I=A+(N<<21&4294967295|N>>>11),N=v+(A^(I|~R))+S[12]+1700485571&4294967295,v=I+(N<<6&4294967295|N>>>26),N=R+(I^(v|~A))+S[3]+2399980690&4294967295,R=v+(N<<10&4294967295|N>>>22),N=A+(v^(R|~I))+S[10]+4293915773&4294967295,A=R+(N<<15&4294967295|N>>>17),N=I+(R^(A|~v))+S[1]+2240044497&4294967295,I=A+(N<<21&4294967295|N>>>11),N=v+(A^(I|~R))+S[8]+1873313359&4294967295,v=I+(N<<6&4294967295|N>>>26),N=R+(I^(v|~A))+S[15]+4264355552&4294967295,R=v+(N<<10&4294967295|N>>>22),N=A+(v^(R|~I))+S[6]+2734768916&4294967295,A=R+(N<<15&4294967295|N>>>17),N=I+(R^(A|~v))+S[13]+1309151649&4294967295,I=A+(N<<21&4294967295|N>>>11),N=v+(A^(I|~R))+S[4]+4149444226&4294967295,v=I+(N<<6&4294967295|N>>>26),N=R+(I^(v|~A))+S[11]+3174756917&4294967295,R=v+(N<<10&4294967295|N>>>22),N=A+(v^(R|~I))+S[2]+718787259&4294967295,A=R+(N<<15&4294967295|N>>>17),N=I+(R^(A|~v))+S[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+A&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var I=v-this.blockSize,S=this.B,A=this.h,R=0;R<v;){if(A==0)for(;R<=I;)s(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<v;)if(S[A++]=w.charCodeAt(R++),A==this.blockSize){s(this,S),A=0;break}}else for(;R<v;)if(S[A++]=w[R++],A==this.blockSize){s(this,S),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var I=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=I&255,I/=256;for(this.u(w),w=Array(16),v=I=0;4>v;++v)for(var S=0;32>S;S+=8)w[I++]=this.g[v]>>>S&255;return w};function i(w,v){var I=c;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=v(w)}function o(w,v){this.h=v;for(var I=[],S=!0,A=w.length-1;0<=A;A--){var R=w[A]|0;S&&R==v||(I[A]=R,S=!1)}this.g=I}var c={};function u(w){return-128<=w&&128>w?i(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return C(d(-w));for(var v=[],I=1,S=0;w>=I;S++)v[S]=w/I|0,I*=4294967296;return new o(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return C(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(v,8)),S=p,A=0;A<w.length;A+=8){var R=Math.min(8,w.length-A),N=parseInt(w.substring(A,A+R),v);8>R?(R=d(Math.pow(v,R)),S=S.j(R).add(d(N))):(S=S.j(I),S=S.add(d(N)))}return S}var p=u(0),g=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-C(this).m();for(var w=0,v=1,I=0;I<this.g.length;I++){var S=this.i(I);w+=(0<=S?S:4294967296+S)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(k(this))return"-"+C(this).toString(w);for(var v=d(Math.pow(w,6)),I=this,S="";;){var A=P(I,v).g;I=_(I,A.j(v));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=A,b(I))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function k(w){return w.h==-1}t.l=function(w){return w=_(this,w),k(w)?-1:b(w)?0:1};function C(w){for(var v=w.g.length,I=[],S=0;S<v;S++)I[S]=~w.g[S];return new o(I,~w.h).add(g)}t.abs=function(){return k(this)?C(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],S=0,A=0;A<=v;A++){var R=S+(this.i(A)&65535)+(w.i(A)&65535),N=(R>>>16)+(this.i(A)>>>16)+(w.i(A)>>>16);S=N>>>16,R&=65535,N&=65535,I[A]=N<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(w,v){return w.add(C(v))}t.j=function(w){if(b(this)||b(w))return p;if(k(this))return k(w)?C(this).j(C(w)):C(C(this).j(w));if(k(w))return C(this.j(C(w)));if(0>this.l(E)&&0>w.l(E))return d(this.m()*w.m());for(var v=this.g.length+w.g.length,I=[],S=0;S<2*v;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<w.g.length;A++){var R=this.i(S)>>>16,N=this.i(S)&65535,Me=w.i(A)>>>16,lt=w.i(A)&65535;I[2*S+2*A]+=N*lt,y(I,2*S+2*A),I[2*S+2*A+1]+=R*lt,y(I,2*S+2*A+1),I[2*S+2*A+1]+=N*Me,y(I,2*S+2*A+1),I[2*S+2*A+2]+=R*Me,y(I,2*S+2*A+2)}for(S=0;S<v;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=v;S<2*v;S++)I[S]=0;return new o(I,0)};function y(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function T(w,v){this.g=w,this.h=v}function P(w,v){if(b(v))throw Error("division by zero");if(b(w))return new T(p,p);if(k(w))return v=P(C(w),v),new T(C(v.g),C(v.h));if(k(v))return v=P(w,C(v)),new T(C(v.g),v.h);if(30<w.g.length){if(k(w)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,S=v;0>=S.l(w);)I=z(I),S=z(S);var A=L(I,1),R=L(S,1);for(S=L(S,2),I=L(I,2);!b(S);){var N=R.add(S);0>=N.l(w)&&(A=A.add(I),R=N),S=L(S,1),I=L(I,1)}return v=_(w,A.j(v)),new T(A,v)}for(A=p;0<=w.l(v);){for(I=Math.max(1,Math.floor(w.m()/v.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(I),N=R.j(v);k(N)||0<N.l(w);)I-=S,R=d(I),N=R.j(v);b(R)&&(R=g),A=A.add(R),w=_(w,N)}return new T(A,w)}t.A=function(w){return P(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],S=0;S<v;S++)I[S]=this.i(S)&w.i(S);return new o(I,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],S=0;S<v;S++)I[S]=this.i(S)|w.i(S);return new o(I,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],S=0;S<v;S++)I[S]=this.i(S)^w.i(S);return new o(I,this.h^w.h)};function z(w){for(var v=w.g.length+1,I=[],S=0;S<v;S++)I[S]=w.i(S)<<1|w.i(S-1)>>>31;return new o(I,w.h)}function L(w,v){var I=v>>5;v%=32;for(var S=w.g.length-I,A=[],R=0;R<S;R++)A[R]=0<v?w.i(R+I)>>>v|w.i(R+I+1)<<32-v:w.i(R+I);return new o(A,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ew=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,pr=o}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var Ka=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tw,Zi,nw,pl,Eh,rw,sw,iw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,m){return a==Array.prototype||a==Object.prototype||(a[h]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ka=="object"&&Ka];for(var h=0;h<a.length;++h){var m=a[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var m=r;a=a.split(".");for(var x=0;x<a.length-1;x++){var j=a[x];if(!(j in m))break e;m=m[j]}a=a[a.length-1],x=m[a],h=h(x),h!=x&&h!=null&&e(m,a,{configurable:!0,writable:!0,value:h})}}function i(a,h){a instanceof String&&(a+="");var m=0,x=!1,j={next:function(){if(!x&&m<a.length){var M=m++;return{value:h(M,a[M]),done:!1}}return x=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(a){return a||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function d(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,m){return a.call.apply(a.bind,arguments)}function p(a,h,m){if(!a)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,x),a.apply(h,j)}}return function(){return a.apply(h,arguments)}}function g(a,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function E(a,h){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),a.apply(this,x)}}function b(a,h){function m(){}m.prototype=h.prototype,a.aa=h.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(x,j,M){for(var H=Array(arguments.length-2),de=2;de<arguments.length;de++)H[de-2]=arguments[de];return h.prototype[j].apply(x,H)}}function k(a){const h=a.length;if(0<h){const m=Array(h);for(let x=0;x<h;x++)m[x]=a[x];return m}return[]}function C(a,h){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(u(x)){const j=a.length||0,M=x.length||0;a.length=j+M;for(let H=0;H<M;H++)a[j+H]=x[H]}else a.push(x)}}class _{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function P(a){return P[" "](a),a}P[" "]=function(){};var z=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(a,h,m){for(const x in a)h.call(m,a[x],x,a)}function w(a,h){for(const m in a)h.call(void 0,a[m],m,a)}function v(a){const h={};for(const m in a)h[m]=a[m];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,h){let m,x;for(let j=1;j<arguments.length;j++){x=arguments[j];for(m in x)a[m]=x[m];for(let M=0;M<I.length;M++)m=I[M],Object.prototype.hasOwnProperty.call(x,m)&&(a[m]=x[m])}}function A(a){var h=1;a=a.split(":");const m=[];for(;0<h&&a.length;)m.push(a.shift()),h--;return a.length&&m.push(a.join(":")),m}function R(a){c.setTimeout(()=>{throw a},0)}function N(){var a=$;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Me{constructor(){this.h=this.g=null}add(h,m){const x=lt.get();x.set(h,m),this.h?this.h.next=x:this.g=x,this.h=x}}var lt=new _(()=>new $e,a=>a.reset());class $e{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,V=!1,$=new Me,F=()=>{const a=c.Promise.resolve(void 0);Je=()=>{a.then(K)}};var K=()=>{for(var a;a=N();){try{a.h.call(a.g)}catch(m){R(m)}var h=lt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}V=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ut=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};c.addEventListener("test",m,h),c.removeEventListener("test",m,h)}catch{}return a}();function pn(a,h){if(he.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,x=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(z){e:{try{P(h.nodeName);var j=!0;break e}catch{}j=!1}j||(h=null)}}else m=="mouseover"?h=a.fromElement:m=="mouseout"&&(h=a.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:gn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&pn.aa.h.call(this)}}b(pn,he);var gn={2:"touch",3:"pen",4:"mouse"};pn.prototype.h=function(){pn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var en="closure_listenable_"+(1e6*Math.random()|0),Y1=0;function X1(a,h,m,x,j){this.listener=a,this.proxy=null,this.src=h,this.type=m,this.capture=!!x,this.ha=j,this.key=++Y1,this.da=this.fa=!1}function ha(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function fa(a){this.src=a,this.g={},this.h=0}fa.prototype.add=function(a,h,m,x,j){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var H=ou(a,h,x,j);return-1<H?(h=a[H],m||(h.fa=!1)):(h=new X1(h,this.src,M,!!x,j),h.fa=m,a.push(h)),h};function iu(a,h){var m=h.type;if(m in a.g){var x=a.g[m],j=Array.prototype.indexOf.call(x,h,void 0),M;(M=0<=j)&&Array.prototype.splice.call(x,j,1),M&&(ha(h),a.g[m].length==0&&(delete a.g[m],a.h--))}}function ou(a,h,m,x){for(var j=0;j<a.length;++j){var M=a[j];if(!M.da&&M.listener==h&&M.capture==!!m&&M.ha==x)return j}return-1}var au="closure_lm_"+(1e6*Math.random()|0),lu={};function Fm(a,h,m,x,j){if(x&&x.once)return zm(a,h,m,x,j);if(Array.isArray(h)){for(var M=0;M<h.length;M++)Fm(a,h[M],m,x,j);return null}return m=hu(m),a&&a[en]?a.K(h,m,d(x)?!!x.capture:!!x,j):Um(a,h,m,!1,x,j)}function Um(a,h,m,x,j,M){if(!h)throw Error("Invalid event type");var H=d(j)?!!j.capture:!!j,de=uu(a);if(de||(a[au]=de=new fa(a)),m=de.add(h,m,x,H,M),m.proxy)return m;if(x=Z1(),m.proxy=x,x.src=a,x.listener=m,a.addEventListener)Ut||(j=H),j===void 0&&(j=!1),a.addEventListener(h.toString(),x,j);else if(a.attachEvent)a.attachEvent(Bm(h.toString()),x);else if(a.addListener&&a.removeListener)a.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Z1(){function a(m){return h.call(a.src,a.listener,m)}const h=eE;return a}function zm(a,h,m,x,j){if(Array.isArray(h)){for(var M=0;M<h.length;M++)zm(a,h[M],m,x,j);return null}return m=hu(m),a&&a[en]?a.L(h,m,d(x)?!!x.capture:!!x,j):Um(a,h,m,!0,x,j)}function $m(a,h,m,x,j){if(Array.isArray(h))for(var M=0;M<h.length;M++)$m(a,h[M],m,x,j);else x=d(x)?!!x.capture:!!x,m=hu(m),a&&a[en]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],m=ou(M,m,x,j),-1<m&&(ha(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=uu(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ou(h,m,x,j)),(m=-1<a?h[a]:null)&&cu(m))}function cu(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[en])iu(h.i,a);else{var m=a.type,x=a.proxy;h.removeEventListener?h.removeEventListener(m,x,a.capture):h.detachEvent?h.detachEvent(Bm(m),x):h.addListener&&h.removeListener&&h.removeListener(x),(m=uu(h))?(iu(m,a),m.h==0&&(m.src=null,h[au]=null)):ha(a)}}}function Bm(a){return a in lu?lu[a]:lu[a]="on"+a}function eE(a,h){if(a.da)a=!0;else{h=new pn(h,this);var m=a.listener,x=a.ha||a.src;a.fa&&cu(a),a=m.call(x,h)}return a}function uu(a){return a=a[au],a instanceof fa?a:null}var du="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(a){return typeof a=="function"?a:(a[du]||(a[du]=function(h){return a.handleEvent(h)}),a[du])}function Ye(){Y.call(this),this.i=new fa(this),this.M=this,this.F=null}b(Ye,Y),Ye.prototype[en]=!0,Ye.prototype.removeEventListener=function(a,h,m,x){$m(this,a,h,m,x)};function ct(a,h){var m,x=a.F;if(x)for(m=[];x;x=x.F)m.push(x);if(a=a.M,x=h.type||h,typeof h=="string")h=new he(h,a);else if(h instanceof he)h.target=h.target||a;else{var j=h;h=new he(x,a),S(h,j)}if(j=!0,m)for(var M=m.length-1;0<=M;M--){var H=h.g=m[M];j=ma(H,x,!0,h)&&j}if(H=h.g=a,j=ma(H,x,!0,h)&&j,j=ma(H,x,!1,h)&&j,m)for(M=0;M<m.length;M++)H=h.g=m[M],j=ma(H,x,!1,h)&&j}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var m=a.g[h],x=0;x<m.length;x++)ha(m[x]);delete a.g[h],a.h--}}this.F=null},Ye.prototype.K=function(a,h,m,x){return this.i.add(String(a),h,!1,m,x)},Ye.prototype.L=function(a,h,m,x){return this.i.add(String(a),h,!0,m,x)};function ma(a,h,m,x){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var j=!0,M=0;M<h.length;++M){var H=h[M];if(H&&!H.da&&H.capture==m){var de=H.listener,Be=H.ha||H.src;H.fa&&iu(a.i,H),j=de.call(Be,x)!==!1&&j}}return j&&!x.defaultPrevented}function Hm(a,h,m){if(typeof a=="function")m&&(a=g(a,m));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function qm(a){a.g=Hm(()=>{a.g=null,a.i&&(a.i=!1,qm(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class tE extends Y{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:qm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(a){Y.call(this),this.h=a,this.g={}}b(Si,Y);var Wm=[];function Gm(a){L(a.g,function(h,m){this.g.hasOwnProperty(m)&&cu(h)},a),a.g={}}Si.prototype.N=function(){Si.aa.N.call(this),Gm(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fu=c.JSON.stringify,nE=c.JSON.parse,rE=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function mu(){}mu.prototype.h=null;function Km(a){return a.h||(a.h=a.i())}function Qm(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pu(){he.call(this,"d")}b(pu,he);function gu(){he.call(this,"c")}b(gu,he);var Vr={},Jm=null;function pa(){return Jm=Jm||new Ye}Vr.La="serverreachability";function Ym(a){he.call(this,Vr.La,a)}b(Ym,he);function bi(a){const h=pa();ct(h,new Ym(h))}Vr.STAT_EVENT="statevent";function Xm(a,h){he.call(this,Vr.STAT_EVENT,a),this.stat=h}b(Xm,he);function ut(a){const h=pa();ct(h,new Xm(h,a))}Vr.Ma="timingevent";function Zm(a,h){he.call(this,Vr.Ma,a),this.size=h}b(Zm,he);function Ci(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function Ai(){this.g=!0}Ai.prototype.xa=function(){this.g=!1};function sE(a,h,m,x,j,M){a.info(function(){if(a.g)if(M)for(var H="",de=M.split("&"),Be=0;Be<de.length;Be++){var le=de[Be].split("=");if(1<le.length){var Xe=le[0];le=le[1];var Ze=Xe.split("_");H=2<=Ze.length&&Ze[1]=="type"?H+(Xe+"="+le+"&"):H+(Xe+"=redacted&")}}else H=null;else H=M;return"XMLHTTP REQ ("+x+") [attempt "+j+"]: "+h+`
`+m+`
`+H})}function iE(a,h,m,x,j,M,H){a.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+j+"]: "+h+`
`+m+`
`+M+" "+H})}function fs(a,h,m,x){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+aE(a,m)+(x?" "+x:"")})}function oE(a,h){a.info(function(){return"TIMEOUT: "+h})}Ai.prototype.info=function(){};function aE(a,h){if(!a.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var x=m[a];if(!(2>x.length)){var j=x[1];if(Array.isArray(j)&&!(1>j.length)){var M=j[0];if(M!="noop"&&M!="stop"&&M!="close")for(var H=1;H<j.length;H++)j[H]=""}}}}return fu(m)}catch{return h}}var ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ep={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yu;function ya(){}b(ya,mu),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},yu=new ya;function Un(a,h,m,x){this.j=a,this.i=h,this.l=m,this.R=x||1,this.U=new Si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tp}function tp(){this.i=null,this.g="",this.h=!1}var np={},vu={};function xu(a,h,m){a.L=1,a.v=wa(yn(h)),a.m=m,a.P=!0,rp(a,null)}function rp(a,h){a.F=Date.now(),va(a),a.A=yn(a.v);var m=a.A,x=a.R;Array.isArray(x)||(x=[String(x)]),yp(m.i,"t",x),a.C=0,m=a.j.J,a.h=new tp,a.g=Mp(a.j,m?h:null,!a.m),0<a.O&&(a.M=new tE(g(a.Y,a,a.g),a.O)),h=a.U,m=a.g,x=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(Wm[0]=j.toString()),j=Wm);for(var M=0;M<j.length;M++){var H=Fm(m,j[M],x||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),bi(),sE(a.i,a.u,a.A,a.l,a.R,a.m)}Un.prototype.ca=function(a){a=a.target;const h=this.M;h&&vn(a)==3?h.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)e:{const Ze=vn(this.g);var h=this.g.Ba();const gs=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||Ip(this.g)))){this.J||Ze!=4||h==7||(h==8||0>=gs?bi(3):bi(2)),_u(this);var m=this.g.Z();this.X=m;t:if(sp(this)){var x=Ip(this.g);a="";var j=x.length,M=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),ki(this);var H="";break t}this.h.i=new c.TextDecoder}for(h=0;h<j;h++)this.h.h=!0,a+=this.h.i.decode(x[h],{stream:!(M&&h==j-1)});x.length=0,this.h.g+=a,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=m==200,iE(this.i,this.u,this.A,this.l,this.R,Ze,m),this.o){if(this.T&&!this.K){t:{if(this.g){var de,Be=this.g;if((de=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(de)){var le=de;break t}}le=null}if(m=le)fs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wu(this,m);else{this.o=!1,this.s=3,ut(12),Lr(this),ki(this);break e}}if(this.P){m=!0;let zt;for(;!this.J&&this.C<H.length;)if(zt=lE(this,H),zt==vu){Ze==4&&(this.s=4,ut(14),m=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==np){this.s=4,ut(15),fs(this.i,this.l,H,"[Invalid Chunk]"),m=!1;break}else fs(this.i,this.l,zt,null),wu(this,zt);if(sp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||H.length!=0||this.h.h||(this.s=1,ut(16),m=!1),this.o=this.o&&m,!m)fs(this.i,this.l,H,"[Invalid Chunked Response]"),Lr(this),ki(this);else if(0<H.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),bu(Xe),Xe.M=!0,ut(11))}}else fs(this.i,this.l,H,null),wu(this,H);Ze==4&&Lr(this),this.o&&!this.J&&(Ze==4?Pp(this.j,this):(this.o=!1,va(this)))}else SE(this.g),m==400&&0<H.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Lr(this),ki(this)}}}catch{}finally{}};function sp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function lE(a,h){var m=a.C,x=h.indexOf(`
`,m);return x==-1?vu:(m=Number(h.substring(m,x)),isNaN(m)?np:(x+=1,x+m>h.length?vu:(h=h.slice(x,x+m),a.C=x+m,h)))}Un.prototype.cancel=function(){this.J=!0,Lr(this)};function va(a){a.S=Date.now()+a.I,ip(a,a.I)}function ip(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ci(g(a.ba,a),h)}function _u(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Un.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(oE(this.i,this.A),this.L!=2&&(bi(),ut(17)),Lr(this),this.s=2,ki(this)):ip(this,this.S-a)};function ki(a){a.j.G==0||a.J||Pp(a.j,a)}function Lr(a){_u(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Gm(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function wu(a,h){try{var m=a.j;if(m.G!=0&&(m.g==a||Eu(m.h,a))){if(!a.K&&Eu(m.h,a)&&m.G==3){try{var x=m.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var j=x;if(j[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)ba(m),Sa(m);else break e;Nu(m),ut(18)}}else m.za=j[1],0<m.za-m.T&&37500>j[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ci(g(m.Za,m),6e3));if(1>=lp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Fr(m,11)}else if((a.K||m.g==a)&&ba(m),!y(h))for(j=m.Da.g.parse(h),h=0;h<j.length;h++){let le=j[h];if(m.T=le[0],le=le[1],m.G==2)if(le[0]=="c"){m.K=le[1],m.ia=le[2];const Xe=le[3];Xe!=null&&(m.la=Xe,m.j.info("VER="+m.la));const Ze=le[4];Ze!=null&&(m.Aa=Ze,m.j.info("SVER="+m.Aa));const gs=le[5];gs!=null&&typeof gs=="number"&&0<gs&&(x=1.5*gs,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const zt=a.g;if(zt){const Aa=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var M=x.h;M.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Tu(M,M.h),M.h=null))}if(x.D){const Cu=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(x.ya=Cu,pe(x.I,x.D,Cu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var H=a;if(x.qa=Dp(x,x.J?x.ia:null,x.W),H.K){cp(x.h,H);var de=H,Be=x.L;Be&&(de.I=Be),de.B&&(_u(de),va(de)),x.g=H}else Ap(x);0<m.i.length&&Na(m)}else le[0]!="stop"&&le[0]!="close"||Fr(m,7);else m.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Fr(m,7):Su(m):le[0]!="noop"&&m.l&&m.l.ta(le),m.v=0)}}bi(4)}catch{}}var cE=class{constructor(a,h){this.g=a,this.map=h}};function op(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ap(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function lp(a){return a.h?1:a.g?a.g.size:0}function Eu(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Tu(a,h){a.g?a.g.add(h):a.h=h}function cp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}op.prototype.cancel=function(){if(this.i=up(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function up(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const m of a.g.values())h=h.concat(m.D);return h}return k(a.i)}function uE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],m=a.length,x=0;x<m;x++)h.push(a[x]);return h}h=[],m=0;for(x in a)h[m++]=a[x];return h}function dE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var m=0;m<a;m++)h.push(m);return h}h=[],m=0;for(const x in a)h[m++]=x;return h}}}function dp(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var m=dE(a),x=uE(a),j=x.length,M=0;M<j;M++)h.call(void 0,x[M],m&&m[M],a)}var hp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hE(a,h){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var x=a[m].indexOf("="),j=null;if(0<=x){var M=a[m].substring(0,x);j=a[m].substring(x+1)}else M=a[m];h(M,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Or(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Or){this.h=a.h,xa(this,a.j),this.o=a.o,this.g=a.g,_a(this,a.s),this.l=a.l;var h=a.i,m=new ji;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),fp(this,m),this.m=a.m}else a&&(h=String(a).match(hp))?(this.h=!1,xa(this,h[1]||"",!0),this.o=Pi(h[2]||""),this.g=Pi(h[3]||"",!0),_a(this,h[4]),this.l=Pi(h[5]||"",!0),fp(this,h[6]||"",!0),this.m=Pi(h[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}Or.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Ri(h,mp,!0),":");var m=this.g;return(m||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Ri(h,mp,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Ri(m,m.charAt(0)=="/"?pE:mE,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Ri(m,yE)),a.join("")};function yn(a){return new Or(a)}function xa(a,h,m){a.j=m?Pi(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function _a(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function fp(a,h,m){h instanceof ji?(a.i=h,vE(a.i,a.h)):(m||(h=Ri(h,gE)),a.i=new ji(h,a.h))}function pe(a,h,m){a.i.set(h,m)}function wa(a){return pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Pi(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ri(a,h,m){return typeof a=="string"?(a=encodeURI(a).replace(h,fE),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function fE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var mp=/[#\/\?@]/g,mE=/[#\?:]/g,pE=/[#\?]/g,gE=/[#\?@]/g,yE=/#/g;function ji(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function zn(a){a.g||(a.g=new Map,a.h=0,a.i&&hE(a.i,function(h,m){a.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=ji.prototype,t.add=function(a,h){zn(this),this.i=null,a=ms(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(h),this.h+=1,this};function pp(a,h){zn(a),h=ms(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function gp(a,h){return zn(a),h=ms(a,h),a.g.has(h)}t.forEach=function(a,h){zn(this),this.g.forEach(function(m,x){m.forEach(function(j){a.call(h,j,x,this)},this)},this)},t.na=function(){zn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let x=0;x<h.length;x++){const j=a[x];for(let M=0;M<j.length;M++)m.push(h[x])}return m},t.V=function(a){zn(this);let h=[];if(typeof a=="string")gp(this,a)&&(h=h.concat(this.g.get(ms(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)h=h.concat(a[m])}return h},t.set=function(a,h){return zn(this),this.i=null,a=ms(this,a),gp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function yp(a,h,m){pp(a,h),0<m.length&&(a.i=null,a.g.set(ms(a,h),k(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var x=h[m];const M=encodeURIComponent(String(x)),H=this.V(x);for(x=0;x<H.length;x++){var j=M;H[x]!==""&&(j+="="+encodeURIComponent(String(H[x]))),a.push(j)}}return this.i=a.join("&")};function ms(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function vE(a,h){h&&!a.j&&(zn(a),a.i=null,a.g.forEach(function(m,x){var j=x.toLowerCase();x!=j&&(pp(this,x),yp(this,j,m))},a)),a.j=h}function xE(a,h){const m=new Ai;if(c.Image){const x=new Image;x.onload=E($n,m,"TestLoadImage: loaded",!0,h,x),x.onerror=E($n,m,"TestLoadImage: error",!1,h,x),x.onabort=E($n,m,"TestLoadImage: abort",!1,h,x),x.ontimeout=E($n,m,"TestLoadImage: timeout",!1,h,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=a}else h(!1)}function _E(a,h){const m=new Ai,x=new AbortController,j=setTimeout(()=>{x.abort(),$n(m,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:x.signal}).then(M=>{clearTimeout(j),M.ok?$n(m,"TestPingServer: ok",!0,h):$n(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(j),$n(m,"TestPingServer: error",!1,h)})}function $n(a,h,m,x,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),x(m)}catch{}}function wE(){this.g=new rE}function EE(a,h,m){const x=m||"";try{dp(a,function(j,M){let H=j;d(j)&&(H=fu(j)),h.push(x+M+"="+encodeURIComponent(H))})}catch(j){throw h.push(x+"type="+encodeURIComponent("_badmap")),j}}function Ea(a){this.l=a.Ub||null,this.j=a.eb||!1}b(Ea,mu),Ea.prototype.g=function(){return new Ta(this.l,this.j)},Ea.prototype.i=function(a){return function(){return a}}({});function Ta(a,h){Ye.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ta,Ye),t=Ta.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Mi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function vp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Di(this):Mi(this),this.readyState==3&&vp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Di(this))},t.Qa=function(a){this.g&&(this.response=a,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Mi(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=h.next();return a.join(`\r
`)};function Mi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function xp(a){let h="";return L(a,function(m,x){h+=x,h+=":",h+=m,h+=`\r
`}),h}function Iu(a,h,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=xp(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):pe(a,h,m))}function Ie(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ie,Ye);var TE=/^https?$/i,IE=["POST","PUT"];t=Ie.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yu.g(),this.v=this.o?Km(this.o):Km(yu),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){_p(this,M);return}if(a=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var j in x)m.set(j,x[j]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const M of x.keys())m.set(M,x.get(M));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),j=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(IE,h,void 0))||x||j||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,H]of m)this.g.setRequestHeader(M,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tp(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){_p(this,M)}};function _p(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,wp(a),Ia(a)}function wp(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),Ia(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ia(this,!0)),Ie.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ep(this):this.bb())},t.bb=function(){Ep(this)};function Ep(a){if(a.h&&typeof o<"u"&&(!a.v[1]||vn(a)!=4||a.Z()!=2)){if(a.u&&vn(a)==4)Hm(a.Ea,0,a);else if(ct(a,"readystatechange"),vn(a)==4){a.h=!1;try{const H=a.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var x;if(x=H===0){var j=String(a.D).match(hp)[1]||null;!j&&c.self&&c.self.location&&(j=c.self.location.protocol.slice(0,-1)),x=!TE.test(j?j.toLowerCase():"")}m=x}if(m)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var M=2<vn(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",wp(a)}}finally{Ia(a)}}}}function Ia(a,h){if(a.g){Tp(a);const m=a.g,x=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ct(a,"ready");try{m.onreadystatechange=x}catch{}}}function Tp(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function vn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),nE(h)}};function Ip(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function SE(a){const h={};a=(a.g&&2<=vn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<a.length;x++){if(y(a[x]))continue;var m=A(a[x]);const j=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=h[j]||[];h[j]=M,M.push(m)}w(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(a,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||h}function Sp(a){this.Aa=0,this.i=[],this.j=new Ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,a),this.cb=Vi("retryDelaySeedMs",1e4,a),this.Wa=Vi("forwardChannelMaxRetries",2,a),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new op(a&&a.concurrentRequestLimit),this.Da=new wE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sp.prototype,t.la=8,t.G=1,t.connect=function(a,h,m,x){ut(0),this.W=a,this.H=h||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=Dp(this,null,this.W),Na(this)};function Su(a){if(Np(a),a.G==3){var h=a.U++,m=yn(a.I);if(pe(m,"SID",a.K),pe(m,"RID",h),pe(m,"TYPE","terminate"),Li(a,m),h=new Un(a,a.j,h),h.L=2,h.v=wa(yn(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=h.v,m=!0),m||(h.g=Mp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),va(h)}jp(a)}function Sa(a){a.g&&(bu(a),a.g.cancel(),a.g=null)}function Np(a){Sa(a),a.u&&(c.clearTimeout(a.u),a.u=null),ba(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Na(a){if(!ap(a.h)&&!a.s){a.s=!0;var h=a.Ga;Je||F(),V||(Je(),V=!0),$.add(h,a),a.B=0}}function NE(a,h){return lp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ci(g(a.Ga,a,h),Rp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new Un(this,this.j,a);let M=this.o;if(this.S&&(M?(M=v(M),S(M,this.S)):M=this.S),this.m!==null||this.O||(j.H=M,M=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Cp(this,j,h),m=yn(this.I),pe(m,"RID",a),pe(m,"CVER",22),this.D&&pe(m,"X-HTTP-Session-Id",this.D),Li(this,m),M&&(this.O?h="headers="+encodeURIComponent(String(xp(M)))+"&"+h:this.m&&Iu(m,this.m,M)),Tu(this.h,j),this.Ua&&pe(m,"TYPE","init"),this.P?(pe(m,"$req",h),pe(m,"SID","null"),j.T=!0,xu(j,m,null)):xu(j,m,h),this.G=2}}else this.G==3&&(a?bp(this,a):this.i.length==0||ap(this.h)||bp(this))};function bp(a,h){var m;h?m=h.l:m=a.U++;const x=yn(a.I);pe(x,"SID",a.K),pe(x,"RID",m),pe(x,"AID",a.T),Li(a,x),a.m&&a.o&&Iu(x,a.m,a.o),m=new Un(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Cp(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Tu(a.h,m),xu(m,x,h)}function Li(a,h){a.H&&L(a.H,function(m,x){pe(h,x,m)}),a.l&&dp({},function(m,x){pe(h,x,m)})}function Cp(a,h,m){m=Math.min(a.i.length,m);var x=a.l?g(a.l.Na,a.l,a):null;e:{var j=a.i;let M=-1;for(;;){const H=["count="+m];M==-1?0<m?(M=j[0].g,H.push("ofs="+M)):M=0:H.push("ofs="+M);let de=!0;for(let Be=0;Be<m;Be++){let le=j[Be].g;const Xe=j[Be].map;if(le-=M,0>le)M=Math.max(0,j[Be].g-100),de=!1;else try{EE(Xe,H,"req"+le+"_")}catch{x&&x(Xe)}}if(de){x=H.join("&");break e}}}return a=a.i.splice(0,m),h.D=a,x}function Ap(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Je||F(),V||(Je(),V=!0),$.add(h,a),a.v=0}}function Nu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ci(g(a.Fa,a),Rp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,kp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ci(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Sa(this),kp(this))};function bu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function kp(a){a.g=new Un(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=yn(a.qa);pe(h,"RID","rpc"),pe(h,"SID",a.K),pe(h,"AID",a.T),pe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&pe(h,"TO",a.ja),pe(h,"TYPE","xmlhttp"),Li(a,h),a.m&&a.o&&Iu(h,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=wa(yn(h)),m.m=null,m.P=!0,rp(m,a)}t.Za=function(){this.C!=null&&(this.C=null,Sa(this),Nu(this),ut(19))};function ba(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Pp(a,h){var m=null;if(a.g==h){ba(a),bu(a),a.g=null;var x=2}else if(Eu(a.h,h))m=h.D,cp(a.h,h),x=1;else return;if(a.G!=0){if(h.o)if(x==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var j=a.B;x=pa(),ct(x,new Zm(x,m)),Na(a)}else Ap(a);else if(j=h.s,j==3||j==0&&0<h.X||!(x==1&&NE(a,h)||x==2&&Nu(a)))switch(m&&0<m.length&&(h=a.h,h.i=h.i.concat(m)),j){case 1:Fr(a,5);break;case 4:Fr(a,10);break;case 3:Fr(a,6);break;default:Fr(a,2)}}}function Rp(a,h){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*h}function Fr(a,h){if(a.j.info("Error code "+h),h==2){var m=g(a.fb,a),x=a.Xa;const j=!x;x=new Or(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xa(x,"https"),wa(x),j?xE(x.toString(),m):_E(x.toString(),m)}else ut(2);a.G=0,a.l&&a.l.sa(h),jp(a),Np(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function jp(a){if(a.G=0,a.ka=[],a.l){const h=up(a.h);(h.length!=0||a.i.length!=0)&&(C(a.ka,h),C(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Dp(a,h,m){var x=m instanceof Or?yn(m):new Or(m);if(x.g!="")h&&(x.g=h+"."+x.g),_a(x,x.s);else{var j=c.location;x=j.protocol,h=h?h+"."+j.hostname:j.hostname,j=+j.port;var M=new Or(null);x&&xa(M,x),h&&(M.g=h),j&&_a(M,j),m&&(M.l=m),x=M}return m=a.D,h=a.ya,m&&h&&pe(x,m,h),pe(x,"VER",a.la),Li(a,x),x}function Mp(a,h,m){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ie(new Ea({eb:m})):new Ie(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vp(){}t=Vp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ca(){}Ca.prototype.g=function(a,h){return new Tt(a,h)};function Tt(a,h){Ye.call(this),this.g=new Sp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new ps(this)}b(Tt,Ye),Tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tt.prototype.close=function(){Su(this.g)},Tt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=fu(a),a=m);h.i.push(new cE(h.Ya++,a)),h.G==3&&Na(h)},Tt.prototype.N=function(){this.g.l=null,delete this.j,Su(this.g),delete this.g,Tt.aa.N.call(this)};function Lp(a){pu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const m in h){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}b(Lp,pu);function Op(){gu.call(this),this.status=1}b(Op,gu);function ps(a){this.g=a}b(ps,Vp),ps.prototype.ua=function(){ct(this.g,"a")},ps.prototype.ta=function(a){ct(this.g,new Lp(a))},ps.prototype.sa=function(a){ct(this.g,new Op)},ps.prototype.ra=function(){ct(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Tt.prototype.send=Tt.prototype.o,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,iw=function(){return new Ca},sw=function(){return pa()},rw=Vr,Eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,pl=ga,ep.COMPLETE="complete",nw=ep,Qm.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Zi=Qm,Ie.prototype.listenOnce=Ie.prototype.L,Ie.prototype.getLastError=Ie.prototype.Ka,Ie.prototype.getLastErrorCode=Ie.prototype.Ba,Ie.prototype.getStatus=Ie.prototype.Z,Ie.prototype.getResponseJson=Ie.prototype.Oa,Ie.prototype.getResponseText=Ie.prototype.oa,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Ha,tw=Ie}).apply(typeof Ka<"u"?Ka:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore",jy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new $f("@firebase/firestore");function vs(){return is.logLevel}function W(t,...e){if(is.logLevel<=re.DEBUG){const n=e.map(tm);is.debug(`Firestore (${xi}): ${t}`,...n)}}function Dn(t,...e){if(is.logLevel<=re.ERROR){const n=e.map(tm);is.error(`Firestore (${xi}): ${t}`,...n)}}function ni(t,...e){if(is.logLevel<=re.WARN){const n=e.map(tm);is.warn(`Firestore (${xi}): ${t}`,...n)}}function tm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ow(t,r,n)}function ow(t,e,n){let r=`FIRESTORE (${xi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dn(r),new Error(r)}function ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ow(e,s,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lA{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ce(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new aw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string",2055,{h:e}),new rt(e)}}class cA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new cA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,St(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ce(this.o===void 0,3512);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=hA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function Th(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return cd(s)===cd(i)?se(s,i):cd(s)?1:-1}return se(t.length,e.length)}const fA=55296,mA=57343;function cd(t){const e=t.charCodeAt(0);return e>=fA&&e<=mA}function ri(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="__name__";class rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return se(e.length,n.length)}static compareSegments(e,n){const r=rn.isNumericId(e),s=rn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rn.extractNumericId(e).compare(rn.extractNumericId(n)):Th(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class fe extends rn{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const pA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends rn{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return pA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===My}static keyField(){return new We([My])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(fe.fromString(e))}static fromName(e){return new Q(fe.fromString(e).popFirst(5))}static empty(){return new Q(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e,n){if(!n)throw new q(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gA(t,e,n,r){if(e===!0&&r===!0)throw new q(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vy(t){if(!Q.isDocumentKey(t))throw new q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ly(t){if(Q.isDocumentKey(t))throw new q(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lc(t);throw new q(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e){const n={typeString:t};return e&&(n.value=e),n}function ra(t,e){if(!cw(t))throw new q(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,Fy=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Fy);return new ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Oy)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ra(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:je("string",ye._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new ye(0,0))}static max(){return new ee(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=-1;function yA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new wr(s,Q.empty(),e)}function vA(t){return new wr(t.readTime,t.key,Uo)}class wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wr(ee.min(),Q.empty(),Uo)}static max(){return new wr(ee.max(),Q.empty(),Uo)}}function xA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _i(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==_A)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++c,c===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function EA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function Fc(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function TA(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="";function IA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Uy(e)),e=SA(t.get(n),e);return Uy(e)}function SA(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case uw:n+="";break;default:n+=i}}return n}function Uy(t){return t+uw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}}class Qa{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qe.RED,this.left=s??qe.EMPTY,this.right=i??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new qe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class $y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new bt([])}unionWith(e){let n=new Oe(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hw("Invalid base64 string: "+i):i}}(e);return new Qe(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Qe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const NA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(ce(!!t,39018),typeof t=="string"){let e=0;const n=NA.exec(t);if(ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tr(t){return typeof t=="string"?Qe.fromBase64String(t):Qe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="server_timestamp",mw="__type__",pw="__previous_value__",gw="__local_write_time__";function sm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mw])==null?void 0:r.stringValue)===fw}function Uc(t){const e=t.mapValue.fields[pw];return sm(e)?Uc(e):e}function zo(t){const e=Er(t.mapValue.fields[gw].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,s,i,o,c,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const nc="(default)";class $o{constructor(e,n){this.projectId=e,this.database=n||nc}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="__type__",vw="__max__",Ja={mapValue:{fields:{__type__:{stringValue:vw}}}},xw="__vector__",rc="value";function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sm(t)?4:AA(t)?9007199254740991:CA(t)?10:11:Z(28295,{value:t})}function mn(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zo(t).isEqual(zo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Er(s.timestampValue),c=Er(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Tr(s.bytesValue).isEqual(Tr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return be(s.geoPointValue.latitude)===be(i.geoPointValue.latitude)&&be(s.geoPointValue.longitude)===be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return be(s.integerValue)===be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=be(s.doubleValue),c=be(i.doubleValue);return o===c?tc(o)===tc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ri(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(zy(o)!==zy(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!mn(o[u],c[u])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function Bo(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function si(t,e){if(t===e)return 0;const n=Ir(t),r=Ir(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=be(i.integerValue||i.doubleValue),u=be(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return By(t.timestampValue,e.timestampValue);case 4:return By(zo(t),zo(e));case 5:return Th(t.stringValue,e.stringValue);case 6:return function(i,o){const c=Tr(i),u=Tr(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=se(c[d],u[d]);if(f!==0)return f}return se(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=se(be(i.latitude),be(o.latitude));return c!==0?c:se(be(i.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hy(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,E,b,k;const c=i.fields||{},u=o.fields||{},d=(g=c[rc])==null?void 0:g.arrayValue,f=(E=u[rc])==null?void 0:E.arrayValue,p=se(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((k=f==null?void 0:f.values)==null?void 0:k.length)||0);return p!==0?p:Hy(d,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ja.mapValue&&o===Ja.mapValue)return 0;if(i===Ja.mapValue)return 1;if(o===Ja.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=Th(u[p],f[p]);if(g!==0)return g;const E=si(c[u[p]],d[f[p]]);if(E!==0)return E}return se(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function By(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=Er(t),r=Er(e),s=se(n.seconds,r.seconds);return s!==0?s:se(n.nanos,r.nanos)}function Hy(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=si(n[s],r[s]);if(i)return i}return se(n.length,r.length)}function ii(t){return Ih(t)}function Ih(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ih(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ih(n.fields[o])}`;return s+"}"}(t.mapValue):Z(61005,{value:t})}function gl(t){switch(Ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uc(t);return e?16+gl(e):16;case 5:return 2*t.stringValue.length;case 6:return Tr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+gl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Dr(r.fields,(i,o)=>{s+=i.length+gl(o)}),s}(t.mapValue);default:throw Z(13486,{value:t})}}function qy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sh(t){return!!t&&"integerValue"in t}function im(t){return!!t&&"arrayValue"in t}function Wy(t){return!!t&&"nullValue"in t}function Gy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yl(t){return!!t&&"mapValue"in t}function CA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yw])==null?void 0:r.stringValue)===xw}function po(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Dr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=po(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=po(t.arrayValue.values[n]);return e}return{...t}}function AA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.value=e}static empty(){return new vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(n)}setAll(e){let n=We.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=po(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());yl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];yl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Dr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new vt(po(this.value))}}function _w(t){const e=[];return Dr(t.fields,(n,r)=>{const s=new We([n]);if(yl(r)){const i=_w(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new it(e,0,ee.min(),ee.min(),ee.min(),vt.empty(),0)}static newFoundDocument(e,n,r,s){return new it(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new it(e,2,n,ee.min(),ee.min(),vt.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,ee.min(),ee.min(),vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.position=e,this.inclusive=n}}function Ky(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=si(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function kA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{}class Re extends ww{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RA(e,n,r):n==="array-contains"?new MA(e,r):n==="in"?new VA(e,r):n==="not-in"?new LA(e,r):n==="array-contains-any"?new OA(e,r):new Re(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jA(e,r):new DA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(si(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zt extends ww{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zt(e,n)}matches(e){return Ew(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ew(t){return t.op==="and"}function Tw(t){return PA(t)&&Ew(t)}function PA(t){for(const e of t.filters)if(e instanceof Zt)return!1;return!0}function Nh(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+ii(t.value);if(Tw(t))return t.filters.map(e=>Nh(e)).join(",");{const e=t.filters.map(n=>Nh(n)).join(",");return`${t.op}(${e})`}}function Iw(t,e){return t instanceof Re?function(r,s){return s instanceof Re&&r.op===s.op&&r.field.isEqual(s.field)&&mn(r.value,s.value)}(t,e):t instanceof Zt?function(r,s){return s instanceof Zt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&Iw(o,s.filters[c]),!0):!1}(t,e):void Z(19439)}function Sw(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${ii(n.value)}`}(t):t instanceof Zt?function(n){return n.op.toString()+" {"+n.getFilters().map(Sw).join(" ,")+"}"}(t):"Filter"}class RA extends Re{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class jA extends Re{constructor(e,n){super(e,"in",n),this.keys=Nw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DA extends Re{constructor(e,n){super(e,"not-in",n),this.keys=Nw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nw(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class MA extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return im(n)&&Bo(n.arrayValue,this.value)}}class VA extends Re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bo(this.value.arrayValue,n)}}class LA extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bo(this.value.arrayValue,n)}}class OA extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!im(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function Jy(t,e=null,n=[],r=[],s=null,i=null,o=null){return new FA(t,e,n,r,s,i,o)}function om(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ii(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ii(r)).join(",")),e.Te=n}return e.Te}function am(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Iw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qy(t.startAt,e.startAt)&&Qy(t.endAt,e.endAt)}function bh(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UA(t,e,n,r,s,i,o,c){return new sa(t,e,n,r,s,i,o,c)}function zc(t){return new sa(t)}function Yy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bw(t){return t.collectionGroup!==null}function go(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Oe(We.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ic(i,r))}),n.has(We.keyField().canonicalString())||e.Ie.push(new ic(We.keyField(),r))}return e.Ie}function un(t){const e=te(t);return e.Ee||(e.Ee=zA(e,go(t))),e.Ee}function zA(t,e){if(t.limitType==="F")return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ic(s.field,i)});const n=t.endAt?new sc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sc(t.startAt.position,t.startAt.inclusive):null;return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ch(t,e){const n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $c(t,e){return am(un(t),un(e))&&t.limitType===e.limitType}function Cw(t){return`${om(un(t))}|lt:${t.limitType}`}function xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Sw(s)).join(", ")}]`),Fc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ii(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ii(s)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function Bc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of go(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,u){const d=Ky(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,go(r),s)||r.endAt&&!function(o,c,u){const d=Ky(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,go(r),s))}(t,e)}function $A(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Aw(t){return(e,n)=>{let r=!1;for(const s of go(t)){const i=BA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BA(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,c){const u=o.data.field(i),d=c.data.field(i);return u!==null&&d!==null?si(u,d):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new Te(Q.comparator);function Mn(){return HA}const kw=new Te(Q.comparator);function eo(...t){let e=kw;for(const n of t)e=e.insert(n.key,n);return e}function Pw(t){let e=kw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return yo()}function Rw(){return yo()}function yo(){return new ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const qA=new Te(Q.comparator),WA=new Oe(Q.comparator);function ie(...t){let e=WA;for(const n of t)e=e.add(n);return e}const GA=new Oe(se);function KA(){return GA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function jw(t){return{integerValue:""+t}}function QA(t,e){return TA(e)?jw(e):lm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function JA(t,e,n){return t instanceof oc?function(s,i){const o={fields:{[mw]:{stringValue:fw},[gw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&sm(i)&&(i=Uc(i)),i&&(o.fields[pw]=i),{mapValue:o}}(n,e):t instanceof oi?Mw(t,e):t instanceof Ho?Vw(t,e):function(s,i){const o=Dw(s,i),c=Xy(o)+Xy(s.Ae);return Sh(o)&&Sh(s.Ae)?jw(c):lm(s.serializer,c)}(t,e)}function YA(t,e,n){return t instanceof oi?Mw(t,e):t instanceof Ho?Vw(t,e):n}function Dw(t,e){return t instanceof ac?function(r){return Sh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class oc extends Hc{}class oi extends Hc{constructor(e){super(),this.elements=e}}function Mw(t,e){const n=Lw(e);for(const r of t.elements)n.some(s=>mn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends Hc{constructor(e){super(),this.elements=e}}function Vw(t,e){let n=Lw(e);for(const r of t.elements)n=n.filter(s=>!mn(s,r));return{arrayValue:{values:n}}}class ac extends Hc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Xy(t){return be(t.integerValue||t.doubleValue)}function Lw(t){return im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.field=e,this.transform=n}}function ZA(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof oi&&s instanceof oi||r instanceof Ho&&s instanceof Ho?ri(r.elements,s.elements,mn):r instanceof ac&&s instanceof ac?mn(r.Ae,s.Ae):r instanceof oc&&s instanceof oc}(t.transform,e.transform)}class ek{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qc{}function Ow(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uw(t.key,Yt.none()):new ia(t.key,t.data,Yt.none());{const n=t.data,r=vt.empty();let s=new Oe(We.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Mr(t.key,r,new bt(s.toArray()),Yt.none())}}function tk(t,e,n){t instanceof ia?function(s,i,o){const c=s.value.clone(),u=e0(s.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Mr?function(s,i,o){if(!vl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=e0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Fw(s)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vo(t,e,n,r){return t instanceof ia?function(i,o,c,u){if(!vl(i.precondition,o))return c;const d=i.value.clone(),f=t0(i.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mr?function(i,o,c,u){if(!vl(i.precondition,o))return c;const d=t0(i.fieldTransforms,u,o),f=o.data;return f.setAll(Fw(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,c){return vl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function nk(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Dw(r.transform,s||null);i!=null&&(n===null&&(n=vt.empty()),n.set(r.field,i))}return n||null}function Zy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ri(r,s,(i,o)=>ZA(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ia extends qc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mr extends qc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function e0(t,e,n){const r=new Map;ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,YA(o,c,n[s]))}return r}function t0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,JA(i,o,e))}return r}class Uw extends qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rk extends qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tk(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rw();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const u=Ow(o,c);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(n,r)=>Zy(n,r))&&ri(this.baseMutations,e.baseMutations,(n,r)=>Zy(n,r))}}class cm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return qA}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new cm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,oe;function ak(t){switch(t){case O.OK:return Z(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function zw(t){if(t===void 0)return Dn("GRPC error has no .code"),O.UNKNOWN;switch(t){case ke.OK:return O.OK;case ke.CANCELLED:return O.CANCELLED;case ke.UNKNOWN:return O.UNKNOWN;case ke.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ke.INTERNAL:return O.INTERNAL;case ke.UNAVAILABLE:return O.UNAVAILABLE;case ke.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ke.NOT_FOUND:return O.NOT_FOUND;case ke.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ke.ABORTED:return O.ABORTED;case ke.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ke.DATA_LOSS:return O.DATA_LOSS;default:return Z(39323,{code:t})}}(oe=ke||(ke={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new pr([4294967295,4294967295],0);function n0(t){const e=lk().encode(t),n=new ew;return n.update(e),new Uint8Array(n.digest())}function r0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new pr([n,r],0),new pr([s,i],0)]}class um{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new to(`Invalid padding: ${n}`);if(r<0)throw new to(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new to(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(pr.fromNumber(r)));return s.compare(ck)===1&&(s=new pr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n0(e),[r,s]=r0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new um(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const n=n0(e),[r,s]=r0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,oa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wc(ee.min(),s,new Te(se),Mn(),ie())}}class oa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oa(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class $w{constructor(e,n){this.targetId=e,this.Ce=n}}class Bw{constructor(e,n,r=Qe.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class s0{constructor(){this.ve=0,this.Fe=i0(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ie(),n=ie(),r=ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z(38017,{changeType:i})}}),new oa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=i0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mn(),this.Je=Ya(),this.He=Ya(),this.Ye=new Te(se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(bh(i))if(r===0){const o=new Q(i.path);this.et(n,o,it.newNoDocument(o,ee.min()))}else ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Tr(r).toUint8Array()}catch(u){if(u instanceof hw)return ni("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new um(o,s,i)}catch(u){return ni(u instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const c=this.ot(o);if(c){if(i.current&&bh(c.target)){const u=new Q(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,it.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ie();this.He.forEach((i,o)=>{let c=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Wc(e,n,this.Ye,this.je,r);return this.je=Mn(),this.Je=Ya(),this.He=Ya(),this.Ye=new Te(se),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new s0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Oe(se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Oe(se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ya(){return new Te(Q.comparator)}function i0(){return new Te(Q.comparator)}const dk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fk=(()=>({and:"AND",or:"OR"}))();class mk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kh(t,e){return t.useProto3Json||Fc(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pk(t,e){return lc(t,e.toTimestamp())}function dn(t){return ce(!!t,49232),ee.fromTimestamp(function(n){const r=Er(n);return new ye(r.seconds,r.nanos)}(t))}function dm(t,e){return Ph(t,e).canonicalString()}function Ph(t,e){const n=function(s){return new fe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qw(t){const e=fe.fromString(t);return ce(Jw(e),10190,{key:e.toString()}),e}function Rh(t,e){return dm(t.databaseId,e.path)}function ud(t,e){const n=qw(e);if(n.get(1)!==t.databaseId.projectId)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(Gw(n))}function Ww(t,e){return dm(t.databaseId,e)}function gk(t){const e=qw(t);return e.length===4?fe.emptyPath():Gw(e)}function jh(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gw(t){return ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function o0(t,e,n){return{name:Rh(t,e),fields:n.value.mapValue.fields}}function yk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Z(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ce(f===void 0||typeof f=="string",58123),Qe.fromBase64String(f||"")):(ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Qe.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const f=d.code===void 0?O.UNKNOWN:zw(d.code);return new q(f,d.message||"")}(o);n=new Bw(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ud(t,r.document.name),i=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):ee.min(),c=new vt({mapValue:{fields:r.document.fields}}),u=it.newFoundDocument(s,i,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];n=new xl(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ud(t,r.document),i=r.readTime?dn(r.readTime):ee.min(),o=it.newNoDocument(s,i),c=r.removedTargetIds||[];n=new xl([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ud(t,r.document),i=r.removedTargetIds||[];n=new xl([],i,s,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new ok(s,i),c=r.targetId;n=new $w(c,o)}}return n}function vk(t,e){let n;if(e instanceof ia)n={update:o0(t,e.key,e.value)};else if(e instanceof Uw)n={delete:Rh(t,e.key)};else if(e instanceof Mr)n={update:o0(t,e.key,e.data),updateMask:bk(e.fieldMask)};else{if(!(e instanceof rk))return Z(16599,{Vt:e.type});n={verify:Rh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof oi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ac)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pk(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z(27497)}(t,e.precondition)),n}function xk(t,e){return t&&t.length>0?(ce(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?dn(s.updateTime):dn(i);return o.isEqual(ee.min())&&(o=dn(i)),new ek(o,s.transformResults||[])}(n,e))):[]}function _k(t,e){return{documents:[Ww(t,e.path)]}}function wk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ww(t,s);const i=function(d){if(d.length!==0)return Qw(Zt.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:_s(g.field),direction:Ik(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=kh(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function Ek(t){let e=gk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ce(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const g=Kw(p);return g instanceof Zt&&Tw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(b){return new ic(ws(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Fc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,E=p.values||[];return new sc(E,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,E=p.values||[];return new sc(E,g)}(n.endAt)),UA(e,s,o,i,c,"F",u,d)}function Tk(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ws(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ws(n.unaryFilter.field);return Re.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ws(n.unaryFilter.field);return Re.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Re.create(ws(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zt.create(n.compositeFilter.filters.map(r=>Kw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function Ik(t){return dk[t]}function Sk(t){return hk[t]}function Nk(t){return fk[t]}function _s(t){return{fieldPath:t.canonicalString()}}function ws(t){return We.fromServerFormat(t.fieldPath)}function Qw(t){return t instanceof Re?function(n){if(n.op==="=="){if(Gy(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(Wy(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gy(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(Wy(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:Sk(n.op),value:n.value}}}(t):t instanceof Zt?function(n){const r=n.getFilters().map(s=>Qw(s));return r.length===1?r[0]:{compositeFilter:{op:Nk(n.op),filters:r}}}(t):Z(54877,{filter:t})}function bk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,s,i=ee.min(),o=ee.min(),c=Qe.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.yt=e}}function Ak(t){const e=Ek({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.Cn=new Pk}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(wr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Pk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Oe(fe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Oe(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yw=41943040;class gt{static withCacheSize(e){return new gt(e,gt.DEFAULT_COLLECTION_PERCENTILE,gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gt.DEFAULT_COLLECTION_PERCENTILE=10,gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gt.DEFAULT=new gt(Yw,gt.DEFAULT_COLLECTION_PERCENTILE,gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gt.DISABLED=new gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ai(0)}static cr(){return new ai(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="LruGarbageCollector",Rk=1048576;function c0([t,e],[n,r]){const s=se(t,n);return s===0?se(e,r):s}class jk{constructor(e){this.Ir=e,this.buffer=new Oe(c0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(l0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wi(n)?W(l0,"Ignoring IndexedDB error during garbage collection: ",n):await _i(n)}await this.Vr(3e5)})}}class Mk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Oc.ce);const r=new jk(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(a0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,c,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),vs()<=re.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function Vk(t,e){return new Mk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.changes=new ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vo(r.mutation,s,bt.empty(),ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const s=Gr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=eo();return i.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=Mn();const o=yo(),c=function(){return yo()}();return n.forEach((u,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof Mr)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),vo(f.mutation,d,f.mutation.getFieldMask(),ye.now())):o.set(d.key,bt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>c.set(d,new Ok(f,o.get(d)??null))),c))}recalculateAndSaveOverlays(e,n){const r=yo();let s=new Te((o,c)=>o-c),i=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||bt.empty();f=c.applyToLocalView(d,f),r.set(u,f);const p=(s.get(c.batchId)||ie()).add(u);s=s.insert(c.batchId,p)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,p=Rw();f.forEach(g=>{if(!i.has(g)){const E=Ow(n.get(g),r.get(g));E!==null&&p.set(g,E),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Gr());let c=Uo,u=i;return o.next(d=>U.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,ie())).next(f=>({batchId:c,changes:Pw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=eo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=eo();return this.indexManager.getCollectionParents(e,i).next(c=>U.forEach(c,u=>{const d=function(p,g){return new sa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,it.newInvalidDocument(f)))});let c=eo();return o.forEach((u,d)=>{const f=i.get(u);f!==void 0&&vo(f.mutation,d,bt.empty(),ye.now()),Bc(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:dn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Ak(s.bundledQuery),readTime:dn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.overlays=new Te(Q.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Gr(),i=n.length+1,o=new Q(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Te((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=Gr(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Gr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return U.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ik(n,r));let i=this.qr.get(n);i===void 0&&(i=ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.Qr=new Oe(Fe.$r),this.Ur=new Oe(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Fe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new fe([])),r=new Fe(n,e),s=new Fe(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new fe([])),r=new Fe(n,e),s=new Fe(n,e+1);let i=ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Fe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Fe.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sk(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new Fe(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?rm:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fe(n,0),s=new Fe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const c=this.Xr(o.Yr);i.push(c)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(se);return n.forEach(s=>{const i=new Fe(s,0),o=new Fe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],c=>{r=r.add(c.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const o=new Fe(new Q(i),0);let c=new Oe(se);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.Yr)),!0)},o),U.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new Fe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Fe(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.ri=e,this.docs=function(){return new Te(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=Mn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():it.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mn();const o=n.path,c=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||xA(vA(f),r)<=0||(s.has(f.key)||Bc(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qk(this)}getSize(e){return U.resolve(this.size)}}class qk extends Lk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.persistence=e,this.si=new ds(n=>om(n),am),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new hm,this.targetCount=0,this.ai=ai.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ai(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Oc(0),this.li=!1,this.li=!0,this.hi=new $k,this.referenceDelegate=e(this),this.Pi=new Wk(this),this.indexManager=new kk,this.remoteDocumentCache=function(s){return new Hk(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Ck(n),this.Ii=new Uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Bk(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new Gk(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Gk extends wA{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Ri=new hm,this.Vi=null}static mi(e){return new fm(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cc{constructor(e,n){this.persistence=e,this.pi=new ds(r=>IA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Vk(this,n)}static mi(e,n){return new cc(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(c=>{c||(r++,i.removeEntry(o,ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gl(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ie(),s=ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new mm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return TS()?8:EA(at())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Kk;return this.Ss(e,n,o).next(c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(vs()<=re.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(vs()<=re.DEBUG&&W("QueryEngine","Query:",xs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(vs()<=re.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):U.resolve())}ys(e,n){if(Yy(n))return U.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ah(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ie(...i);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(n,c);return this.Cs(n,d,o,u.readTime)?this.ys(e,Ah(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,r,s){return Yy(n)||s.isEqual(ee.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(vs()<=re.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xs(n)),this.vs(e,o,n,yA(s,Uo)).next(c=>c))})}Ds(e,n){let r=new Oe(Aw(e));return n.forEach((s,i)=>{Bc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return vs()<=re.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",xs(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="LocalStore",Jk=3e8;class Yk{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Te(se),this.xs=new ds(i=>om(i),am),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Xk(t,e,n,r){return new Yk(t,e,n,r)}async function Zw(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let u=ie();for(const d of s){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:c}))})})}function Zk(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const p=d.batch,g=p.keys();let E=U.resolve();return g.forEach(b=>{E=E.next(()=>f.getEntry(u,b)).next(k=>{const C=d.docVersions.get(b);ce(C!==null,48541),k.version.compareTo(C)<0&&(p.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),f.addEntry(k)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ie();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function e1(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function eP(t,e){const n=te(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;c.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p)));let E=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(Qe.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),s=s.insert(p,E),function(k,C,_){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Jk?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,E,f)&&c.push(n.Pi.updateTargetData(i,E))});let u=Mn(),d=ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),c.push(tP(i,o,e.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!r.isEqual(ee.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(f)}return U.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=s,i))}function tP(t,e,n){let r=ie(),s=ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Mn();return n.forEach((c,u)=>{const d=i.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):W(pm,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:s}})}function nP(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=rm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rP(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Dh(t,e,n){const r=te(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wi(o))throw o;W(pm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function u0(t,e,n){const r=te(t);let s=ee.min(),i=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const p=te(u),g=p.xs.get(f);return g!==void 0?U.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,f)}(r,o,un(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:ie())).next(c=>(sP(r,$A(e),c),{documents:c,Qs:i})))}function sP(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class d0{constructor(){this.activeTargetIds=KA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iP{constructor(){this.Mo=new d0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="ConnectivityMonitor";class f0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(h0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(h0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa=null;function Mh(){return Xa===null?Xa=function(){return 268435456+Math.round(2147483648*Math.random())}():Xa++,"0x"+Xa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="RestConnection",aP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===nc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Mh(),c=this.zo(e,n.toUriEncodedString());W(dd,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(c),f=gi(d);return this.Jo(e,c,u,r,f).then(p=>(W(dd,`Received RPC '${e}' ${o}: `,p),p),p=>{throw ni(dd,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=aP[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class uP extends lP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Mh();return new Promise((c,u)=>{const d=new tw;d.setWithCredentials(!0),d.listenOnce(nw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case pl.NO_ERROR:const p=d.getResponseJson();W(nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case pl.TIMEOUT:W(nt,`RPC '${e}' ${o} timed out`),u(new q(O.DEADLINE_EXCEEDED,"Request time out"));break;case pl.HTTP_ERROR:const g=d.getStatus();if(W(nt,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const b=E==null?void 0:E.error;if(b&&b.status&&b.message){const k=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(y)>=0?y:O.UNKNOWN}(b.status);u(new q(k,b.message))}else u(new q(O.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new q(O.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{W(nt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);W(nt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)})}T_(e,n,r){const s=Mh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iw(),c=sw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");W(nt,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let g=!1,E=!1;const b=new cP({Yo:C=>{E?W(nt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(g||(W(nt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),W(nt,`RPC '${e}' stream ${s} sending:`,C),p.send(C))},Zo:()=>p.close()}),k=(C,_,y)=>{C.listen(_,T=>{try{y(T)}catch(P){setTimeout(()=>{throw P},0)}})};return k(p,Zi.EventType.OPEN,()=>{E||(W(nt,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),k(p,Zi.EventType.CLOSE,()=>{E||(E=!0,W(nt,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(p))}),k(p,Zi.EventType.ERROR,C=>{E||(E=!0,ni(nt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),b.a_(new q(O.UNAVAILABLE,"The operation could not be completed")))}),k(p,Zi.EventType.MESSAGE,C=>{var _;if(!E){const y=C.data[0];ce(!!y,16349);const T=y,P=(T==null?void 0:T.error)||((_=T[0])==null?void 0:_.error);if(P){W(nt,`RPC '${e}' stream ${s} received error:`,P);const z=P.status;let L=function(I){const S=ke[I];if(S!==void 0)return zw(S)}(z),w=P.message;L===void 0&&(L=O.INTERNAL,w="Unknown error status: "+z+" with message "+P.message),E=!0,b.a_(new q(L,w)),p.close()}else W(nt,`RPC '${e}' stream ${s} received:`,y),b.u_(y)}}),k(c,rw.STAT_EVENT,C=>{C.stat===Eh.PROXY?W(nt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Eh.NOPROXY&&W(nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return new mk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="PersistentStream";class n1{constructor(e,n,r,s,i,o,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new q(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(m0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(m0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dP extends n1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yk(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?dn(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jh(this.serializer),n.addTarget=function(i,o){let c;const u=o.target;if(c=bh(u)?{documents:_k(i,u)}:{query:wk(i,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Hw(i,o.resumeToken);const d=kh(i,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ee.min())>0){c.readTime=lc(i,o.snapshotVersion.toTimestamp());const d=kh(i,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=Tk(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jh(this.serializer),n.removeTarget=e,this.q_(n)}}class hP extends n1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xk(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vk(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{}class mP extends fP{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ph(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(O.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,Ph(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class pP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dn(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="RemoteStore";class gP{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{hs(this)&&(W(os,"Restarting streams for network reachability change."),await async function(u){const d=te(u);d.Ea.add(4),await aa(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Kc(d)}(this))})}),this.Ra=new pP(r,s)}}async function Kc(t){if(hs(t))for(const e of t.da)await e(!0)}async function aa(t){for(const e of t.da)await e(!1)}function r1(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xm(n)?vm(n):Ei(n).O_()&&ym(n,e))}function gm(t,e){const n=te(t),r=Ei(n);n.Ia.delete(e),r.O_()&&s1(n,e),n.Ia.size===0&&(r.O_()?r.L_():hs(n)&&n.Ra.set("Unknown"))}function ym(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ei(t).Y_(e)}function s1(t,e){t.Va.Ue(e),Ei(t).Z_(e)}function vm(t){t.Va=new uk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ei(t).start(),t.Ra.ua()}function xm(t){return hs(t)&&!Ei(t).x_()&&t.Ia.size>0}function hs(t){return te(t).Ea.size===0}function i1(t){t.Va=void 0}async function yP(t){t.Ra.set("Online")}async function vP(t){t.Ia.forEach((e,n)=>{ym(t,e)})}async function xP(t,e){i1(t),xm(t)?(t.Ra.ha(e),vm(t)):t.Ra.set("Unknown")}async function _P(t,e,n){if(t.Ra.set("Online"),e instanceof Bw&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){W(os,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uc(t,r)}else if(e instanceof xl?t.Va.Ze(e):e instanceof $w?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=await e1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(Qe.EMPTY_BYTE_STRING,f.snapshotVersion)),s1(i,u);const p=new nr(f.target,u,d,f.sequenceNumber);ym(i,p)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){W(os,"Failed to raise snapshot:",r),await uc(t,r)}}async function uc(t,e,n){if(!wi(e))throw e;t.Ea.add(1),await aa(t),t.Ra.set("Offline"),n||(n=()=>e1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(os,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Kc(t)})}function o1(t,e){return e().catch(n=>uc(t,n,e))}async function Qc(t){const e=te(t),n=Sr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rm;for(;wP(e);)try{const s=await nP(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,EP(e,s)}catch(s){await uc(e,s)}a1(e)&&l1(e)}function wP(t){return hs(t)&&t.Ta.length<10}function EP(t,e){t.Ta.push(e);const n=Sr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function a1(t){return hs(t)&&!Sr(t).x_()&&t.Ta.length>0}function l1(t){Sr(t).start()}async function TP(t){Sr(t).ra()}async function IP(t){const e=Sr(t);for(const n of t.Ta)e.ea(n.mutations)}async function SP(t,e,n){const r=t.Ta.shift(),s=cm.from(r,e,n);await o1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Qc(t)}async function NP(t,e){e&&Sr(t).X_&&await async function(r,s){if(function(o){return ak(o)&&o!==O.ABORTED}(s.code)){const i=r.Ta.shift();Sr(r).B_(),await o1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Qc(r)}}(t,e),a1(t)&&l1(t)}async function p0(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),W(os,"RemoteStore received new credentials");const r=hs(n);n.Ea.add(3),await aa(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kc(n)}async function bP(t,e){const n=te(t);e?(n.Ea.delete(2),await Kc(n)):e||(n.Ea.add(2),await aa(n),n.Ra.set("Unknown"))}function Ei(t){return t.ma||(t.ma=function(n,r,s){const i=te(n);return i.sa(),new dP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:yP.bind(null,t),t_:vP.bind(null,t),r_:xP.bind(null,t),H_:_P.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),xm(t)?vm(t):t.Ra.set("Unknown")):(await t.ma.stop(),i1(t))})),t.ma}function Sr(t){return t.fa||(t.fa=function(n,r,s){const i=te(n);return i.sa(),new hP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TP.bind(null,t),r_:NP.bind(null,t),ta:IP.bind(null,t),na:SP.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qc(t)):(await t.fa.stop(),t.Ta.length>0&&(W(os,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new _m(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),wi(t))return new q(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=eo(),this.sortedSet=new Te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.ga=new Te(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class li{constructor(e,n,r,s,i,o,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new li(e,n,Hs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AP{constructor(){this.queries=y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=y0(),i.forEach((o,c)=>{for(const u of c.Sa)u.onError(r)})})(this,new q(O.ABORTED,"Firestore shutting down"))}}function y0(){return new ds(t=>Cw(t),$c)}async function c1(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new CP,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=wm(o,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Em(n)}async function u1(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kP(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&Em(n)}function PP(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Em(t){t.Ca.forEach(e=>{e.next()})}var Vh,v0;(v0=Vh||(Vh={})).Ma="default",v0.Cache="cache";class d1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new li(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=li.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.key=e}}class f1{constructor(e){this.key=e}}class RP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ie(),this.mutatedKeys=ie(),this.eu=Aw(e),this.tu=new Hs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new g0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),E=Bc(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;g&&E?g.data.isEqual(E.data)?b!==k&&(r.track({type:3,doc:E}),C=!0):this.su(g,E)||(r.track({type:2,doc:E}),C=!0,(u&&this.eu(E,u)>0||d&&this.eu(E,d)<0)&&(c=!0)):!g&&E?(r.track({type:0,doc:E}),C=!0):g&&!E&&(r.track({type:1,doc:g}),C=!0,(u||d)&&(c=!0)),C&&(E?(o=o.add(E),i=k?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(E,b){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:C})}};return k(E)-k(b)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new li(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new f1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new h1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return li.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class jP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DP{constructor(e){this.key=e,this.hu=!1}}class MP{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ds(c=>Cw(c),$c),this.Iu=new Map,this.Eu=new Set,this.du=new Te(Q.comparator),this.Au=new Map,this.Ru=new hm,this.Vu={},this.mu=new Map,this.fu=ai.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VP(t,e,n=!0){const r=x1(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await m1(r,e,n,!0),s}async function LP(t,e){const n=x1(t);await m1(n,e,!0,!1)}async function m1(t,e,n,r){const s=await rP(t.localStore,un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await OP(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&r1(t.remoteStore,s),c}async function OP(t,e,n,r,s){t.pu=(p,g,E)=>async function(k,C,_,y){let T=C.view.ru(_);T.Cs&&(T=await u0(k.localStore,C.query,!1).then(({documents:w})=>C.view.ru(w,T)));const P=y&&y.targetChanges.get(C.targetId),z=y&&y.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(T,k.isPrimaryClient,P,z);return _0(k,C.targetId,L.au),L.snapshot}(t,p,g,E);const i=await u0(t.localStore,e,!0),o=new RP(e,i.Qs),c=o.ru(i.documents),u=oa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(c,t.isPrimaryClient,u);_0(t,n,d.au);const f=new jP(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function FP(t,e,n){const r=te(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!$c(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gm(r.remoteStore,s.targetId),Lh(r,s.targetId)}).catch(_i)):(Lh(r,s.targetId),await Dh(r.localStore,s.targetId,!0))}async function UP(t,e){const n=te(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gm(n.remoteStore,r.targetId))}async function zP(t,e,n){const r=KP(t);try{const s=await function(o,c){const u=te(o),d=ye.now(),f=c.reduce((E,b)=>E.add(b.key),ie());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let b=Mn(),k=ie();return u.Ns.getEntries(E,f).next(C=>{b=C,b.forEach((_,y)=>{y.isValidDocument()||(k=k.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,b)).next(C=>{p=C;const _=[];for(const y of c){const T=nk(y,p.get(y.key).overlayedDocument);T!=null&&_.push(new Mr(y.key,T,_w(T.value.mapValue),Yt.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,_,c)}).next(C=>{g=C;const _=C.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(E,C.batchId,_)})}).then(()=>({batchId:g.batchId,changes:Pw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Te(se)),d=d.insert(c,u),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await la(r,s.changes),await Qc(r.remoteStore)}catch(s){const i=wm(s,"Failed to persist write");n.reject(i)}}async function p1(t,e){const n=te(t);try{const r=await eP(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ce(o.hu,14607):s.removedDocuments.size>0&&(ce(o.hu,42227),o.hu=!1))}),await la(n,r,e)}catch(r){await _i(r)}}function x0(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const u=te(o);u.onlineState=c;let d=!1;u.queries.forEach((f,p)=>{for(const g of p.Sa)g.va(c)&&(d=!0)}),d&&Em(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $P(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Te(Q.comparator);o=o.insert(i,it.newNoDocument(i,ee.min()));const c=ie().add(i),u=new Wc(ee.min(),new Map,new Te(se),o,c);await p1(r,u),r.du=r.du.remove(i),r.Au.delete(e),Im(r)}else await Dh(r.localStore,e,!1).then(()=>Lh(r,e,n)).catch(_i)}async function BP(t,e){const n=te(t),r=e.batch.batchId;try{const s=await Zk(n.localStore,e);y1(n,r,null),g1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await la(n,s)}catch(s){await _i(s)}}async function HP(t,e,n){const r=te(t);try{const s=await function(o,c){const u=te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(ce(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);y1(r,e,n),g1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await la(r,s)}catch(s){await _i(s)}}function g1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function y1(t,e,n){const r=te(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Lh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||v1(t,r)})}function v1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Im(t))}function _0(t,e,n){for(const r of n)r instanceof h1?(t.Ru.addReference(r.key,e),qP(t,r)):r instanceof f1?(W(Tm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||v1(t,r.key)):Z(19791,{wu:r})}function qP(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(Tm,"New document in limbo: "+n),t.Eu.add(r),Im(t))}function Im(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(fe.fromString(e)),r=t.fu.next();t.Au.set(r,new DP(n)),t.du=t.du.insert(n,r),r1(t.remoteStore,new nr(un(zc(n.path)),r,"TargetPurposeLimboResolution",Oc.ce))}}async function la(t,e,n){const r=te(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{o.push(r.pu(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){s.push(d);const p=mm.As(u.targetId,d);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,d){const f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(d,g=>U.forEach(g.Es,E=>f.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>U.forEach(g.ds,E=>f.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!wi(p))throw p;W(pm,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const E=f.Ms.get(g),b=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(g,k)}}}(r.localStore,i))}async function WP(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){W(Tm,"User change. New user:",e.toKey());const r=await Zw(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(c=>{c.forEach(u=>{u.reject(new q(O.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await la(n,r.Ls)}}function GP(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return ie().add(r.key);{let s=ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function x1(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.Pu.H_=kP.bind(null,e.eventManager),e.Pu.yu=PP.bind(null,e.eventManager),e}function KP(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HP.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Xk(this.persistence,new Qk,e.initialUser,this.serializer)}Cu(e){return new Xw(fm.mi,this.serializer)}Du(e){return new iP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class QP extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ce(this.persistence.referenceDelegate instanceof cc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Dk(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gt.withCacheSize(this.cacheSizeBytes):gt.DEFAULT;return new Xw(r=>cc.mi(r,n),this.serializer)}}class Oh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WP.bind(null,this.syncEngine),await bP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AP}()}createDatastore(e){const n=Gc(e.databaseInfo.databaseId),r=function(i){return new uP(i)}(e.databaseInfo);return function(i,o,c,u){return new mP(i,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new gP(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>x0(this.syncEngine,n,0),function(){return f0.v()?new f0:new oP}())}createSyncEngine(e,n){return function(s,i,o,c,u,d,f){const p=new MP(s,i,o,c,u,d);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);W(os,"RemoteStore shutting down."),i.Ea.add(5),await aa(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Oh.provider={build:()=>new Oh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class JP{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=rt.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{W(Nr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Nr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fd(t,e){t.asyncQueue.verifyOperationInProgress(),W(Nr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Zw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function w0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YP(t);W(Nr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>p0(e.remoteStore,s)),t._onlineComponents=e}async function YP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Nr,"Using user provided OfflineComponentProvider");try{await fd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ni("Error using user provided cache. Falling back to memory cache: "+n),await fd(t,new dc)}}else W(Nr,"Using default OfflineComponentProvider"),await fd(t,new QP(void 0));return t._offlineComponents}async function w1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Nr,"Using user provided OnlineComponentProvider"),await w0(t,t._uninitializedComponentsProvider._online)):(W(Nr,"Using default OnlineComponentProvider"),await w0(t,new Oh))),t._onlineComponents}function XP(t){return w1(t).then(e=>e.syncEngine)}async function Fh(t){const e=await w1(t),n=e.eventManager;return n.onListen=VP.bind(null,e.syncEngine),n.onUnlisten=FP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UP.bind(null,e.syncEngine),n}function ZP(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,u,d){const f=new _1({next:g=>{f.Nu(),o.enqueueAndForget(()=>u1(i,p));const E=g.docs.has(c);!E&&g.fromCache?d.reject(new q(O.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?d.reject(new q(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new d1(zc(c.path),f,{includeMetadataChanges:!0,qa:!0});return c1(i,p)}(await Fh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firestore.googleapis.com",T0=!0;class I0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=T0}else this.host=e.host,this.ssl=e.ssl??T0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rk)throw new q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oA;switch(r.type){case"firstParty":return new uA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=E0.get(n);r&&(W("ComponentProvider","Removing Datastore"),E0.delete(n),r.terminate())}(this),Promise.resolve()}}function eR(t,e,n,r={}){var d;t=Jt(t,Jc);const s=gi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(h_(`https://${c}`),f_("Firestore",!0)),i.host!==T1&&i.host!==c&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:s,emulatorOptions:r};if(!_r(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=rt.MOCK_USER;else{f=mS(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rt(g)}t._authCredentials=new aA(new aw(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ti(this.firestore,e,this._query)}}class Ne{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ra(n,Ne._jsonSchema))return new Ne(e,r||null,new Q(fe.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:je("string",Ne._jsonSchemaVersion),referencePath:je("string")};class yr extends Ti{constructor(e,n,r){super(e,n,zc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new Q(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function md(t,e,...n){if(t=De(t),lw("collection","path",e),t instanceof Jc){const r=fe.fromString(e,...n);return Ly(r),new yr(t,null,r)}{if(!(t instanceof Ne||t instanceof yr))throw new q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return Ly(r),new yr(t.firestore,null,r)}}function qs(t,e,...n){if(t=De(t),arguments.length===1&&(e=nm.newId()),lw("doc","path",e),t instanceof Jc){const r=fe.fromString(e,...n);return Vy(r),new Ne(t,null,new Q(r))}{if(!(t instanceof Ne||t instanceof yr))throw new q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return Vy(r),new Ne(t.firestore,t instanceof yr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="AsyncQueue";class N0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t1(this,"async_queue_retry"),this._c=()=>{const r=hd();r&&W(S0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wi(e))throw e;W(S0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Dn("INTERNAL UNHANDLED ERROR: ",b0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=_m.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Z(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class as extends Jc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new N0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N0(e),this._firestoreClient=void 0,await e}}}function tR(t,e){const n=typeof t=="object"?t:y_(),r=typeof t=="string"?t:e||nc,s=Hf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=hS("firestore");i&&eR(s,...i)}return s}function Sm(t){if(t._terminated)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nR(t),t._firestoreClient}function nR(t){var r,s,i;const e=t._freezeSettings(),n=function(c,u,d,f){return new bA(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,E1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dt(Qe.fromBase64String(e))}catch(n){throw new q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dt(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ra(e,Dt._jsonSchema))return Dt.fromBase64String(e.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:je("string",Dt._jsonSchemaVersion),bytes:je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hn._jsonSchemaVersion}}static fromJSON(e){if(ra(e,hn._jsonSchema))return new hn(e.latitude,e.longitude)}}hn._jsonSchemaVersion="firestore/geoPoint/1.0",hn._jsonSchema={type:je("string",hn._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ra(e,fn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fn(e.vectorValues);throw new q(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fn._jsonSchemaVersion="firestore/vectorValue/1.0",fn._jsonSchema={type:je("string",fn._jsonSchemaVersion),vectorValues:je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^__.*__$/;class sR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ia(e,this.data,n,this.fieldTransforms)}}class I1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class Zc{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(S1(this.Ac)&&rR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gc(e)}Cc(e,n,r,s=!1){return new Zc({Ac:e,methodName:n,Dc:r,path:We.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eu(t){const e=t._freezeSettings(),n=Gc(t._databaseId);return new iR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N1(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);bm("Data must be an object, but it was:",o,r);const c=b1(r,o);let u,d;if(i.merge)u=new bt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=Uh(e,p,n);if(!o.contains(g))throw new q(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);A1(f,g)||f.push(g)}u=new bt(f),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new sR(new vt(c),u,d)}class tu extends Xc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tu}}function oR(t,e,n){return new Zc({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Nm extends Xc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=oR(this,e,!0),r=this.vc.map(i=>Ii(i,n)),s=new oi(r);return new XA(e.path,s)}isEqual(e){return e instanceof Nm&&_r(this.vc,e.vc)}}function aR(t,e,n,r){const s=t.Cc(1,e,n);bm("Data must be an object, but it was:",s,r);const i=[],o=vt.empty();Dr(r,(u,d)=>{const f=Cm(e,u,n);d=De(d);const p=s.yc(f);if(d instanceof tu)i.push(f);else{const g=Ii(d,p);g!=null&&(i.push(f),o.set(f,g))}});const c=new bt(i);return new I1(o,c,s.fieldTransforms)}function lR(t,e,n,r,s,i){const o=t.Cc(1,e,n),c=[Uh(e,r,n)],u=[s];if(i.length%2!=0)throw new q(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)c.push(Uh(e,i[g])),u.push(i[g+1]);const d=[],f=vt.empty();for(let g=c.length-1;g>=0;--g)if(!A1(d,c[g])){const E=c[g];let b=u[g];b=De(b);const k=o.yc(E);if(b instanceof tu)d.push(E);else{const C=Ii(b,k);C!=null&&(d.push(E),f.set(E,C))}}const p=new bt(d);return new I1(f,p,o.fieldTransforms)}function cR(t,e,n,r=!1){return Ii(n,t.Cc(r?4:3,e))}function Ii(t,e){if(C1(t=De(t)))return bm("Unsupported field value:",e,t),b1(t,e);if(t instanceof Xc)return function(r,s){if(!S1(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let u=Ii(c,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=De(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ye.fromDate(r);return{timestampValue:lc(s.serializer,i)}}if(r instanceof ye){const i=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(s.serializer,i)}}if(r instanceof hn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dt)return{bytesValue:Hw(s.serializer,r._byteString)};if(r instanceof Ne){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof fn)return function(o,c){return{mapValue:{fields:{[yw]:{stringValue:xw},[rc]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return lm(c.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Lc(r)}`)}(t,e)}function b1(t,e){const n={};return dw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(t,(r,s)=>{const i=Ii(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function C1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof hn||t instanceof Dt||t instanceof Ne||t instanceof Xc||t instanceof fn)}function bm(t,e,n){if(!C1(n)||!cw(n)){const r=Lc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Uh(t,e,n){if((e=De(e))instanceof Yc)return e._internalPath;if(typeof e=="string")return Cm(t,e);throw hc("Field path arguments must be of type string or ",t,!1,void 0,n)}const uR=new RegExp("[~\\*/\\[\\]]");function Cm(t,e,n){if(e.search(uR)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yc(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new q(O.INVALID_ARGUMENT,c+t+u)}function A1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dR extends k1{data(){return super.data()}}function Am(t,e){return typeof e=="string"?Cm(t,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class km{}class fR extends km{}function A0(t,e,...n){let r=[];e instanceof km&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Pm).length,c=i.filter(u=>u instanceof nu).length;if(o>1||o>0&&c>0)throw new q(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class nu extends fR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nu(e,n,r)}_apply(e){const n=this._parse(e);return P1(e._query,n),new Ti(e.firestore,e.converter,Ch(e._query,n))}_parse(e){const n=eu(e.firestore);return function(i,o,c,u,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){R0(p,f);const b=[];for(const k of p)b.push(P0(u,i,k));g={arrayValue:{values:b}}}else g=P0(u,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||R0(p,f),g=cR(c,o,p,f==="in"||f==="not-in");return Re.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function k0(t,e,n){const r=e,s=Am("where",t);return nu._create(s,r,n)}class Pm extends km{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const c=i.getFlattenedFilters();for(const u of c)P1(o,u),o=Ch(o,u)}(e._query,n),new Ti(e.firestore,e.converter,Ch(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P0(t,e,n){if(typeof(n=De(n))=="string"){if(n==="")throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bw(e)&&n.indexOf("/")!==-1)throw new q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!Q.isDocumentKey(r))throw new q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qy(t,new Q(r))}if(n instanceof Ne)return qy(t,n._key);throw new q(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(n)}.`)}function R0(t,e){if(!Array.isArray(t)||t.length===0)throw new q(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P1(t,e){const n=function(s,i){for(const o of s)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mR{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Dr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[rc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>be(o.doubleValue));return new fn(n)}convertGeoPoint(e){return new hn(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zo(e));default:return null}}convertTimestamp(e){const n=Er(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);ce(Jw(r),9688,{name:e});const s=new $o(r.get(1),r.get(3)),i=new Q(r.popFirst(5));return s.isEqual(n)||Dn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class no{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends k1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:je("string",Jr._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class _l extends Jr{data(e={}){return super.data(e)}}class Ws{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new no(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _l(this._firestore,this._userDataWriter,r.key,r,new no(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const u=new _l(s._firestore,s._userDataWriter,c.doc.key,c.doc,new no(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new _l(s._firestore,s._userDataWriter,c.doc.key,c.doc,new no(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:pR(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){t=Jt(t,Ne);const e=Jt(t.firestore,as);return ZP(Sm(e),t._key).then(n=>D1(e,t,n))}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:je("string",Ws._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class j1 extends mR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function yR(t,e,n){t=Jt(t,Ne);const r=Jt(t.firestore,as),s=R1(t.converter,e,n);return Rm(r,[N1(eu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yt.none())])}function pd(t,e,n,...r){t=Jt(t,Ne);const s=Jt(t.firestore,as),i=eu(s);let o;return o=typeof(e=De(e))=="string"||e instanceof Yc?lR(i,"updateDoc",t._key,e,n,r):aR(i,"updateDoc",t._key,e),Rm(s,[o.toMutation(t._key,Yt.exists(!0))])}function vR(t,e){const n=Jt(t.firestore,as),r=qs(t),s=R1(t.converter,e);return Rm(n,[N1(eu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function j0(t,...e){var u,d,f;t=De(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||C0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(C0(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(f=p.complete)==null?void 0:f.bind(p)}let i,o,c;if(t instanceof Ne)o=Jt(t.firestore,as),c=zc(t._key.path),i={next:p=>{e[r]&&e[r](D1(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Jt(t,Ti);o=Jt(p.firestore,as),c=p._query;const g=new j1(o);i={next:E=>{e[r]&&e[r](new Ws(o,g,p,E))},error:e[r+1],complete:e[r+2]},hR(t._query)}return function(g,E,b,k){const C=new _1(k),_=new d1(E,C,b);return g.asyncQueue.enqueueAndForget(async()=>c1(await Fh(g),_)),()=>{C.Nu(),g.asyncQueue.enqueueAndForget(async()=>u1(await Fh(g),_))}}(Sm(o),c,s,i)}function Rm(t,e){return function(r,s){const i=new gr;return r.asyncQueue.enqueueAndForget(async()=>zP(await XP(r),s,i)),i.promise}(Sm(t),e)}function D1(t,e,n){const r=n.docs.get(e._key),s=new j1(t);return new Jr(t,s,e._key,r,new no(n.hasPendingWrites,n.fromCache),e.converter)}function gd(...t){return new Nm("arrayUnion",t)}(function(e,n=!0){(function(s){xi=s})(yi),ei(new ns("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new as(new lA(r.getProvider("auth-internal")),new dA(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(d.options.projectId,f)}(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),mr(Ry,jy,e),mr(Ry,jy,"esm2020")})();const xR={apiKey:"AIzaSyDN8fBNkIyNd_vnTN2oSpDcBtJjRmDB0b0",authDomain:"study-info-d0ad9.firebaseapp.com",projectId:"study-info-d0ad9",storageBucket:"study-info-d0ad9.firebasestorage.app",messagingSenderId:"830619960013",appId:"1:830619960013:web:your-app-id"},M1=g_(xR),ci=sA(M1),Gn=tR(M1),V1=D.createContext(),jm=()=>D.useContext(V1),_R=({children:t})=>{const[e,n]=D.useState(null),[r,s]=D.useState(null),[i,o]=D.useState(!0);D.useEffect(()=>Gb(ci,async f=>{if(f){n(f);const p=await gR(qs(Gn,"users",f.uid));if(p.exists())s(p.data());else{const g={uid:f.uid,email:f.email,displayName:f.displayName||f.email.split("@")[0],photoURL:f.photoURL||null,createdAt:new Date,progress:{totalStudyHours:0,questionsAnswered:0,quizScore:0,streakDays:0,level:1,xp:0,subjects:{python:{progress:0,completed:!1},javascript:{progress:0,completed:!1},java:{progress:0,completed:!1},cpp:{progress:0,completed:!1},html:{progress:0,completed:!1},sql:{progress:0,completed:!1}}},achievements:[],teamIds:[],lastLoginAt:new Date};await yR(qs(Gn,"users",f.uid),g),s(g)}}else n(null),s(null);o(!1)}),[]);const u={user:e,userProfile:r,logout:()=>Kb(ci),loading:i};return l.jsx(V1.Provider,{value:u,children:!i&&t})};var wR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ER=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TR=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:c,...u},d)=>D.createElement("svg",{ref:d,...wR,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${ER(t)}`,...u},[...e.map(([f,p])=>D.createElement(f,p)),...(Array.isArray(c)?c:[c])||[]]));return n.displayName=`${t}`,n};var J=TR;const IR=J("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),SR=J("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fc=J("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]),L1=J("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),NR=J("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ca=J("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),ls=J("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),bR=J("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),CR=J("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),AR=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),O1=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),kR=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),D0=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),F1=J("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),ru=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wn=J("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Dm=J("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),PR=J("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),U1=J("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Mm=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),RR=J("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),jR=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),DR=J("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),z1=J("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),MR=J("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),zh=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),VR=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$1=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),B1=J("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),H1=J("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Vm=J("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),q1=J("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),W1=J("Orbit",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M10.4 21.9a10 10 0 0 0 9.941-15.416",key:"eohfx2"}],["path",{d:"M13.5 2.1a10 10 0 0 0-9.841 15.416",key:"19pvbm"}]]),G1=J("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),ua=J("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),M0=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),K1=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),LR=J("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Q1=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),su=J("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),OR=J("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),br=J("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),FR=J("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),J1=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Lm=J("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),UR=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),mc=J("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),qo=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),pc=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Om=J("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),zR=J("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),$R=J("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),da=J("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),BR=({onToggle:t})=>{const[e,n]=D.useState(""),[r,s]=D.useState(""),[i,o]=D.useState(!1),[c,u]=D.useState(""),d=async p=>{p.preventDefault(),o(!0),u("");try{await $b(ci,e,r)}catch(g){u(g.message)}o(!1)},f=async()=>{const p=new on;try{await X_(ci,p)}catch(g){u(g.message)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to continue your learning journey"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx($1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})}),l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})}),c&&l.jsx("div",{className:"text-red-500 text-sm text-center",children:c}),l.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:i?"Signing In...":"Sign In"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),l.jsxs("button",{onClick:f,className:"mt-4 w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(F1,{className:"w-5 h-5 mr-2"}),"Sign in with Google"]})]}),l.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Don't have an account?"," ",l.jsx("button",{onClick:t,className:"text-blue-600 hover:underline font-medium",children:"Sign up"})]})]})})},HR=({onToggle:t})=>{const[e,n]=D.useState({name:"",email:"",password:"",confirmPassword:""}),[r,s]=D.useState(!1),[i,o]=D.useState(""),c=f=>{n({...e,[f.target.name]:f.target.value})},u=async f=>{if(f.preventDefault(),e.password!==e.confirmPassword){o("Passwords do not match");return}s(!0),o("");try{const{user:p}=await zb(ci,e.email,e.password);await Hb(p,{displayName:e.name})}catch(p){o(p.message)}s(!1)},d=async()=>{const f=new on;try{await X_(ci,f)}catch(p){o(p.message)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Join Us"}),l.jsx("p",{className:"text-gray-600",children:"Start your AI-powered learning journey"})]}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:e.name,onChange:c,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})}),l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx($1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"email",name:"email",placeholder:"Email",value:e.email,onChange:c,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})}),l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:c,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})}),l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:e.confirmPassword,onChange:c,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})}),i&&l.jsx("div",{className:"text-red-500 text-sm text-center",children:i}),l.jsx("button",{type:"submit",disabled:r,className:"w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:r?"Creating Account...":"Sign Up"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),l.jsxs("button",{onClick:d,className:"mt-4 w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(F1,{className:"w-5 h-5 mr-2"}),"Sign up with Google"]})]}),l.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Already have an account?"," ",l.jsx("button",{onClick:t,className:"text-purple-600 hover:underline font-medium",children:"Sign in"})]})]})})},qR=()=>{const[t,e]=D.useState(!1);return t?l.jsx(HR,{onToggle:()=>e(!1)}):l.jsx(BR,{onToggle:()=>e(!0)})},WR=({isOpen:t,onToggle:e,currentUser:n})=>{const r=pi(),[s,i]=D.useState(!0),{logout:o}=jm(),c=[{name:"Python",path:"/course/python",icon:"",color:"text-yellow-600"},{name:"JavaScript",path:"/course/javascript",icon:"",color:"text-yellow-500"},{name:"Java",path:"/course/java",icon:"",color:"text-red-600"},{name:"C++",path:"/course/cpp",icon:"",color:"text-blue-600"},{name:"HTML/CSS",path:"/course/html-css",icon:"",color:"text-orange-500"},{name:"SQL",path:"/course/sql",icon:"",color:"text-green-600"}],u=[{name:"Dashboard",path:"/dashboard",icon:DR},{name:"Pomodoro Timer",path:"/pomodoro",icon:ru},{name:"Team Study",path:"/team",icon:pc},{name:"Analytics",path:"/analytics",icon:NR}],d=f=>r.pathname===f;return l.jsxs("div",{className:`fixed left-0 top-0 h-full bg-white shadow-lg transition-all duration-300 z-50 ${t?"w-64":"w-16"}`,children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:`flex items-center space-x-3 ${!t&&"justify-center"}`,children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx(wn,{className:"w-5 h-5 text-white"})}),t&&l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"AI Programming Mentor"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Complete Learning Platform"})]})]}),l.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:l.jsx(D0,{className:`w-4 h-4 transition-transform ${t?"rotate-180":""}`})})]})}),t&&l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:l.jsx(qo,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-800",children:n.name}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Lm,{className:"w-3 h-3 text-yellow-500"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",n.level]})]})]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[l.jsx("span",{children:"XP Progress"}),l.jsxs("span",{children:[n.xp,"/3000"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.xp/3e3*100}%`}})})]})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"p-2",children:[l.jsx("div",{className:"space-y-1",children:u.map(f=>{const p=f.icon;return l.jsxs(Ds,{to:f.path,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${d(f.path)?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"} ${!t&&"justify-center"}`,children:[l.jsx(p,{className:"w-5 h-5"}),t&&l.jsx("span",{className:"font-medium",children:f.name})]},f.path)})}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("button",{onClick:()=>i(!s),className:`flex items-center space-x-2 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg w-full transition-colors ${!t&&"justify-center"}`,children:[l.jsx(ca,{className:"w-5 h-5"}),t&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-medium flex-1 text-left",children:"Programming Courses"}),s?l.jsx(kR,{className:"w-4 h-4"}):l.jsx(D0,{className:"w-4 h-4"})]})]}),(s||!t)&&l.jsx("div",{className:`mt-2 space-y-1 ${t?"ml-4":""}`,children:c.map(f=>l.jsxs(Ds,{to:f.path,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${d(f.path)?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"} ${!t&&"justify-center"}`,children:[l.jsx("span",{className:"text-lg",children:f.icon}),t&&l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:`font-medium ${f.color}`,children:f.name}),l.jsx("div",{className:"text-xs text-gray-500",children:"Interactive Course"})]})]},f.path))})]})]})}),t&&l.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[l.jsxs("button",{className:"flex items-center space-x-3 px-3 py-2 text-gray-600 hover:bg-gray-50 rounded-lg w-full transition-colors",children:[l.jsx(Q1,{className:"w-5 h-5"}),l.jsx("span",{children:"Settings"})]}),l.jsxs("button",{onClick:o,className:"flex items-center space-x-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg w-full transition-colors",children:[l.jsx(VR,{className:"w-5 h-5"}),l.jsx("span",{children:"Logout"})]})]})]})},GR=()=>{const[t,e]=D.useState(1500),[n,r]=D.useState(!1),[s,i]=D.useState("work");D.useEffect(()=>{let u=null;return n&&t>0?u=setInterval(()=>{e(d=>d-1)},1e3):t===0&&(r(!1),i(d=>d==="work"?"break":"work"),e(s==="work"?5*60:25*60)),()=>clearInterval(u)},[n,t,s]);const o=u=>{const d=Math.floor(u/60),f=u%60;return`${d.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`},c=((s==="work"?25*60:5*60)-t)/(s==="work"?25*60:5*60)*100;return l.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg border p-3 w-48 z-50",children:[l.jsxs("div",{className:"text-center mb-2",children:[l.jsx("div",{className:`text-lg font-bold ${s==="work"?"text-red-600":"text-green-600"}`,children:o(t)}),l.jsx("div",{className:"text-xs text-gray-500 capitalize",children:s}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-1",children:l.jsx("div",{className:`h-1 rounded-full ${s==="work"?"bg-red-500":"bg-green-500"}`,style:{width:`${c}%`}})})]}),l.jsxs("div",{className:"flex justify-center space-x-2",children:[l.jsx("button",{onClick:()=>r(!n),className:`p-1 rounded ${n?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:n?l.jsx(G1,{className:"w-3 h-3"}):l.jsx(ua,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>{r(!1),e(s==="work"?25*60:5*60)},className:"p-1 bg-gray-500 text-white rounded",children:l.jsx(K1,{className:"w-3 h-3"})})]})]})},KR=()=>{const[t,e]=D.useState(new Date),[n,r]=D.useState(""),[s,i]=D.useState(7),[o,c]=D.useState({completed:3,total:5});D.useEffect(()=>{const g=setInterval(()=>e(new Date),1e3);return()=>clearInterval(g)},[]),D.useEffect(()=>{const g=t.getHours();g<12?r("Good Morning"):g<17?r("Good Afternoon"):r("Good Evening")},[t]);const u=[{name:"Python",icon:wn,progress:75,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-700",route:"/course/python",lessons:12,completed:9},{name:"JavaScript",icon:wn,progress:60,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50",textColor:"text-yellow-700",route:"/course/javascript",lessons:15,completed:9},{name:"Java",icon:wn,progress:45,color:"from-red-500 to-red-600",bgColor:"bg-red-50",textColor:"text-red-700",route:"/course/java",lessons:18,completed:8},{name:"C++",icon:wn,progress:30,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-700",route:"/course/cpp",lessons:20,completed:6},{name:"HTML/CSS",icon:jR,progress:85,color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-700",route:"/course/html-css",lessons:10,completed:8},{name:"SQL",icon:ca,progress:55,color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-50",textColor:"text-indigo-700",route:"/course/sql",lessons:14,completed:7}],d=[{name:"Pomodoro Timer",icon:FR,route:"/pomodoro",color:"from-red-500 to-pink-500",description:"Focus sessions with AI monitoring"},{name:"Team Study",icon:pc,route:"/team",color:"from-blue-500 to-cyan-500",description:"Collaborate with study groups"},{name:"Analytics",icon:J1,route:"/analytics",color:"from-purple-500 to-indigo-500",description:"Track your learning progress"},{name:"Mind Maps",icon:ls,route:"/mindmap",color:"from-green-500 to-teal-500",description:"Visual concept mapping"},{name:"AR/VR Lab",icon:fc,route:"/simulation",color:"from-orange-500 to-red-500",description:"3D molecular simulations"},{name:"Coding Quests",icon:RR,route:"/quests",color:"from-pink-500 to-purple-500",description:"Gamified programming challenges"}],f=[{title:"Code Warrior",description:"Completed 50 coding challenges",icon:"",date:"2 days ago"},{title:"Focus Master",description:"5 perfect Pomodoro sessions",icon:"",date:"1 week ago"},{title:"Team Player",description:"Helped 10 teammates",icon:"",date:"3 days ago"}],p=[{subject:"JavaScript Closures",due:"2 hours",difficulty:"Hard"},{subject:"Python Decorators",due:"4 hours",difficulty:"Medium"},{subject:"SQL Joins",due:"1 day",difficulty:"Easy"}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[l.jsxs("div",{className:"relative overflow-hidden bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-8",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),l.jsx("div",{className:"relative z-10",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"mb-6 lg:mb-0",children:[l.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:[n,", Nishan! "]}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Ready to continue your learning journey?"}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(da,{className:"w-5 h-5 text-orange-500"}),l.jsxs("span",{className:"text-gray-700 font-medium",children:[s," day streak"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(br,{className:"w-5 h-5 text-green-500"}),l.jsxs("span",{className:"text-gray-700 font-medium",children:[o.completed,"/",o.total," goals today"]})]})]})]}),l.jsxs("div",{className:"text-center lg:text-right",children:[l.jsx("div",{className:"text-3xl font-bold text-gray-800",children:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsx("div",{className:"text-gray-600",children:t.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-full text-sm font-medium",children:[l.jsx(su,{className:"w-4 h-4 mr-2"}),"Level 15 Learner"]})})]})]})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:d.map((g,E)=>{const b=g.icon;return l.jsxs(Ds,{to:g.route,className:"group relative overflow-hidden bg-white/70 backdrop-blur-lg rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:scale-105",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g.color} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),l.jsxs("div",{className:"relative z-10 text-center",children:[l.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br ${g.color} rounded-xl mb-3 text-white`,children:l.jsx(b,{className:"w-6 h-6"})}),l.jsx("h3",{className:"font-semibold text-gray-800 text-sm mb-1",children:g.name}),l.jsx("p",{className:"text-xs text-gray-600",children:g.description})]})]},E)})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[l.jsx(wn,{className:"w-6 h-6 mr-3 text-blue-600"}),"Programming Courses"]}),l.jsxs(Ds,{to:"/courses",className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center",children:["View All",l.jsx(ua,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((g,E)=>{const b=g.icon;return l.jsxs(Ds,{to:g.route,className:"group relative overflow-hidden bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/30 p-6 hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`p-3 ${g.bgColor} rounded-xl`,children:l.jsx(b,{className:`w-6 h-6 ${g.textColor}`})}),l.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[g.progress,"%"]})]}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:g.name}),l.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:[g.completed,"/",g.lessons," lessons completed"]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:l.jsx("div",{className:`bg-gradient-to-r ${g.color} h-2 rounded-full transition-all duration-500`,style:{width:`${g.progress}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[g.progress,"% Complete"]})]})]})]},E)})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(L1,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Recent Achievements"]}),l.jsx("div",{className:"space-y-4",children:f.map((g,E)=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white/50 rounded-xl",children:[l.jsx("span",{className:"text-2xl",children:g.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:g.title}),l.jsx("p",{className:"text-gray-600 text-xs",children:g.description}),l.jsx("span",{className:"text-gray-500 text-xs",children:g.date})]})]},E))})]}),l.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(ls,{className:"w-5 h-5 mr-2 text-purple-500"}),"Review Schedule"]}),l.jsx("div",{className:"space-y-3",children:p.map((g,E)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-xl",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:g.subject}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx(bR,{className:"w-3 h-3 text-gray-500"}),l.jsxs("span",{className:"text-gray-600 text-xs",children:["Due in ",g.due]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.difficulty==="Hard"?"bg-red-100 text-red-700":g.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:g.difficulty})]},E))}),l.jsx(Ds,{to:"/spaced-repetition",className:"block w-full mt-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-center rounded-xl font-medium hover:shadow-lg transition-all duration-300",children:"Start Review Session"})]}),l.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(br,{className:"w-5 h-5 mr-2 text-green-500"}),"Today's Focus"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-700 text-sm",children:"Study Sessions"}),l.jsx("span",{className:"font-semibold text-gray-800",children:"3/5"})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 h-2 rounded-full",style:{width:"60%"}})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-700 text-sm",children:"Focus Time"}),l.jsx("span",{className:"font-semibold text-gray-800",children:"2.5h"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-700 text-sm",children:"Quizzes Completed"}),l.jsx("span",{className:"font-semibold text-gray-800",children:"4"})]})]})]})]})]})]})})},QR=({userId:t,subject:e})=>{var L;const[n,r]=D.useState({learningStyle:"visual",cognitiveLoad:.3,attentionSpan:25,difficultyPreference:.7,emotionalState:"focused",learningVelocity:1.2,neuralPatterns:[]}),[s,i]=D.useState([]),[o,c]=D.useState(null),[u,d]=D.useState({}),[f,p]=D.useState([]),g=D.useRef(null);D.useEffect(()=>{E(),C(),P()},[t,e]);const E=async()=>{const w=await b(),v=await k();r(I=>({...I,...w,neuralPatterns:v}))},b=async()=>new Promise(w=>{setTimeout(()=>{w({learningStyle:["visual","auditory","kinesthetic"][Math.floor(Math.random()*3)],cognitiveLoad:Math.random()*.5+.2,attentionSpan:Math.floor(Math.random()*20)+15,difficultyPreference:Math.random()*.6+.4,learningVelocity:Math.random()*.8+.8})},1e3)}),k=async()=>Array.from({length:50},(w,v)=>({id:v,weight:Math.random()*2-1,activation:Math.random(),layer:Math.floor(v/10),connections:Array.from({length:3},()=>Math.floor(Math.random()*50))})),C=()=>{const w=setInterval(()=>{const v={focusLevel:Math.random()*.4+.6,comprehensionRate:Math.random()*.3+.7,engagementScore:Math.random()*.2+.8,stressLevel:Math.random()*.3,optimalDifficulty:Math.random()*.4+.5,predictedPerformance:Math.random()*.3+.7,timestamp:Date.now()};d(v),_(v),y(v)},2e3);return()=>clearInterval(w)},_=w=>{const v=[];w.focusLevel<.7&&v.push({type:"focus",priority:"high",action:"Take a 5-minute mindfulness break",reasoning:"AI detected decreased focus patterns",confidence:.92}),w.stressLevel>.6&&v.push({type:"stress",priority:"medium",action:"Switch to easier content temporarily",reasoning:"Elevated stress indicators detected",confidence:.87}),w.comprehensionRate>.9&&v.push({type:"challenge",priority:"low",action:"Increase difficulty level",reasoning:"High comprehension rate suggests readiness for advanced content",confidence:.94}),i(v)},y=w=>{const v={difficultyLevel:w.optimalDifficulty,contentType:n.learningStyle==="visual"?"interactive_visual":n.learningStyle==="auditory"?"audio_explanation":"hands_on_practice",pacing:w.focusLevel>.8?"accelerated":"standard",supportLevel:w.stressLevel>.5?"high":"medium",nextTopics:T(w)};c(v)},T=w=>["Advanced Algorithms","Machine Learning Basics","Data Structures","System Design","Neural Networks","Computer Vision"].sort(()=>Math.random()-.5).slice(0,3).map(I=>({name:I,difficulty:w.optimalDifficulty,estimatedTime:Math.floor(Math.random()*30)+15,aiConfidence:Math.random()*.2+.8})),P=()=>{const w=setInterval(()=>{const v=Array.from({length:100},(I,S)=>({x:S,alpha:Math.sin(S*.1+Date.now()*.001)*30+50,beta:Math.sin(S*.15+Date.now()*.002)*20+40,gamma:Math.sin(S*.2+Date.now()*.003)*15+30,theta:Math.sin(S*.05+Date.now()*5e-4)*25+35}));p(v)},100);return()=>clearInterval(w)},z=()=>{const w=g.current;if(!w)return;const v=w.getContext("2d");v.clearRect(0,0,w.width,w.height),n.neuralPatterns.forEach((I,S)=>{const A=I.layer*80+50,R=S%10*30+50;v.beginPath(),v.arc(A,R,8,0,2*Math.PI),v.fillStyle=`hsl(${I.activation*240}, 70%, 60%)`,v.fill(),I.connections.forEach(N=>{if(N<n.neuralPatterns.length){const lt=n.neuralPatterns[N].layer*80+50,$e=N%10*30+50;v.beginPath(),v.moveTo(A,R),v.lineTo(lt,$e),v.strokeStyle=`rgba(100, 200, 255, ${Math.abs(I.weight)*.5})`,v.lineWidth=Math.abs(I.weight)*2,v.stroke()}})})};return D.useEffect(()=>{z()},[n.neuralPatterns]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 rounded-3xl p-8 text-white",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold flex items-center",children:[l.jsx(ls,{className:"w-8 h-8 mr-3 animate-pulse"}),"AI Learning Engine"]}),l.jsx("p",{className:"text-indigo-200",children:"Neural-powered adaptive learning system"})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(u.focusLevel*100),"%"]}),l.jsx("div",{className:"text-sm text-indigo-200",children:"Neural Efficiency"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-black/30 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[l.jsx(q1,{className:"w-5 h-5 mr-2"}),"Personal Neural Network"]}),l.jsx("canvas",{ref:g,width:400,height:300,className:"w-full h-48 bg-black/20 rounded-lg"}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:["Neurons: ",n.neuralPatterns.length]}),l.jsxs("div",{children:["Learning Rate: ",n.learningVelocity.toFixed(2),"x"]}),l.jsxs("div",{children:["Cognitive Load: ",Math.round(n.cognitiveLoad*100),"%"]}),l.jsxs("div",{children:["Style: ",n.learningStyle]})]})]}),l.jsxs("div",{className:"bg-black/30 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[l.jsx(da,{className:"w-5 h-5 mr-2"}),"Cognitive Patterns"]}),l.jsx("div",{className:"space-y-3",children:["Alpha","Beta","Gamma","Theta"].map((w,v)=>{var I,S;return l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"w-12 text-sm",children:w}),l.jsx("div",{className:"flex-1 h-8 bg-black/20 rounded overflow-hidden",children:l.jsx("div",{className:`h-full bg-gradient-to-r ${v===0?"from-blue-400 to-cyan-400":v===1?"from-green-400 to-teal-400":v===2?"from-yellow-400 to-orange-400":"from-purple-400 to-pink-400"} transition-all duration-300`,style:{width:`${((I=f[v*20])==null?void 0:I[w.toLowerCase()])||50}%`,animation:"pulse 2s infinite"}})}),l.jsxs("span",{className:"text-sm w-12",children:[Math.round(((S=f[v*20])==null?void 0:S[w.toLowerCase()])||50),"%"]})]},w)})})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(Dm,{className:"w-6 h-6 mr-2 text-blue-600"}),"AI Recommendations"]}),l.jsx("div",{className:"space-y-4",children:s.map((w,v)=>l.jsxs("div",{className:`p-4 rounded-2xl border-l-4 ${w.priority==="high"?"bg-red-50 border-red-500":w.priority==="medium"?"bg-yellow-50 border-yellow-500":"bg-green-50 border-green-500"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.priority==="high"?"bg-red-100 text-red-700":w.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:w.type.toUpperCase()}),l.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(w.confidence*100),"% confidence"]})]}),l.jsx("h4",{className:"font-semibold text-gray-800",children:w.action}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.reasoning})]},v))})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(br,{className:"w-6 h-6 mr-2 text-purple-600"}),"Adaptive Learning Path"]}),o&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-purple-50 rounded-xl p-3",children:[l.jsx("div",{className:"text-sm text-purple-600",children:"Difficulty"}),l.jsxs("div",{className:"text-lg font-bold text-purple-800",children:[Math.round(o.difficultyLevel*100),"%"]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[l.jsx("div",{className:"text-sm text-blue-600",children:"Pacing"}),l.jsx("div",{className:"text-lg font-bold text-blue-800 capitalize",children:o.pacing})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Next Recommended Topics:"}),l.jsx("div",{className:"space-y-2",children:(L=o.nextTopics)==null?void 0:L.map((w,v)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800",children:w.name}),l.jsxs("div",{className:"text-sm text-gray-600",children:[w.estimatedTime," min"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"AI Match"}),l.jsxs("div",{className:"font-bold text-green-600",children:[Math.round(w.aiConfidence*100),"%"]})]})]},v))})]})]})]})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[l.jsx(Mm,{className:"w-6 h-6 mr-2 text-green-600"}),"Real-time Cognitive Analysis"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(u).filter(([w])=>w!=="timestamp").map(([w,v])=>l.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-100",children:[l.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[typeof v=="number"?Math.round(v*100):v,typeof v=="number"&&"%"]}),l.jsx("div",{className:"text-sm text-gray-600 capitalize",children:w.replace(/([A-Z])/g," $1").trim()}),l.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1",children:l.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${typeof v=="number"&&v>.8?"bg-green-500":typeof v=="number"&&v>.6?"bg-yellow-500":"bg-red-500"}`,style:{width:typeof v=="number"?`${v*100}%`:"0%"}})})]},w))})]})]})},V0=({concept:t,data:e})=>{const n=D.useRef(null),[r,s]=D.useState({rotation:{x:0,y:0,z:0},particles:[],quantumFields:[],dimensions:3,complexity:.7,aiEnhancement:!0}),[i,o]=D.useState(!0),[c,u]=D.useState(!1),[d,f]=D.useState([]);D.useEffect(()=>{p(),g(),E()},[t,e]);const p=()=>{const _=Array.from({length:200},(y,T)=>({id:T,x:(Math.random()-.5)*400,y:(Math.random()-.5)*400,z:(Math.random()-.5)*400,vx:(Math.random()-.5)*2,vy:(Math.random()-.5)*2,vz:(Math.random()-.5)*2,size:Math.random()*5+2,color:`hsl(${Math.random()*360}, 70%, 60%)`,energy:Math.random(),quantum:Math.random()>.7,connections:[]}));_.forEach(y=>{if(y.quantum){const T=_.filter(P=>P.id!==y.id&&Math.random()>.8).slice(0,3).map(P=>P.id);y.connections=T}}),s(y=>({...y,particles:_}))},g=()=>{const _=Array.from({length:5},(y,T)=>({id:T,type:["electromagnetic","gravitational","strong","weak","higgs"][T],strength:Math.random()*.5+.3,frequency:Math.random()*.1+.05,phase:Math.random()*Math.PI*2,color:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"][T]}));s(y=>({...y,quantumFields:_}))},E=()=>{const _=setInterval(()=>{const y=[{type:"pattern_recognition",confidence:Math.random()*.3+.7,insight:"Detected optimal learning pathway through quantum state analysis",recommendation:"Focus on interconnected concepts for 23% better retention"},{type:"cognitive_mapping",confidence:Math.random()*.2+.8,insight:"Neural pathway optimization detected in holographic representation",recommendation:"Increase dimensional complexity for enhanced understanding"},{type:"quantum_coherence",confidence:Math.random()*.4+.6,insight:"Quantum entanglement patterns suggest knowledge consolidation",recommendation:"Maintain current visualization parameters for optimal learning"}];f(y)},5e3);return()=>clearInterval(_)},b=()=>{const _=n.current;if(!_)return;const y=_.getContext("2d"),T=_.width/2,P=_.height/2,z=y.createRadialGradient(T,P,0,T,P,300);if(z.addColorStop(0,"rgba(0, 20, 40, 0.1)"),z.addColorStop(1,"rgba(0, 0, 0, 0.9)"),y.fillStyle=z,y.fillRect(0,0,_.width,_.height),c&&r.quantumFields.forEach(L=>{y.save(),y.globalAlpha=.3,y.strokeStyle=L.color,y.lineWidth=2;for(let w=0;w<50;w++){const v=w/50*Math.PI*2,I=100+Math.sin(Date.now()*L.frequency+L.phase)*50,S=T+Math.cos(v)*I,A=P+Math.sin(v)*I;w===0?(y.beginPath(),y.moveTo(S,A)):y.lineTo(S,A)}y.stroke(),y.restore()}),r.particles.forEach(L=>{const w=k(L,T,P);if(i&&(y.save(),y.globalAlpha=.3,y.beginPath(),y.arc(w.x,w.y,L.size*3,0,Math.PI*2),y.fillStyle=L.color,y.filter="blur(5px)",y.fill(),y.restore()),y.save(),y.globalAlpha=L.quantum?.8:.6,y.beginPath(),y.arc(w.x,w.y,L.size,0,Math.PI*2),L.quantum){const v=y.createRadialGradient(w.x,w.y,0,w.x,w.y,L.size);v.addColorStop(0,L.color),v.addColorStop(1,"rgba(255, 255, 255, 0.1)"),y.fillStyle=v}else y.fillStyle=L.color;y.fill(),y.restore(),L.quantum&&c&&L.connections.forEach(v=>{const I=r.particles.find(S=>S.id===v);if(I){const S=k(I,T,P);y.save(),y.globalAlpha=.4,y.strokeStyle="#00FFFF",y.lineWidth=1,y.setLineDash([5,5]),y.beginPath(),y.moveTo(w.x,w.y),y.lineTo(S.x,S.y),y.stroke(),y.restore()}})}),i){y.save(),y.globalAlpha=.1,y.strokeStyle="#00FFFF",y.lineWidth=1;for(let L=0;L<_.height;L+=4)y.beginPath(),y.moveTo(0,L),y.lineTo(_.width,L),y.stroke();y.restore()}},k=(_,y,T)=>{const{rotation:P}=r,z=Math.cos(P.x),L=Math.sin(P.x),w=Math.cos(P.y),v=Math.sin(P.y),I=Math.cos(P.z),S=Math.sin(P.z);let A=_.x,R=_.y*z-_.z*L,N=_.y*L+_.z*z;const Me=A*w+N*v;N=-A*v+N*w,A=Me;const lt=A*I-R*S,$e=A*S+R*I,Je=500,V=Je/(Je+N);return{x:y+lt*V,y:T+$e*V,scale:V}},C=()=>{s(_=>({..._,particles:_.particles.map(y=>({...y,x:y.x+y.vx,y:y.y+y.vy,z:y.z+y.vz,energy:Math.sin(Date.now()*.001+y.id)*.5+.5})),rotation:{x:_.rotation.x+.005,y:_.rotation.y+.008,z:_.rotation.z+.003}}))};return D.useEffect(()=>{const _=setInterval(()=>{C(),b()},50);return()=>clearInterval(_)},[r,i,c]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 rounded-3xl p-8",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 text-white",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold flex items-center",children:[l.jsx(fc,{className:"w-8 h-8 mr-3 animate-spin"}),"Holographic Learning Interface"]}),l.jsx("p",{className:"text-blue-200",children:"Quantum-enhanced 3D concept visualization"})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("button",{onClick:()=>o(!i),className:`px-4 py-2 rounded-lg transition-all ${i?"bg-cyan-500 text-white":"bg-white/20 text-cyan-200"}`,children:[l.jsx(Mm,{className:"w-4 h-4 mr-2 inline"}),"Holographic"]}),l.jsxs("button",{onClick:()=>u(!c),className:`px-4 py-2 rounded-lg transition-all ${c?"bg-purple-500 text-white":"bg-white/20 text-purple-200"}`,children:[l.jsx(W1,{className:"w-4 h-4 mr-2 inline"}),"Quantum"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"relative bg-black/50 rounded-2xl p-4 border border-cyan-500/30",children:[l.jsx("canvas",{ref:n,width:600,height:400,className:"w-full h-80 rounded-lg"}),l.jsxs("div",{className:"absolute top-4 left-4 space-y-2",children:[l.jsxs("div",{className:"bg-black/70 text-cyan-400 px-3 py-1 rounded text-sm font-mono",children:["PARTICLES: ",r.particles.length]}),l.jsxs("div",{className:"bg-black/70 text-cyan-400 px-3 py-1 rounded text-sm font-mono",children:["QUANTUM: ",r.particles.filter(_=>_.quantum).length]}),l.jsxs("div",{className:"bg-black/70 text-cyan-400 px-3 py-1 rounded text-sm font-mono",children:["DIMENSIONS: ",r.dimensions,"D"]})]}),l.jsx("div",{className:"absolute bottom-4 right-4",children:l.jsx("div",{className:"bg-black/70 text-green-400 px-3 py-1 rounded text-sm font-mono",children:"HOLOGRAM ACTIVE"})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-black/50 rounded-2xl p-4 border border-blue-500/30",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[l.jsx(Dm,{className:"w-5 h-5 mr-2"}),"Quantum Controls"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-blue-200 text-sm mb-2",children:"Complexity"}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.complexity,onChange:_=>s(y=>({...y,complexity:parseFloat(_.target.value)})),className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-blue-200 text-sm mb-2",children:"Dimensions"}),l.jsxs("select",{value:r.dimensions,onChange:_=>s(y=>({...y,dimensions:parseInt(_.target.value)})),className:"w-full bg-black/50 text-white border border-blue-500/30 rounded px-3 py-2",children:[l.jsx("option",{value:2,children:"2D Projection"}),l.jsx("option",{value:3,children:"3D Hologram"}),l.jsx("option",{value:4,children:"4D Tesseract"}),l.jsx("option",{value:5,children:"5D Hypercube"})]})]}),l.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 rounded-lg hover:shadow-lg transition-all",children:[l.jsx(su,{className:"w-4 h-4 mr-2 inline"}),"Regenerate Hologram"]})]})]}),l.jsxs("div",{className:"bg-black/50 rounded-2xl p-4 border border-purple-500/30",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[l.jsx(z1,{className:"w-5 h-5 mr-2"}),"Quantum Fields"]}),l.jsx("div",{className:"space-y-3",children:r.quantumFields.map(_=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-300 capitalize",children:_.type}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_.color}}),l.jsxs("span",{className:"text-sm text-white",children:[Math.round(_.strength*100),"%"]})]})]},_.id))})]})]})]})]})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(da,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Quantum AI Insights"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map((_,y)=>l.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-4 border border-indigo-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:_.type.replace("_"," ").toUpperCase()}),l.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(_.confidence*100),"%"]})]}),l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:_.insight}),l.jsx("p",{className:"text-sm text-gray-600",children:_.recommendation})]},y))})]})]})},JR=({onCommand:t,language:e="en"})=>{const[n,r]=D.useState(!1),[s,i]=D.useState(!1),[o,c]=D.useState(""),[u,d]=D.useState(""),[f,p]=D.useState([]),[g,E]=D.useState("neutral"),[b,k]=D.useState(0),[C,_]=D.useState("friendly"),y=D.useRef(null);D.useRef(null);const T=D.useRef(null),P=D.useRef(null),z={en:{name:"English",voice:"en-US"},es:{name:"Spanish",voice:"es-ES"},fr:{name:"French",voice:"fr-FR"},de:{name:"German",voice:"de-DE"},ja:{name:"Japanese",voice:"ja-JP"},zh:{name:"Chinese",voice:"zh-CN"},hi:{name:"Hindi",voice:"hi-IN"},ar:{name:"Arabic",voice:"ar-SA"}},L={friendly:{name:"Friendly Tutor",style:"encouraging and supportive",responses:{greeting:"Hello! I'm excited to help you learn today! What would you like to explore?",encouragement:"You're doing great! Keep up the excellent work!",explanation:"Let me break this down in a simple way for you."}},professional:{name:"Professional Instructor",style:"formal and structured",responses:{greeting:"Good day. I am your AI learning assistant. How may I assist your studies today?",encouragement:"Your progress is commendable. Continue with this approach.",explanation:"Allow me to provide a comprehensive explanation of this concept."}},enthusiastic:{name:"Enthusiastic Mentor",style:"energetic and motivating",responses:{greeting:"Hey there, superstar! Ready to unlock some amazing knowledge today?",encouragement:"Wow! You're absolutely crushing it! This is fantastic!",explanation:"Oh, this is such a cool concept! Let me show you why it's amazing!"}},zen:{name:"Zen Master",style:"calm and philosophical",responses:{greeting:"Welcome, young learner. The path to knowledge begins with a single step.",encouragement:"Like a river flowing to the sea, your understanding grows naturally.",explanation:"Consider this concept as a gentle breeze that carries wisdom."}}};D.useEffect(()=>(w(),v(),()=>$e()),[e]);const w=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const V=window.SpeechRecognition||window.webkitSpeechRecognition;y.current=new V,y.current.continuous=!0,y.current.interimResults=!0,y.current.lang=z[e].voice,y.current.onstart=()=>{r(!0),I()},y.current.onresult=$=>{let F="",K="";for(let Y=$.resultIndex;Y<$.results.length;Y++){const he=$.results[Y][0].transcript,Ut=$.results[Y][0].confidence;$.results[Y].isFinal?(F+=he,k(Ut)):K+=he}c(F||K),F&&S(F,b)},y.current.onerror=$=>{console.error("Speech recognition error:",$.error),r(!1)},y.current.onend=()=>{r(!1)}}},v=async()=>{try{const V=await navigator.mediaDevices.getUserMedia({audio:!0});T.current=new(window.AudioContext||window.webkitAudioContext),P.current=T.current.createAnalyser(),T.current.createMediaStreamSource(V).connect(P.current),P.current.fftSize=256}catch(V){console.error("Audio analysis initialization failed:",V)}},I=()=>{const V=()=>{if(P.current&&n){const $=P.current.frequencyBinCount,F=new Uint8Array($);P.current.getByteFrequencyData(F);const K=Array.from(F).slice(0,50).map(Y=>Y/255);p(K),requestAnimationFrame(V)}};V()},S=async(V,$)=>{const F=A(V);E(F);const K=await R(V,F,$);d(K),N(K),t==null||t({command:V,emotion:F,confidence:$,response:K})},A=V=>{const $={frustrated:["difficult","hard","confused","stuck","help","don't understand"],excited:["awesome","great","amazing","love","fantastic","cool"],curious:["why","how","what","explain","tell me","show me"],confident:["know","understand","got it","clear","easy","simple"],tired:["tired","exhausted","break","stop","enough","later"]},F=V.toLowerCase();for(const[K,Y]of Object.entries($))if(Y.some(he=>F.includes(he)))return K;return"neutral"},R=async(V,$,F)=>{const K=L[C];return await new Promise(Y=>setTimeout(Y,500)),V.toLowerCase().includes("hello")||V.toLowerCase().includes("hi")?K.responses.greeting:$==="frustrated"?"I understand this can be challenging. Let's break it down into smaller, manageable steps. You've got this!":$==="excited"?K.responses.encouragement:V.toLowerCase().includes("explain")||V.toLowerCase().includes("what is")?K.responses.explanation:F<.7?"I'm not entirely sure I understood that correctly. Could you please repeat or rephrase your question?":`I heard you say "${V}". Based on your ${$} tone, I'll provide a ${K.style} response to help you learn effectively.`},N=V=>{if("speechSynthesis"in window){i(!0);const $=new SpeechSynthesisUtterance(V);$.lang=z[e].voice,$.rate=.9,$.pitch=1.1,$.volume=.8;const K=speechSynthesis.getVoices().find(Y=>Y.lang.startsWith(e)&&(C==="friendly"?Y.name.includes("Female"):Y.name.includes("Male")));K&&($.voice=K),$.onend=()=>i(!1),$.onerror=()=>i(!1),speechSynthesis.speak($)}},Me=()=>{var V,$;n?(V=y.current)==null||V.stop():($=y.current)==null||$.start()},lt=()=>{speechSynthesis.cancel(),i(!1)},$e=()=>{var V,$;(V=y.current)==null||V.stop(),speechSynthesis.cancel(),($=T.current)==null||$.close()},Je=V=>{const $={neutral:"from-gray-500 to-gray-600",excited:"from-yellow-500 to-orange-500",frustrated:"from-red-500 to-pink-500",curious:"from-blue-500 to-purple-500",confident:"from-green-500 to-teal-500",tired:"from-indigo-500 to-blue-500"};return $[V]||$.neutral};return l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 rounded-3xl p-8 text-white",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold flex items-center",children:[l.jsx(ls,{className:"w-8 h-8 mr-3 animate-pulse"}),"AI Voice Assistant"]}),l.jsx("p",{className:"text-indigo-200",children:"Natural language learning companion with emotional intelligence"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("select",{value:e,onChange:V=>setLanguage(V.target.value),className:"bg-black/30 text-white border border-white/20 rounded-lg px-3 py-2",children:Object.entries(z).map(([V,$])=>l.jsx("option",{value:V,className:"bg-gray-800",children:$.name},V))}),l.jsx("select",{value:C,onChange:V=>_(V.target.value),className:"bg-black/30 text-white border border-white/20 rounded-lg px-3 py-2",children:Object.entries(L).map(([V,$])=>l.jsx("option",{value:V,className:"bg-gray-800",children:$.name},V))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-8 mb-6",children:[l.jsxs("button",{onClick:Me,className:`relative w-20 h-20 rounded-full flex items-center justify-center transition-all duration-300 ${n?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-blue-500 hover:bg-blue-600"}`,children:[n?l.jsx(H1,{className:"w-8 h-8"}):l.jsx(Vm,{className:"w-8 h-8"}),n&&l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-red-300 animate-ping"})]}),l.jsx("button",{onClick:lt,disabled:!s,className:`w-16 h-16 rounded-full flex items-center justify-center transition-all ${s?"bg-orange-500 hover:bg-orange-600":"bg-gray-600 cursor-not-allowed"}`,children:s?l.jsx($R,{className:"w-6 h-6"}):l.jsx(zR,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"h-20 bg-black/20 rounded-lg flex items-end justify-center space-x-1 p-2",children:[f.map((V,$)=>l.jsx("div",{className:"bg-cyan-400 rounded-t transition-all duration-100",style:{height:`${Math.max(V*60,2)}px`,width:"4px"}},$)),f.length===0&&l.jsx("div",{className:"text-cyan-400 text-sm",children:n?"Listening...":"Click microphone to start"})]})]}),l.jsxs("div",{className:"bg-black/30 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[l.jsx(B1,{className:"w-5 h-5 mr-2"}),"Conversation"]}),l.jsxs("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:[o&&l.jsxs("div",{className:"bg-blue-500/20 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-blue-200 mb-1",children:"You said:"}),l.jsx("div",{className:"text-white",children:o}),l.jsxs("div",{className:"text-xs text-blue-300 mt-1",children:["Confidence: ",Math.round(b*100),"%"]})]}),u&&l.jsxs("div",{className:"bg-purple-500/20 rounded-lg p-3",children:[l.jsxs("div",{className:"text-sm text-purple-200 mb-1 flex items-center",children:[l.jsx(su,{className:"w-3 h-3 mr-1"}),"AI Response:"]}),l.jsx("div",{className:"text-white",children:u})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/30 rounded-2xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Emotional State"}),l.jsx("div",{className:"text-center mb-4",children:l.jsx("div",{className:`inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r ${Je(g)} text-white font-medium`,children:g.charAt(0).toUpperCase()+g.slice(1)})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Confidence"}),l.jsxs("span",{children:[Math.round(b*100),"%"]})]}),l.jsx("div",{className:"w-full bg-black/20 rounded-full h-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${b*100}%`}})})]})]}),l.jsxs("div",{className:"bg-black/30 rounded-2xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"AI Personality"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-medium mb-2",children:L[C].name}),l.jsx("div",{className:"text-sm text-gray-300",children:L[C].style})]})]}),l.jsxs("div",{className:"bg-black/30 rounded-2xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Voice Commands"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:'"Explain [topic]" - Get detailed explanations'}),l.jsx("div",{children:'"Quiz me on [subject]" - Start interactive quiz'}),l.jsx("div",{children:'"Show me examples" - View code examples'}),l.jsx("div",{children:`"I'm confused" - Get simplified explanation`}),l.jsx("div",{children:'"Take a break" - Pause learning session'})]})]})]})]})]})]})})},L0=()=>{const[t,e]=D.useState("neural"),[n,r]=D.useState({neuralActivity:.85,quantumCoherence:.92,learningVelocity:1.4,cognitiveLoad:.3,emotionalIntelligence:.88,adaptationRate:.76});D.useState({});const[s,i]=D.useState([]),[o,c]=D.useState(new Date);D.useEffect(()=>{const E=setInterval(()=>{c(new Date),u(),d()},2e3);return()=>clearInterval(E)},[]);const u=()=>{r(E=>({neuralActivity:Math.max(.6,Math.min(1,E.neuralActivity+(Math.random()-.5)*.1)),quantumCoherence:Math.max(.7,Math.min(1,E.quantumCoherence+(Math.random()-.5)*.05)),learningVelocity:Math.max(.8,Math.min(2,E.learningVelocity+(Math.random()-.5)*.2)),cognitiveLoad:Math.max(.1,Math.min(.8,E.cognitiveLoad+(Math.random()-.5)*.1)),emotionalIntelligence:Math.max(.6,Math.min(1,E.emotionalIntelligence+(Math.random()-.5)*.05)),adaptationRate:Math.max(.5,Math.min(1,E.adaptationRate+(Math.random()-.5)*.08))}))},d=()=>{i([{type:"neural_optimization",priority:"high",message:"Neural pathways showing 23% increased efficiency",action:"Continue current learning pattern",confidence:.94,timestamp:new Date},{type:"quantum_learning",priority:"medium",message:"Quantum coherence optimal for complex concept absorption",action:"Introduce advanced topics",confidence:.87,timestamp:new Date},{type:"emotional_ai",priority:"low",message:"Emotional state indicates high engagement",action:"Maintain current difficulty level",confidence:.91,timestamp:new Date}])},f=E=>{console.log("Voice command received:",E)},p=E=>E>=.8?"text-green-500":E>=.6?"text-yellow-500":"text-red-500",g=E=>{const b={neural:"from-blue-600 via-purple-600 to-indigo-600",quantum:"from-purple-600 via-pink-600 to-red-600",holographic:"from-cyan-600 via-blue-600 to-indigo-600",voice:"from-green-600 via-teal-600 to-blue-600"};return b[E]||b.neural};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 p-6",children:l.jsxs("div",{className:"max-w-8xl mx-auto space-y-8",children:[l.jsxs("div",{className:`relative overflow-hidden bg-gradient-to-r ${g(t)} rounded-3xl p-8 text-white`,children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse"}),l.jsx("div",{className:"relative z-10",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"mb-6 lg:mb-0",children:[l.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold mb-4 flex items-center",children:[l.jsx(ls,{className:"w-12 h-12 mr-4 animate-pulse"}),"Ultimate AI Learning Platform"]}),l.jsx("p",{className:"text-2xl opacity-90 mb-4",children:"The world's most advanced AI-powered education system"}),l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(da,{className:"w-6 h-6 text-yellow-300"}),l.jsxs("span",{className:"text-lg font-medium",children:["Neural Efficiency: ",Math.round(n.neuralActivity*100),"%"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fc,{className:"w-6 h-6 text-cyan-300"}),l.jsxs("span",{className:"text-lg font-medium",children:["Quantum Coherence: ",Math.round(n.quantumCoherence*100),"%"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(br,{className:"w-6 h-6 text-green-300"}),l.jsxs("span",{className:"text-lg font-medium",children:["Learning Velocity: ",n.learningVelocity.toFixed(1),"x"]})]})]})]}),l.jsxs("div",{className:"text-center lg:text-right",children:[l.jsx("div",{className:"text-4xl font-bold mb-2",children:o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsx("div",{className:"text-xl opacity-75 mb-4",children:o.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})}),l.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-white/20 backdrop-blur-lg rounded-full text-lg font-medium",children:[l.jsx(su,{className:"w-5 h-5 mr-2"}),"AI Singularity Mode"]})]})]})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{mode:"neural",icon:ls,title:"Neural Engine",desc:"Deep learning algorithms"},{mode:"quantum",icon:fc,title:"Quantum AI",desc:"Quantum computing power"},{mode:"holographic",icon:W1,title:"Holographic",desc:"3D visualization system"},{mode:"voice",icon:Vm,title:"Voice AI",desc:"Natural language interface"}].map(({mode:E,icon:b,title:k,desc:C})=>l.jsxs("button",{onClick:()=>e(E),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${t===E?"bg-white/20 backdrop-blur-lg border-2 border-white/30 scale-105":"bg-white/10 backdrop-blur-lg border border-white/20 hover:bg-white/15"}`,children:[l.jsxs("div",{className:"text-center text-white",children:[l.jsx(b,{className:`w-12 h-12 mx-auto mb-3 ${t===E?"animate-pulse":""}`}),l.jsx("h3",{className:"text-lg font-bold mb-1",children:k}),l.jsx("p",{className:"text-sm opacity-75",children:C})]}),t===E&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse"})]},E))}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(n).map(([E,b])=>l.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-4 border border-white/20",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:`text-2xl font-bold ${p(b)}`,children:typeof b=="number"?b>2?b.toFixed(1)+"x":Math.round(b*100)+"%":b}),l.jsx("div",{className:"text-sm opacity-75 capitalize",children:E.replace(/([A-Z])/g," $1").trim()}),l.jsx("div",{className:"mt-2 w-full bg-white/20 rounded-full h-1",children:l.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${b>=.8?"bg-green-400":b>=.6?"bg-yellow-400":"bg-red-400"}`,style:{width:`${Math.min(b*100,100)}%`}})})]})},E))}),l.jsxs("div",{className:"space-y-8",children:[t==="neural"&&l.jsx(QR,{userId:"ultimate_user",subject:"Advanced AI"}),t==="quantum"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(V0,{concept:"Quantum Learning",data:{}}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20",children:[l.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[l.jsx(z1,{className:"w-6 h-6 mr-2"}),"Quantum Learning Matrix"]}),l.jsx("div",{className:"space-y-4",children:Array.from({length:5},(E,b)=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[l.jsxs("span",{className:"text-white",children:["Quantum State ",b+1]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-20 bg-white/20 rounded-full h-2",children:l.jsx("div",{className:"bg-cyan-400 h-2 rounded-full transition-all duration-1000",style:{width:`${Math.random()*100}%`}})}),l.jsxs("span",{className:"text-cyan-400 text-sm",children:[Math.round(Math.random()*100),"%"]})]})]},b))})]})]}),t==="holographic"&&l.jsx(V0,{concept:"Advanced Programming",data:{}}),t==="voice"&&l.jsx(JR,{onCommand:f,language:"en"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20",children:[l.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[l.jsx(Dm,{className:"w-6 h-6 mr-2"}),"Real-time AI Insights"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map((E,b)=>l.jsxs("div",{className:`p-6 rounded-2xl border-l-4 ${E.priority==="high"?"bg-red-500/20 border-red-400":E.priority==="medium"?"bg-yellow-500/20 border-yellow-400":"bg-green-500/20 border-green-400"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${E.priority==="high"?"bg-red-400/30 text-red-200":E.priority==="medium"?"bg-yellow-400/30 text-yellow-200":"bg-green-400/30 text-green-200"}`,children:E.type.replace("_"," ").toUpperCase()}),l.jsxs("span",{className:"text-white/60 text-sm",children:[Math.round(E.confidence*100),"%"]})]}),l.jsx("h4",{className:"font-semibold text-white mb-2",children:E.message}),l.jsx("p",{className:"text-white/70 text-sm mb-3",children:E.action}),l.jsx("div",{className:"text-xs text-white/50",children:E.timestamp.toLocaleTimeString()})]},b))})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20",children:[l.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[l.jsx(q1,{className:"w-6 h-6 mr-2"}),"Neural Network Status"]}),l.jsx("div",{className:"space-y-4",children:[{layer:"Input Layer",neurons:1024,activation:.94},{layer:"Hidden Layer 1",neurons:512,activation:.87},{layer:"Hidden Layer 2",neurons:256,activation:.91},{layer:"Output Layer",neurons:128,activation:.89}].map((E,b)=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[l.jsxs("div",{className:"text-white",children:[l.jsx("div",{className:"font-medium",children:E.layer}),l.jsxs("div",{className:"text-sm opacity-70",children:[E.neurons," neurons"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-cyan-400 font-bold",children:[Math.round(E.activation*100),"%"]}),l.jsx("div",{className:"w-20 bg-white/20 rounded-full h-2 mt-1",children:l.jsx("div",{className:"bg-cyan-400 h-2 rounded-full transition-all duration-500",style:{width:`${E.activation*100}%`}})})]})]},b))})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20",children:[l.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[l.jsx(J1,{className:"w-6 h-6 mr-2"}),"Learning Analytics"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:"98.7%"}),l.jsx("div",{className:"text-white/70",children:"Overall AI Efficiency"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"2.3x"}),l.jsx("div",{className:"text-white/70 text-sm",children:"Learning Speed"})]}),l.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"94%"}),l.jsx("div",{className:"text-white/70 text-sm",children:"Retention Rate"})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-500 to-teal-500 rounded-full text-white font-medium",children:[l.jsx(L1,{className:"w-4 h-4 mr-2"}),"AI Singularity Achieved"]})})]})]})]}),l.jsx("div",{className:"text-center py-6",children:l.jsx("p",{className:"text-white/60 text-sm",children:"Made by Nishan Upreti"})})]})})},YR=({isActive:t,onPersonDetected:e,onPostureUpdate:n})=>{const r=D.useRef(null),s=D.useRef(null),i=D.useRef(null),[o,c]=D.useState(!1),[u,d]=D.useState(!1),[f,p]=D.useState({score:0,status:"unknown",alerts:[]}),[g,E]=D.useState(null);D.useEffect(()=>(t?b():k(),()=>k()),[t]);const b=async()=>{try{const y=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:15}}});r.current&&(r.current.srcObject=y,i.current=y,c(!0),E(null),r.current.onloadedmetadata=()=>{C()})}catch(y){E("Camera access denied or not available"),console.error("Camera error:",y)}},k=()=>{i.current&&(i.current.getTracks().forEach(y=>y.stop()),i.current=null),c(!1),d(!1),p({score:0,status:"unknown",alerts:[]})},C=()=>{const y=async()=>{if(!r.current||!s.current||!o)return;const T=r.current,P=s.current,z=P.getContext("2d");P.width=T.videoWidth,P.height=T.videoHeight,z.drawImage(T,0,0,P.width,P.height);const L=P.toDataURL("image/jpeg",.8);try{const w=await fetch("/api/analyze-posture",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:L,timestamp:Date.now()})});if(w.ok){const v=await w.json(),I=u;d(v.person_present),e&&I!==v.person_present&&e(v.person_present),v.posture&&(p(v.posture),n&&n(v.posture))}}catch(w){console.error("Analysis error:",w)}o&&setTimeout(y,1e3)};setTimeout(y,1e3)},_=y=>{switch(y){case"excellent":return"text-green-600 bg-green-50";case"good":return"text-blue-600 bg-blue-50";case"fair":return"text-yellow-600 bg-yellow-50";case"poor":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(AR,{className:"w-5 h-5 text-blue-600"}),l.jsx("h3",{className:"font-semibold text-gray-800",children:"Focus Monitor"})]}),l.jsx("div",{className:"flex items-center space-x-2",children:u?l.jsxs("div",{className:"flex items-center text-green-600",children:[l.jsx(qo,{className:"w-4 h-4 mr-1"}),l.jsx("span",{className:"text-sm font-medium",children:"Present"})]}):l.jsxs("div",{className:"flex items-center text-red-600",children:[l.jsx(mc,{className:"w-4 h-4 mr-1"}),l.jsx("span",{className:"text-sm font-medium",children:"Away"})]})})]})}),l.jsx("div",{className:"relative",children:g?l.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx(CR,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:g})]})}):l.jsxs("div",{className:"relative h-48 bg-black",children:[l.jsx("video",{ref:r,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),l.jsx("canvas",{ref:s,className:"hidden"}),l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${o?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:o?"LIVE":"OFF"})}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("div",{className:`p-2 rounded-full ${u?"bg-green-500":"bg-red-500"}`,children:u?l.jsx(qo,{className:"w-4 h-4 text-white"}):l.jsx(mc,{className:"w-4 h-4 text-white"})})})]})}),o&&l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Posture Score"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-300 ${f.score>=80?"bg-green-500":f.score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${f.score}%`}})}),l.jsxs("span",{className:"text-sm font-bold",children:[Math.round(f.score),"%"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${_(f.status)}`,children:f.status})]}),f.alerts&&f.alerts.length>0&&l.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(SR,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Posture Alert"}),l.jsx("ul",{className:"text-xs text-yellow-700 space-y-1",children:f.alerts.map((y,T)=>l.jsxs("li",{children:[" ",y]},T))})]})]})}),l.jsx("div",{className:"flex items-center justify-center pt-2 border-t",children:l.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[l.jsx(IR,{className:"w-3 h-3"}),l.jsx("span",{children:"Monitoring active"})]})})]})]})},XR=()=>{const[t,e]=D.useState(1500),[n,r]=D.useState(!1),[s,i]=D.useState("work"),[o,c]=D.useState(0),[u,d]=D.useState(!0),[f,p]=D.useState(!0),[g,E]=D.useState(!1),[b,k]=D.useState({score:85,status:"good",alerts:[]}),[C,_]=D.useState({totalSessions:12,averageFocus:82,streakDays:5,totalHours:8.5,todayGoal:8,todayCompleted:3}),y=D.useRef(null),T=D.useRef(null),P={work:25*60,shortBreak:5*60,longBreak:15*60},z={work:{name:"Focus Session",color:"from-red-500 to-red-600",bgColor:"bg-red-500",lightBg:"bg-red-50",textColor:"text-red-600"},shortBreak:{name:"Short Break",color:"from-green-500 to-green-600",bgColor:"bg-green-500",lightBg:"bg-green-50",textColor:"text-green-600"},longBreak:{name:"Long Break",color:"from-blue-500 to-blue-600",bgColor:"bg-blue-500",lightBg:"bg-blue-50",textColor:"text-blue-600"}};D.useEffect(()=>(L(),()=>{T.current&&T.current.close(),clearInterval(y.current)}),[]),D.useEffect(()=>(n&&!g&&t>0?y.current=setInterval(()=>{e(F=>F<=1?(A(),0):F-1)},1e3):clearInterval(y.current),()=>clearInterval(y.current)),[n,g,t]);const L=()=>{try{T.current=new WebSocket("ws://localhost:8000/ws/pomodoro"),T.current.onmessage=F=>{const K=JSON.parse(F.data);w(K)},T.current.onerror=F=>{console.error("WebSocket error:",F)}}catch(F){console.error("Failed to initialize WebSocket:",F)}},w=F=>{switch(F.type){case"timer_state":v(F.payload);break;case"auto_paused":E(!0),r(!1);break;case"auto_resumed":E(!1),F.payload.should_resume&&r(!0);break}},v=F=>{e(F.time_left),i(F.session_type),c(F.sessions_completed)},I=async F=>{const K=u;d(F),f&&n&&(!F&&K?(E(!0),r(!1),$e("Timer paused - Please return to your seat","warning")):F&&!K&&g&&(E(!1),r(!0),$e("Timer resumed - Welcome back!","success")));try{await fetch("/api/pomodoro/presence",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({present:F})})}catch(Y){console.error("Failed to update presence:",Y)}},S=F=>{k(F)},A=()=>{if(r(!1),E(!1),s==="work"){const F=o+1;c(F);const K=F%4===0?"longBreak":"shortBreak";i(K),e(P[K]),$e("Work session completed! Time for a break.","success")}else i("work"),e(P.work),$e("Break over! Ready for another focus session?","info");Je()},R=async()=>{if(g&&!u){$e("Please ensure you are visible to the camera before starting","warning");return}const F=!n;r(F),E(!1);try{await fetch(`/api/pomodoro/${F?"start":"pause"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({manual:!0})})}catch(K){console.error("Failed to update timer state:",K)}},N=async()=>{r(!1),E(!1),e(P[s]);try{await fetch("/api/pomodoro/reset",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(F){console.error("Failed to reset timer:",F)}},Me=async F=>{i(F),e(P[F]),r(!1),E(!1);try{await fetch("/api/pomodoro/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_type:F})})}catch(K){console.error("Failed to switch session:",K)}},lt=F=>{const K=Math.floor(F/60),Y=F%60;return`${K.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}`},$e=(F,K="info")=>{const Y=document.createElement("div");Y.className=`fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${K==="success"?"bg-green-500 text-white":K==="warning"?"bg-yellow-500 text-white":K==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,Y.textContent=F,document.body.appendChild(Y),setTimeout(()=>{document.body.removeChild(Y)},3e3)},Je=()=>{try{new Audio("/notification.mp3").play().catch(()=>{})}catch(F){console.error("Failed to play notification sound:",F)}},V=(P[s]-t)/P[s]*100,$=z[s];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-3",children:"Professional Focus Timer"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"AI-powered productivity with automatic presence detection"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[l.jsx("div",{className:"xl:col-span-3",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[l.jsx("div",{className:`bg-gradient-to-r ${$.color} p-6 text-white`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ru,{className:"w-6 h-6"}),l.jsx("h2",{className:"text-2xl font-bold",children:$.name})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[g&&l.jsxs("div",{className:"flex items-center bg-white/20 rounded-full px-3 py-1",children:[l.jsx(mc,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"text-sm",children:"Auto-Paused"})]}),l.jsx("div",{className:"flex items-center bg-white/20 rounded-full px-3 py-1",children:u?l.jsxs(l.Fragment,{children:[l.jsx(qo,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"text-sm",children:"Present"})]}):l.jsxs(l.Fragment,{children:[l.jsx(mc,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"text-sm",children:"Away"})]})})]})]})}),l.jsxs("div",{className:"p-8",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("div",{className:"flex bg-gray-100 rounded-2xl p-2",children:Object.entries(P).map(([F,K])=>l.jsx("button",{onClick:()=>Me(F),className:`px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${s===F?`${z[F].bgColor} text-white shadow-lg`:"text-gray-600 hover:text-gray-800 hover:bg-gray-200"}`,children:F==="shortBreak"?"Short Break":F==="longBreak"?"Long Break":"Focus"},F))})}),l.jsx("div",{className:"text-center mb-8",children:l.jsxs("div",{className:"relative inline-block",children:[l.jsxs("svg",{className:"w-80 h-80 transform -rotate-90",viewBox:"0 0 100 100",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"1.5",fill:"transparent",className:"text-gray-200"}),l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"1.5",fill:"transparent",strokeDasharray:`${2*Math.PI*45}`,strokeDashoffset:`${2*Math.PI*45*(1-V/100)}`,className:$.textColor,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease-in-out"}})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl font-bold text-gray-800 mb-2",children:lt(t)}),l.jsxs("div",{className:"text-lg text-gray-600",children:[Math.round(V),"% Complete"]}),g&&l.jsx("div",{className:"text-sm text-red-500 mt-2 font-medium",children:"Paused - Return to seat"})]})})]})}),l.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[l.jsxs("button",{onClick:R,disabled:g&&!u,className:`flex items-center px-8 py-4 rounded-2xl text-white font-semibold text-lg transition-all duration-200 shadow-lg ${g&&!u?"bg-gray-400 cursor-not-allowed":n?"bg-red-500 hover:bg-red-600 hover:shadow-xl":"bg-green-500 hover:bg-green-600 hover:shadow-xl"}`,children:[n?l.jsx(G1,{className:"w-6 h-6 mr-3"}):l.jsx(ua,{className:"w-6 h-6 mr-3"}),n?"Pause":"Start"]}),l.jsxs("button",{onClick:N,className:"flex items-center px-6 py-4 bg-gray-500 text-white rounded-2xl hover:bg-gray-600 font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:[l.jsx(K1,{className:"w-5 h-5 mr-2"}),"Reset"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:`${$.lightBg} rounded-xl p-4 text-center`,children:[l.jsx("div",{className:`text-2xl font-bold ${$.textColor}`,children:o}),l.jsx("div",{className:"text-sm text-gray-600",children:"Sessions Today"})]}),l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(b.score),"%"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Posture Score"})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.streakDays}),l.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak"})]})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(YR,{isActive:!0,onPersonDetected:I,onPostureUpdate:S}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[l.jsx(br,{className:"w-5 h-5 mr-2 text-blue-600"}),"Daily Progress"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{children:"Sessions Goal"}),l.jsxs("span",{children:[C.todayCompleted,"/",C.todayGoal]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-3 rounded-full transition-all duration-300",style:{width:`${C.todayCompleted/C.todayGoal*100}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-xl font-bold text-gray-800",children:[C.totalHours,"h"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Total Hours"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-xl font-bold text-gray-800",children:[C.averageFocus,"%"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Avg Focus"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[l.jsx(Q1,{className:"w-5 h-5 mr-2 text-gray-600"}),"Settings"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Auto-pause when away"}),l.jsx("input",{type:"checkbox",checked:f,onChange:F=>p(F.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"})]}),l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Sound notifications"}),l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"})]}),l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Auto-start breaks"}),l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"})]})]})]})]})]})]})})},ZR=()=>{const[t,e]=D.useState(0),[n,r]=D.useState(new Set),s=[{title:"Python Introduction",content:`Python is a popular programming language. It was created by Guido van Rossum, and released in 1991.

It is used for:
 Web development (server-side)
 Software development
 Mathematics
 System scripting`,code:`print("Hello, World!")
# This is a comment
name = "Python"
print(f"Welcome to {name} programming!")`,videoId:"kqtD5dpn9C8",exercises:[{question:"What does print() function do?",answer:"Displays output to console"},{question:"How do you create a comment in Python?",answer:"Use # symbol"}]},{title:"Python Variables",content:`Variables are containers for storing data values.

Python has no command for declaring a variable. A variable is created the moment you first assign a value to it.

Variable Rules:
 Must start with a letter or underscore
 Cannot start with a number
 Can only contain alpha-numeric characters and underscores
 Case-sensitive`,code:`# Creating variables
x = 5
y = "John"
print(x)
print(y)

# Multiple assignment
a, b, c = "Orange", "Banana", "Cherry"
print(a, b, c)

# Global variables
x = "awesome"
def myfunc():
    print("Python is " + x)
myfunc()`,videoId:"cQT33yu9pY8",exercises:[{question:"Create a variable named 'age' with value 25",answer:"age = 25"},{question:"What is the output of: x = 5; print(type(x))",answer:"<class 'int'>"}]},{title:"Python Data Types",content:`Python has the following data types built-in by default:

Text Type: str
Numeric Types: int, float, complex
Sequence Types: list, tuple, range
Mapping Type: dict
Set Types: set, frozenset
Boolean Type: bool
Binary Types: bytes, bytearray, memoryview`,code:`# Different data types
x = "Hello World"    # str
y = 20               # int
z = 20.5             # float
a = 1j               # complex
b = ["apple", "banana", "cherry"]  # list
c = ("apple", "banana", "cherry")  # tuple
d = range(6)         # range
e = {"name": "John", "age": 36}    # dict
f = {"apple", "banana", "cherry"}  # set
g = True             # bool

print(type(x))
print(type(y))
print(type(z))`,videoId:"gCCVHqjjUFw",exercises:[{question:"What type is [1, 2, 3]?",answer:"list"},{question:"How to check the type of a variable?",answer:"type() function"}]},{title:"Python Lists",content:`Lists are used to store multiple items in a single variable.

Lists are one of 4 built-in data types in Python used to store collections of data.

List characteristics:
 Ordered - items have a defined order
 Changeable - we can change, add, and remove items
 Allow duplicates - can have items with the same value`,code:`# Creating lists
thislist = ["apple", "banana", "cherry"]
print(thislist)

# List length
print(len(thislist))

# Access items
print(thislist[0])  # First item
print(thislist[-1]) # Last item

# Change items
thislist[1] = "blackcurrant"
print(thislist)

# Add items
thislist.append("orange")
thislist.insert(1, "watermelon")
print(thislist)

# Remove items
thislist.remove("banana")
thislist.pop(1)
del thislist[0]
print(thislist)`,videoId:"ohCDWZgNIU0",exercises:[{question:"How to add an item to the end of a list?",answer:"append() method"},{question:"How to access the last item in a list?",answer:"list[-1]"}]},{title:"Python Functions",content:`A function is a block of code which only runs when it is called.

You can pass data, known as parameters, into a function.

A function can return data as a result.

Function benefits:
 Code reusability
 Better organization
 Easier debugging
 Modular programming`,code:`# Basic function
def my_function():
    print("Hello from a function")

my_function()

# Function with parameters
def greet(name):
    print(f"Hello, {name}!")

greet("Alice")

# Function with return value
def add_numbers(x, y):
    return x + y

result = add_numbers(5, 3)
print(result)

# Function with default parameter
def greet_with_title(name, title="Mr."):
    return f"Hello, {title} {name}!"

print(greet_with_title("Smith"))
print(greet_with_title("Johnson", "Dr."))`,videoId:"9Os0o3wzS_I",exercises:[{question:"How to define a function in Python?",answer:"def function_name():"},{question:"What keyword is used to return a value?",answer:"return"}]}],i=c=>{r(u=>new Set([...u,c]))},o=s[t];return l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sticky top-4",children:[l.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center",children:[l.jsx(ca,{className:"w-5 h-5 mr-2 text-blue-600"}),"Python Course"]}),l.jsx("div",{className:"space-y-2",children:s.map((c,u)=>l.jsx("button",{onClick:()=>e(u),className:`w-full text-left p-3 rounded-lg transition-colors ${t===u?"bg-blue-100 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:c.title}),n.has(u)&&l.jsx(O1,{className:"w-4 h-4 text-green-500"})]})},u))}),l.jsxs("div",{className:"mt-6 p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"text-sm text-green-800",children:["Progress: ",n.size,"/",s.length," lessons"]}),l.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${n.size/s.length*100}%`}})})]})]})}),l.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:o.title}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Lesson ",t+1," of ",s.length]}),l.jsx("button",{onClick:()=>i(t),className:`px-4 py-2 rounded-lg text-sm font-medium ${n.has(t)?"bg-green-100 text-green-800":"bg-blue-500 text-white hover:bg-blue-600"}`,children:n.has(t)?"Completed":"Mark Complete"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[l.jsx(Om,{className:"w-5 h-5 mr-2 text-red-600"}),"Video Tutorial"]}),l.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:l.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${o.videoId}`,title:o.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Lesson Content"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:o.content})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[l.jsx(wn,{className:"w-5 h-5 mr-2 text-green-600"}),"Try it Yourself"]}),l.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:l.jsx("pre",{className:"text-green-400 text-sm",children:l.jsx("code",{children:o.code})})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsxs("button",{className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center",children:[l.jsx(ua,{className:"w-4 h-4 mr-2"}),"Run Code"]}),l.jsxs("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center",children:[l.jsx(U1,{className:"w-4 h-4 mr-2"}),"Open in Editor"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Practice Exercises"}),l.jsx("div",{className:"space-y-4",children:o.exercises.map((c,u)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:["Q",u+1,": ",c.question]}),l.jsxs("details",{className:"text-sm text-gray-600",children:[l.jsx("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-800",children:"Show Answer"}),l.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:c.answer})]})]},u))})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>e(Math.max(0,t-1)),disabled:t===0,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous Lesson"}),l.jsx("button",{onClick:()=>e(Math.min(s.length-1,t+1)),disabled:t===s.length-1,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Lesson"})]})]})]})})},ej=()=>l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx(ZR,{})}),tj=()=>{const[t,e]=D.useState(0),[n,r]=D.useState(new Set),s=[{title:"JavaScript Introduction",content:`JavaScript is the world's most popular programming language.

JavaScript is used for:
 Web development (client-side and server-side)
 Mobile app development
 Desktop applications
 Game development

JavaScript Features:
 Dynamic typing
 First-class functions
 Prototype-based object-oriented programming
 Event-driven programming`,code:`// JavaScript basics
console.log("Hello, World!");

// Variables
let name = "JavaScript";
const version = "ES2023";
var isAwesome = true;

console.log(\`Welcome to \${name} \${version}!\`);

// Functions
function greet(name) {
    return \`Hello, \${name}!\`;
}

console.log(greet("Developer"));`,videoId:"PkZNo7MFNFg",exercises:[{question:"How do you declare a variable in JavaScript?",answer:"let, const, or var"},{question:"What is the difference between let and const?",answer:"const cannot be reassigned"}]},{title:"JavaScript Variables & Data Types",content:`JavaScript has dynamic types. Variables can hold different data types.

Primitive Data Types:
 String - text data
 Number - integers and floats
 Boolean - true/false
 Undefined - declared but not assigned
 Null - intentional absence of value
 Symbol - unique identifier
 BigInt - large integers

Non-primitive:
 Object - collections of key-value pairs
 Array - ordered lists
 Function - reusable code blocks`,code:`// Data types
let text = "Hello World";        // String
let number = 42;                 // Number
let decimal = 3.14;              // Number
let isTrue = true;               // Boolean
let notDefined;                  // Undefined
let empty = null;                // Null

// Arrays
let fruits = ["apple", "banana", "orange"];
console.log(fruits[0]);

// Objects
let person = {
    name: "John",
    age: 30,
    city: "New York"
};
console.log(person.name);

// Type checking
console.log(typeof text);
console.log(typeof number);
console.log(typeof isTrue);`,videoId:"hdI2bqOjy3c",exercises:[{question:"What does typeof operator do?",answer:"Returns the type of a variable"},{question:"How do you access object properties?",answer:"dot notation or bracket notation"}]},{title:"JavaScript Functions",content:`Functions are reusable blocks of code that perform specific tasks.

Function Types:
 Function declarations
 Function expressions
 Arrow functions
 Anonymous functions
 IIFE (Immediately Invoked Function Expression)

Function Features:
 Parameters and arguments
 Return values
 Scope and closures
 Higher-order functions`,code:`// Function declaration
function add(a, b) {
    return a + b;
}

// Function expression
const multiply = function(a, b) {
    return a * b;
};

// Arrow function
const divide = (a, b) => a / b;

// Arrow function with block
const greet = (name) => {
    const message = \`Hello, \${name}!\`;
    return message;
};

console.log(add(5, 3));
console.log(multiply(4, 2));
console.log(divide(10, 2));
console.log(greet("Alice"));

// Higher-order function
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(n => n * 2);
console.log(doubled);`,videoId:"N8ap4k_1QEQ",exercises:[{question:"What is an arrow function?",answer:"A shorter way to write functions using =>"},{question:"What does the map() method do?",answer:"Creates a new array with transformed elements"}]},{title:"JavaScript Arrays",content:`Arrays are ordered collections of items. JavaScript arrays are dynamic and can hold mixed data types.

Array Methods:
 push() - add to end
 pop() - remove from end
 shift() - remove from beginning
 unshift() - add to beginning
 slice() - extract portion
 splice() - modify array
 forEach() - iterate
 map() - transform elements
 filter() - select elements
 reduce() - accumulate values`,code:`// Creating arrays
let fruits = ["apple", "banana", "cherry"];
let numbers = [1, 2, 3, 4, 5];
let mixed = ["hello", 42, true, null];

console.log(fruits.length);

// Adding elements
fruits.push("orange");
fruits.unshift("grape");
console.log(fruits);

// Removing elements
let lastFruit = fruits.pop();
let firstFruit = fruits.shift();
console.log(lastFruit, firstFruit);

// Array methods
let doubled = numbers.map(n => n * 2);
let evens = numbers.filter(n => n % 2 === 0);
let sum = numbers.reduce((acc, n) => acc + n, 0);

console.log("Doubled:", doubled);
console.log("Evens:", evens);
console.log("Sum:", sum);

// Array destructuring
let [first, second, ...rest] = fruits;
console.log(first, second, rest);`,videoId:"7W4pQQ20nJg",exercises:[{question:"How do you add an element to the end of an array?",answer:"push() method"},{question:"What does filter() method return?",answer:"A new array with elements that pass the test"}]},{title:"JavaScript Objects & DOM",content:`Objects are collections of key-value pairs. The DOM (Document Object Model) represents the HTML document structure.

Object Features:
 Properties and methods
 Object literals
 Constructor functions
 Classes (ES6+)
 Prototypes

DOM Manipulation:
 Selecting elements
 Modifying content
 Changing styles
 Event handling
 Creating elements`,code:`// Object literal
let car = {
    brand: "Toyota",
    model: "Camry",
    year: 2023,
    start: function() {
        console.log("Car started!");
    }
};

console.log(car.brand);
car.start();

// Constructor function
function Person(name, age) {
    this.name = name;
    this.age = age;
    this.greet = function() {
        return \`Hi, I'm \${this.name}\`;
    };
}

let person1 = new Person("Alice", 25);
console.log(person1.greet());

// ES6 Class
class Animal {
    constructor(name, species) {
        this.name = name;
        this.species = species;
    }
    
    speak() {
        return \`\${this.name} makes a sound\`;
    }
}

let dog = new Animal("Buddy", "Dog");
console.log(dog.speak());

// DOM manipulation (in browser)
// document.getElementById("myElement").innerHTML = "New content";
// document.querySelector(".myClass").style.color = "red";`,videoId:"EfAl9bwzVZk",exercises:[{question:"How do you create an object in JavaScript?",answer:"Object literal {} or constructor function"},{question:"What is the DOM?",answer:"Document Object Model - represents HTML structure"}]}],i=c=>{r(u=>new Set([...u,c]))},o=s[t];return l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sticky top-4",children:[l.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center",children:[l.jsx(ca,{className:"w-5 h-5 mr-2 text-yellow-600"}),"JavaScript Course"]}),l.jsx("div",{className:"space-y-2",children:s.map((c,u)=>l.jsx("button",{onClick:()=>e(u),className:`w-full text-left p-3 rounded-lg transition-colors ${t===u?"bg-yellow-100 border-l-4 border-yellow-500":"hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:c.title}),n.has(u)&&l.jsx(O1,{className:"w-4 h-4 text-green-500"})]})},u))}),l.jsxs("div",{className:"mt-6 p-3 bg-yellow-50 rounded-lg",children:[l.jsxs("div",{className:"text-sm text-yellow-800",children:["Progress: ",n.size,"/",s.length," lessons"]}),l.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all",style:{width:`${n.size/s.length*100}%`}})})]})]})}),l.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:o.title}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Lesson ",t+1," of ",s.length]}),l.jsx("button",{onClick:()=>i(t),className:`px-4 py-2 rounded-lg text-sm font-medium ${n.has(t)?"bg-green-100 text-green-800":"bg-yellow-500 text-white hover:bg-yellow-600"}`,children:n.has(t)?"Completed":"Mark Complete"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[l.jsx(Om,{className:"w-5 h-5 mr-2 text-red-600"}),"Video Tutorial"]}),l.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:l.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${o.videoId}`,title:o.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Lesson Content"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:o.content})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[l.jsx(wn,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Try it Yourself"]}),l.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:l.jsx("pre",{className:"text-yellow-400 text-sm",children:l.jsx("code",{children:o.code})})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsxs("button",{className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 flex items-center",children:[l.jsx(ua,{className:"w-4 h-4 mr-2"}),"Run Code"]}),l.jsxs("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center",children:[l.jsx(U1,{className:"w-4 h-4 mr-2"}),"Open in Editor"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Practice Exercises"}),l.jsx("div",{className:"space-y-4",children:o.exercises.map((c,u)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:["Q",u+1,": ",c.question]}),l.jsxs("details",{className:"text-sm text-gray-600",children:[l.jsx("summary",{className:"cursor-pointer text-yellow-600 hover:text-yellow-800",children:"Show Answer"}),l.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:c.answer})]})]},u))})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>e(Math.max(0,t-1)),disabled:t===0,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous Lesson"}),l.jsx("button",{onClick:()=>e(Math.min(s.length-1,t+1)),disabled:t===s.length-1,className:"px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Lesson"})]})]})]})})},nj=()=>l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx(tj,{})}),rj=()=>l.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Java Course"}),l.jsx("p",{className:"text-gray-600",children:"Object-Oriented Programming Mastery"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Our comprehensive Java course is under development. You'll learn:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[l.jsx("li",{children:"Java fundamentals and syntax"}),l.jsx("li",{children:"Object-oriented programming concepts"}),l.jsx("li",{children:"Collections and data structures"}),l.jsx("li",{children:"Exception handling"}),l.jsx("li",{children:"File I/O and networking"}),l.jsx("li",{children:"GUI development with Swing"})]})]})]})}),sj=()=>l.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"C++ Course"}),l.jsx("p",{className:"text-gray-600",children:"Systems Programming & Performance"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Master C++ programming with our comprehensive course covering:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[l.jsx("li",{children:"C++ fundamentals and syntax"}),l.jsx("li",{children:"Memory management and pointers"}),l.jsx("li",{children:"Object-oriented programming"}),l.jsx("li",{children:"Templates and generic programming"}),l.jsx("li",{children:"STL (Standard Template Library)"}),l.jsx("li",{children:"Advanced topics and best practices"})]})]})]})}),ij=()=>l.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-400 to-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"HTML/CSS Course"}),l.jsx("p",{className:"text-gray-600",children:"Web Design & Frontend Development"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Learn to create beautiful websites with our HTML/CSS course:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[l.jsx("li",{children:"HTML structure and semantic elements"}),l.jsx("li",{children:"CSS styling and layout techniques"}),l.jsx("li",{children:"Responsive web design"}),l.jsx("li",{children:"Flexbox and CSS Grid"}),l.jsx("li",{children:"Animations and transitions"}),l.jsx("li",{children:"Modern CSS features and best practices"})]})]})]})}),oj=()=>l.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"SQL Course"}),l.jsx("p",{className:"text-gray-600",children:"Database Management & Queries"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Master database management with our comprehensive SQL course:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[l.jsx("li",{children:"SQL fundamentals and syntax"}),l.jsx("li",{children:"Database design and normalization"}),l.jsx("li",{children:"Complex queries and joins"}),l.jsx("li",{children:"Stored procedures and functions"}),l.jsx("li",{children:"Database optimization"}),l.jsx("li",{children:"Advanced SQL features"})]})]})]})}),aj=()=>{const{user:t,userProfile:e}=jm(),[n,r]=D.useState([]),[s,i]=D.useState([]),[o,c]=D.useState(null),[u,d]=D.useState(!1),[f,p]=D.useState({name:"",description:"",subject:"python",maxMembers:5});D.useEffect(()=>{var y;const C=A0(md(Gn,"teams"),k0("isPublic","==",!0)),_=j0(C,T=>{const P=T.docs.map(z=>({id:z.id,...z.data()}));r(P)});if(((y=e==null?void 0:e.teamIds)==null?void 0:y.length)>0){const T=A0(md(Gn,"teams"),k0("__name__","in",e.teamIds)),P=j0(T,z=>{const L=z.docs.map(w=>({id:w.id,...w.data()}));i(L)});return()=>{_(),P()}}return _},[e]);const g=async C=>{C.preventDefault();try{const _={...f,createdBy:t.uid,createdAt:new Date,members:[{uid:t.uid,name:e.displayName,role:"leader",joinedAt:new Date,progress:e.progress}],isPublic:!0,stats:{totalStudyHours:0,completedChallenges:0,averageScore:0}},y=await vR(md(Gn,"teams"),_);await pd(qs(Gn,"users",t.uid),{teamIds:gd(y.id)}),d(!1),p({name:"",description:"",subject:"python",maxMembers:5})}catch(_){console.error("Error creating team:",_)}},E=async C=>{try{const _=qs(Gn,"teams",C);await pd(_,{members:gd({uid:t.uid,name:e.displayName,role:"member",joinedAt:new Date,progress:e.progress})}),await pd(qs(Gn,"users",t.uid),{teamIds:gd(C)})}catch(_){console.error("Error joining team:",_)}},b=({team:C,isMyTeam:_=!1})=>{var y,T,P,z,L,w,v,I;return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 border-l-4 border-blue-500",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:C.name}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:C.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(pc,{className:"w-4 h-4 mr-1"}),((y=C.members)==null?void 0:y.length)||0,"/",C.maxMembers]}),l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:C.subject.toUpperCase()})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center text-yellow-500 mb-2",children:[l.jsx(Lm,{className:"w-5 h-5 mr-1"}),l.jsxs("span",{className:"font-bold",children:[((T=C.stats)==null?void 0:T.averageScore)||0,"%"]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Team Score"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center text-green-500 mb-1",children:[l.jsx(ru,{className:"w-4 h-4 mr-1"}),l.jsxs("span",{className:"font-bold",children:[((P=C.stats)==null?void 0:P.totalStudyHours)||0,"h"]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Study Hours"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center text-purple-500 mb-1",children:[l.jsx(br,{className:"w-4 h-4 mr-1"}),l.jsx("span",{className:"font-bold",children:((z=C.stats)==null?void 0:z.completedChallenges)||0})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Challenges"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center text-orange-500 mb-1",children:[l.jsx(da,{className:"w-4 h-4 mr-1"}),l.jsx("span",{className:"font-bold",children:((L=C.members)==null?void 0:L.length)||0})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Active"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[_?l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>c(C),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(B1,{className:"w-4 h-4 mr-2"}),"Chat"]}),l.jsxs("button",{className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Om,{className:"w-4 h-4 mr-2"}),"Meet"]})]}):l.jsxs("button",{onClick:()=>E(C.id),disabled:((w=C.members)==null?void 0:w.length)>=C.maxMembers,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[l.jsx(M0,{className:"w-4 h-4 mr-2"}),"Join Team"]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[(v=C.members)==null?void 0:v.slice(0,3).map((S,A)=>{var R;return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:((R=S.name)==null?void 0:R.charAt(0))||"U"}),S.role==="leader"&&l.jsx(PR,{className:"w-3 h-3 text-yellow-500 absolute -top-1 -right-1"})]},A)}),((I=C.members)==null?void 0:I.length)>3&&l.jsxs("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-xs",children:["+",C.members.length-3]})]})]})]})},k=({team:C})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[C.name," - Team Chat"]}),l.jsx("button",{onClick:()=>c(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsx("div",{className:"h-96 bg-gray-50 rounded-lg p-4 mb-4 overflow-y-auto",children:l.jsx("div",{className:"text-center text-gray-500 py-8",children:"Team chat will be implemented with real-time messaging"})}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Send"})]})]});return o?l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsx(k,{team:o})}):l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Team Study"}),l.jsx("p",{className:"text-gray-600",children:"Collaborate, learn, and grow together"})]}),l.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg",children:[l.jsx(M0,{className:"w-5 h-5 mr-2"}),"Create Team"]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-md",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Create New Team"}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Team Name",value:f.name,onChange:C=>p({...f,name:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("textarea",{placeholder:"Description",value:f.description,onChange:C=>p({...f,description:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"}),l.jsxs("select",{value:f.subject,onChange:C=>p({...f,subject:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"python",children:"Python"}),l.jsx("option",{value:"javascript",children:"JavaScript"}),l.jsx("option",{value:"java",children:"Java"}),l.jsx("option",{value:"cpp",children:"C++"}),l.jsx("option",{value:"html",children:"HTML/CSS"}),l.jsx("option",{value:"sql",children:"SQL"})]}),l.jsx("input",{type:"number",placeholder:"Max Members",value:f.maxMembers,onChange:C=>p({...f,maxMembers:parseInt(C.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"2",max:"20"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Team"}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})}),s.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(OR,{className:"w-6 h-6 mr-2 text-yellow-500"}),"My Teams"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(C=>l.jsx(b,{team:C,isMyTeam:!0},C.id))})]}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx(pc,{className:"w-6 h-6 mr-2 text-blue-500"}),"Discover Teams"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.filter(C=>{var _;return!((_=e==null?void 0:e.teamIds)!=null&&_.includes(C.id))}).map(C=>l.jsx(b,{team:C},C.id))})]})]})})},lj=()=>{const[t,e]=D.useState("week"),n={studyHours:45.5,questionsAnswered:234,averageQuizScore:87,streakDays:12,focusScore:85,completedLessons:28,totalLessons:45,pomodoroSessions:67},r=[{name:"Python",progress:85,hours:15.2,color:"bg-yellow-500"},{name:"JavaScript",progress:72,hours:12.8,color:"bg-yellow-400"},{name:"Java",progress:45,hours:8.5,color:"bg-red-500"},{name:"C++",progress:30,hours:6.2,color:"bg-blue-500"},{name:"HTML/CSS",progress:90,hours:3.1,color:"bg-orange-500"}],s=[{day:"Mon",hours:2.5,focus:85},{day:"Tue",hours:3.2,focus:78},{day:"Wed",hours:1.8,focus:92},{day:"Thu",hours:4.1,focus:88},{day:"Fri",hours:2.9,focus:75},{day:"Sat",hours:3.5,focus:90},{day:"Sun",hours:2.1,focus:82}],i=[{name:"First Steps",description:"Completed your first lesson",icon:"",earned:!0},{name:"Code Master",description:"Solved 50 coding problems",icon:"",earned:!0},{name:"Quiz Champion",description:"Scored 90%+ on 10 quizzes",icon:"",earned:!0},{name:"Focus Master",description:"Maintained 90%+ focus for 1 hour",icon:"",earned:!1},{name:"Team Player",description:"Joined your first study team",icon:"",earned:!0},{name:"Streak Legend",description:"Study for 30 days straight",icon:"",earned:!1}];return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Learning Analytics"}),l.jsx("p",{className:"text-gray-600",children:"Track your progress and optimize your learning"})]}),l.jsx("div",{className:"flex space-x-2",children:["week","month","year"].map(o=>l.jsx("button",{onClick:()=>e(o),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t===o?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:o.charAt(0).toUpperCase()+o.slice(1)},o))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(ru,{className:"w-6 h-6 text-blue-600"})}),l.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+12%"})]}),l.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[n.studyHours,"h"]}),l.jsx("p",{className:"text-gray-600",children:"Study Hours"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(br,{className:"w-6 h-6 text-green-600"})}),l.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+8%"})]}),l.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[n.averageQuizScore,"%"]}),l.jsx("p",{className:"text-gray-600",children:"Avg Quiz Score"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(Lm,{className:"w-6 h-6 text-orange-600"})}),l.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+2 days"})]}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:n.streakDays}),l.jsx("p",{className:"text-gray-600",children:"Day Streak"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(ls,{className:"w-6 h-6 text-purple-600"})}),l.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+5%"})]}),l.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[n.focusScore,"%"]}),l.jsx("p",{className:"text-gray-600",children:"Focus Score"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Subject Progress"}),l.jsx("div",{className:"space-y-4",children:r.map(o=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-gray-800",children:o.name}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[o.progress,"%"]}),l.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[o.hours,"h"]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`${o.color} h-2 rounded-full transition-all duration-300`,style:{width:`${o.progress}%`}})})]},o.name))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Weekly Activity"}),l.jsx("div",{className:"space-y-4",children:s.map(o=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium text-gray-700 w-12",children:o.day}),l.jsx("div",{className:"flex-1 mx-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.hours/5*100}%`}})}),l.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[o.hours,"h"]})]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Mm,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:`text-sm font-medium ${o.focus>=85?"text-green-600":o.focus>=70?"text-yellow-600":"text-red-600"}`,children:[o.focus,"%"]})]})]},o.day))})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Achievements"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(o=>l.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${o.earned?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50 opacity-60"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:o.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${o.earned?"text-green-800":"text-gray-600"}`,children:o.name}),o.earned&&l.jsx("span",{className:"text-xs text-green-600 font-medium",children:"EARNED"})]})]}),l.jsx("p",{className:`text-sm ${o.earned?"text-green-700":"text-gray-500"}`,children:o.description})]},o.name))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Learning Insights"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Best Study Time"}),l.jsx("p",{className:"text-blue-700",children:"You're most focused between 2-4 PM"})]}),l.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Strongest Subject"}),l.jsx("p",{className:"text-green-700",children:"HTML/CSS - 90% completion rate"})]}),l.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Improvement Area"}),l.jsx("p",{className:"text-orange-700",children:"Focus on C++ fundamentals"})]})]})]})]})})},cj=()=>{const{subject:t}=k2(),[e,n]=D.useState([]),[r,s]=D.useState(""),[i,o]=D.useState(!1),[c,u]=D.useState(!1),d=D.useRef(null),p={python:{name:"Python",icon:"",color:"from-yellow-400 to-yellow-600"},javascript:{name:"JavaScript",icon:"",color:"from-yellow-400 to-yellow-600"},java:{name:"Java",icon:"",color:"from-red-500 to-red-600"},cpp:{name:"C++",icon:"",color:"from-blue-500 to-blue-600"},"html-css":{name:"HTML/CSS",icon:"",color:"from-orange-400 to-orange-500"},sql:{name:"SQL",icon:"",color:"from-green-500 to-green-600"}}[t]||{name:t,icon:"",color:"from-blue-500 to-purple-600"};D.useEffect(()=>{n([{id:1,type:"ai",content:`Hello! I'm your ${p.name} programming tutor. I'm here to help you learn and master ${p.name}. What would you like to learn today?`,timestamp:new Date,suggestions:["Show me basics","Help with code","Give me a quiz","Suggest a project"]}])},[t]),D.useEffect(()=>{g()},[e]);const g=()=>{var _;(_=d.current)==null||_.scrollIntoView({behavior:"smooth"})},E=async(_=r)=>{if(!_.trim())return;const y={id:Date.now(),type:"user",content:_,timestamp:new Date};n(T=>[...T,y]),s(""),u(!0);try{setTimeout(()=>{const T=b(_,p.name);n(P=>[...P,T]),u(!1)},1e3)}catch(T){console.error("Error sending message:",T),u(!1)}},b=(_,y)=>{const T={"show me basics":{content:`Great! Let's start with ${y} basics. Here are the fundamental concepts you should know:

 Variables and data types
 Control structures (if/else, loops)
 Functions and methods
 Basic syntax and conventions

Would you like me to explain any of these topics in detail?`,suggestions:["Explain variables","Show me functions","Control structures","Give examples"]},"help with code":{content:`I'd be happy to help you with your code! You can:

 Share your code and I'll review it
 Ask about specific errors or bugs
 Get suggestions for optimization
 Learn best practices

What specific coding help do you need?`,suggestions:["Debug my code","Code review","Best practices","Optimization tips"]},"give me a quiz":{content:` **${y} Quiz Question:**

What is the primary purpose of variables in programming?

A) To make code look complex
B) To store and manipulate data
C) To slow down execution
D) To confuse other programmers`,suggestions:["Answer B","Answer A","Answer C","Answer D"]},"suggest a project":{content:` **Project Idea for ${y}:**

**Calculator App**
Build a simple calculator that can perform basic arithmetic operations.

**What you'll learn:**
 User input handling
 Mathematical operations
 Function creation
 Error handling

Would you like me to guide you through building this project step by step?`,suggestions:["Start project","Different project","Show me steps","Help me plan"]}},P={content:`I understand you're asking about: "${_}"

Let me help you with this ${y} topic. I can:

 Provide detailed explanations
 Show you code examples
 Create practice exercises
 Suggest related topics

What would be most helpful for you?`,suggestions:["Explain in detail","Show examples","Give me practice","Related topics"]},z=T[_.toLowerCase()]||P;return{id:Date.now()+1,type:"ai",content:z.content,timestamp:new Date,suggestions:z.suggestions}},k=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),E())},C=()=>{o(!i)};return l.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[l.jsx("div",{className:`bg-gradient-to-r ${p.color} text-white p-6 shadow-lg`,children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center space-x-4",children:[l.jsx("div",{className:"text-4xl",children:p.icon}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold",children:[p.name," Study Session"]}),l.jsx("p",{className:"opacity-90",children:"Interactive AI Programming Tutor"})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.map(_=>l.jsx("div",{className:`flex ${_.type==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-3xl rounded-2xl p-4 ${_.type==="user"?"bg-blue-500 text-white":"bg-white shadow-md border border-gray-200"}`,children:[l.jsx("div",{className:"whitespace-pre-line",children:_.content}),_.suggestions&&l.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:_.suggestions.map((y,T)=>l.jsx("button",{onClick:()=>E(y),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full transition-colors",children:y},T))}),l.jsx("div",{className:"text-xs opacity-70 mt-2",children:_.timestamp.toLocaleTimeString()})]})},_.id)),c&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white shadow-md border border-gray-200 rounded-2xl p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),l.jsx("span",{className:"text-gray-600",children:"AI is thinking..."})]})})}),l.jsx("div",{ref:d})]})}),l.jsx("div",{className:"bg-white border-t border-gray-200 p-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex space-x-2 mb-4",children:[l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[l.jsx(wn,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Code Help"})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[l.jsx(ca,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Explain Topic"})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[l.jsx(br,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Quiz Me"})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[l.jsx(MR,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Project Ideas"})]})]}),l.jsxs("div",{className:"flex items-end space-x-4",children:[l.jsx("div",{className:"flex-1 relative",children:l.jsx("textarea",{value:r,onChange:_=>s(_.target.value),onKeyPress:k,placeholder:`Ask me anything about ${p.name}...`,className:"w-full p-4 border border-gray-300 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx("button",{onClick:()=>E(),disabled:!r.trim()||c,className:"p-3 bg-blue-500 text-white rounded-full hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:l.jsx(LR,{className:"w-5 h-5"})}),l.jsx("button",{onClick:C,className:`p-3 rounded-full transition-colors ${i?"bg-red-500 text-white hover:bg-red-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:i?l.jsx(H1,{className:"w-5 h-5"}):l.jsx(Vm,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-3 bg-gray-200 text-gray-600 rounded-full hover:bg-gray-300 transition-colors",children:l.jsx(UR,{className:"w-5 h-5"})})]})]})]})})]})};const uj=()=>{var s,i;const{user:t,userProfile:e}=jm(),[n,r]=Wh.useState(!0);return t?l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx(WR,{isOpen:n,onToggle:()=>r(!n),currentUser:{id:t.uid,name:(e==null?void 0:e.displayName)||t.email,level:((s=e==null?void 0:e.progress)==null?void 0:s.level)||1,xp:((i=e==null?void 0:e.progress)==null?void 0:i.xp)||0}}),l.jsx("div",{className:`flex-1 transition-all duration-300 ${n?"ml-64":"ml-16"}`,children:l.jsxs(G2,{children:[l.jsx(dt,{path:"/",element:l.jsx(L0,{})}),l.jsx(dt,{path:"/dashboard",element:l.jsx(KR,{})}),l.jsx(dt,{path:"/ultimate",element:l.jsx(L0,{})}),l.jsx(dt,{path:"/pomodoro",element:l.jsx(XR,{})}),l.jsx(dt,{path:"/study/:subject",element:l.jsx(cj,{})}),l.jsx(dt,{path:"/course/python",element:l.jsx(ej,{})}),l.jsx(dt,{path:"/course/javascript",element:l.jsx(nj,{})}),l.jsx(dt,{path:"/course/java",element:l.jsx(rj,{})}),l.jsx(dt,{path:"/course/cpp",element:l.jsx(sj,{})}),l.jsx(dt,{path:"/course/html-css",element:l.jsx(ij,{})}),l.jsx(dt,{path:"/course/sql",element:l.jsx(oj,{})}),l.jsx(dt,{path:"/team",element:l.jsx(aj,{})}),l.jsx(dt,{path:"/analytics",element:l.jsx(lj,{})}),l.jsx(dt,{path:"*",element:l.jsx(q2,{to:"/ultimate",replace:!0})})]})}),l.jsx(GR,{})]}):l.jsx(qR,{})};function dj(){return l.jsx(_R,{children:l.jsx(eS,{children:l.jsx(uj,{})})})}yd.createRoot(document.getElementById("root")).render(l.jsx(Wh.StrictMode,{children:l.jsx(dj,{})}));
